import{u as p,a as _,r as u,o as h,c as r,b as t,d as i,t as x,e as g,w as k,f as w,g as V,h as E,i as o,j as b}from"./index-367fd436.js";const C={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},j={class:"max-w-md w-full space-y-8"},B={key:0,class:"mt-2 text-center text-sm text-gray-600"},N={key:1,class:"mt-2 text-center text-sm text-gray-600"},M={key:2,class:"mt-2 text-center text-sm text-gray-600"},P={key:0,class:"mt-8 space-y-6"},S={class:"text-center"},T={key:1,class:"mt-8 space-y-6"},z={__name:"VerifyEmail",setup(q){const m=w();V();const f=p();_();const a=u(!1),s=u(""),l=u(""),d=async()=>{var n,y;a.value=!0,s.value="",l.value="";const c=m.query.token,e=m.query.email;if(!c||!e){a.value=!1,s.value="Invalid verification link. Please check your email for the correct link.";return}try{await f.verifyEmail(c,e),l.value="Email verified successfully! You can now login to your account."}catch(v){console.error("Email verification error:",v),s.value=((y=(n=v.response)==null?void 0:n.data)==null?void 0:y.message)||"Failed to verify email. Please try again."}finally{a.value=!1}};return h(()=>{d()}),(c,e)=>{const n=E("router-link");return o(),r("div",C,[t("div",j,[t("div",null,[e[0]||(e[0]=t("div",{class:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100"},[t("svg",{class:"h-6 w-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),e[1]||(e[1]=t("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Verifying your email ",-1)),a.value?(o(),r("p",B," Please wait while we verify your email address... ")):i("",!0),s.value?(o(),r("p",N,x(s.value),1)):i("",!0),l.value?(o(),r("p",M,x(l.value),1)):i("",!0)]),!a.value&&l.value?(o(),r("div",P,[t("div",S,[g(n,{to:"/login",class:"font-medium text-primary-600 hover:text-primary-500"},{default:k(()=>e[2]||(e[2]=[b(" Go to login ",-1)])),_:1,__:[2]})])])):i("",!0),!a.value&&s.value?(o(),r("div",T,[t("div",{class:"text-center"},[t("button",{onClick:d,class:"font-medium text-primary-600 hover:text-primary-500"}," Try again ")])])):i("",!0)])])}}};export{z as default};

import{u as T,r as i,o as $,b as r,d as t,J as m,K as I,L as V,F as j,p as z,t as o,f as B,h as L,w as P,g as H,T as J,l as K,m as n,Q,n as Y}from"./index-47cf8562.js";const q={class:"min-h-screen bg-gray-50 py-8"},G={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},O={class:"bg-white rounded-lg shadow-sm p-6 mb-8"},R={class:"flex flex-col sm:flex-row gap-4"},W={class:"flex-1"},X={class:"relative"},Z={class:"sm:w-64"},tt=["value"],et={class:"sm:w-48"},st={class:"bg-white rounded-lg shadow-sm"},ot={class:"px-6 py-4 border-b border-gray-200"},at={class:"flex items-center justify-between"},rt={class:"text-lg font-medium text-gray-900"},nt={class:"flex items-center space-x-2"},lt=["disabled"],it={class:"p-6"},dt={key:0,class:"flex justify-center py-8"},ut={key:1,class:"overflow-x-auto"},ct={class:"min-w-full divide-y divide-gray-200"},pt={class:"bg-white divide-y divide-gray-200"},xt={class:"px-6 py-4 whitespace-nowrap"},gt={class:"flex items-center"},vt={class:"flex-shrink-0 h-10 w-10"},mt={class:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center"},ht={class:"text-sm font-medium text-primary-600"},yt={class:"ml-4"},ft={class:"text-sm font-medium text-gray-900"},_t={class:"text-sm text-gray-500"},wt={class:"px-6 py-4 whitespace-nowrap"},bt={class:"text-sm text-gray-900"},kt={class:"text-sm text-gray-500"},Ct={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},St={class:"px-6 py-4 whitespace-nowrap"},Mt={class:"flex items-center"},Vt={class:"w-full bg-gray-200 rounded-full h-2 mr-2"},jt={class:"text-sm text-gray-600 min-w-0"},zt={class:"px-6 py-4 whitespace-nowrap"},Bt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},At={class:"flex items-center space-x-2"},Et=["onClick"],Nt=["onClick"],Ut={key:2,class:"text-center py-12"},Dt={class:"mt-1 text-sm text-gray-500"},Ft={key:0,class:"mt-6"},It={__name:"InstructorStudents",setup(Tt){const p=T(),g=i(!1),l=i([]),h=i([]),d=i(""),u=i(""),c=i(""),A=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),v=async()=>{var a;g.value=!0;try{const e={search:d.value,course_id:u.value,status:c.value,per_page:100};console.log("ðŸ”„ Fetching students with params:",e);const x=await J.getStudents(e);l.value=x.data.enrollments.data||[],h.value=x.data.courses||[],console.log("ðŸ‘¥ Students loaded:",l.value.length)}catch(e){console.error("âŒ Error fetching students:",e),((a=e.response)==null?void 0:a.status)>=400&&p.error("Failed to load students data"),l.value=[]}finally{g.value=!1}},E=()=>{v()},y=()=>{v()},N=a=>{var e;p.info(`Viewing progress for ${(e=a.student)==null?void 0:e.name}`)},U=a=>{var e;p.info(`Sending message to ${(e=a.student)==null?void 0:e.name}`)},D=()=>{p.info("Exporting students data...")};return $(()=>{v()}),(a,e)=>{const x=K("router-link");return n(),r("div",q,[t("div",G,[e[14]||(e[14]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900"},"Enrolled Students"),t("p",{class:"mt-2 text-gray-600"},"Manage and track your students' progress")],-1)),t("div",O,[t("div",R,[t("div",W,[t("div",X,[m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),type:"text",placeholder:"Search students by name or email...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",onInput:E},null,544),[[I,d.value]]),e[3]||(e[3]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),t("div",Z,[m(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>u.value=s),onChange:y,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[e[4]||(e[4]=t("option",{value:""},"All Courses",-1)),(n(!0),r(j,null,z(h.value,s=>(n(),r("option",{key:s.id,value:s.id},o(s.title),9,tt))),128))],544),[[V,u.value]])]),t("div",et,[m(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>c.value=s),onChange:y,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},e[5]||(e[5]=[t("option",{value:""},"All Status",-1),t("option",{value:"active"},"Active",-1),t("option",{value:"completed"},"Completed",-1),t("option",{value:"inactive"},"Inactive",-1)]),544),[[V,c.value]])])])]),t("div",st,[t("div",ot,[t("div",at,[t("h3",rt," Students ("+o(l.value.length)+") ",1),t("div",nt,[t("button",{onClick:D,class:"btn btn-secondary flex items-center",disabled:l.value.length===0},e[6]||(e[6]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),B(" Export ",-1)]),8,lt)])])]),t("div",it,[g.value?(n(),r("div",dt,e[7]||(e[7]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):l.value.length>0?(n(),r("div",ut,[t("table",ct,[e[10]||(e[10]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Student"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Course"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Enrolled"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Progress"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",pt,[(n(!0),r(j,null,z(l.value,s=>{var f,_,w,b,k,C,S,M;return n(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",xt,[t("div",gt,[t("div",vt,[t("div",mt,[t("span",ht,o((w=(_=(f=s.student)==null?void 0:f.name)==null?void 0:_.charAt(0))==null?void 0:w.toUpperCase()),1)])]),t("div",yt,[t("div",ft,o((b=s.student)==null?void 0:b.name),1),t("div",_t,o((k=s.student)==null?void 0:k.email),1)])])]),t("td",wt,[t("div",bt,o((C=s.course)==null?void 0:C.title),1),t("div",kt,o(((M=(S=s.course)==null?void 0:S.category)==null?void 0:M.name)||"Uncategorized"),1)]),t("td",Ct,o(A(s.created_at)),1),t("td",St,[t("div",Mt,[t("div",Vt,[t("div",{class:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:Q({width:`${s.progress_percentage||0}%`})},null,4)]),t("span",jt,o(s.progress_percentage||0)+"%",1)])]),t("td",zt,[t("span",{class:Y([s.status==="active"?"bg-green-100 text-green-800":s.status==="completed"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800","inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},o(s.status),3)]),t("td",Bt,[t("div",At,[t("button",{onClick:F=>N(s),class:"text-primary-600 hover:text-primary-900",title:"View Progress"},e[8]||(e[8]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,Et),t("button",{onClick:F=>U(s),class:"text-blue-600 hover:text-blue-900",title:"Send Message"},e[9]||(e[9]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)]),8,Nt)])])])}),128))])])])):(n(),r("div",Ut,[e[12]||(e[12]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1)),e[13]||(e[13]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No students found",-1)),t("p",Dt,o(d.value||u.value||c.value?"Try adjusting your search criteria.":"No students have enrolled in your courses yet."),1),!d.value&&!u.value&&!c.value?(n(),r("div",Ft,[L(x,{to:"/instructor/create-course",class:"btn btn-primary"},{default:P(()=>e[11]||(e[11]=[B(" Create Your First Course ",-1)])),_:1,__:[11]})])):H("",!0)]))])])])])}}};export{It as default};

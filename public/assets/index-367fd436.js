(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function o(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=o(a);fetch(a.href,l)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function xl(e){const t=Object.create(null);for(const o of e.split(","))t[o]=1;return o=>o in t}const pt={},Br=[],Es=()=>{},o1=()=>!1,Zn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),gd=e=>e.startsWith("onUpdate:"),Ct=Object.assign,vd=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},r1=Object.prototype.hasOwnProperty,vt=(e,t)=>r1.call(e,t),Be=Array.isArray,Ur=e=>en(e)==="[object Map]",hr=e=>en(e)==="[object Set]",Hu=e=>en(e)==="[object Date]",n1=e=>en(e)==="[object RegExp]",Ge=e=>typeof e=="function",Et=e=>typeof e=="string",zs=e=>typeof e=="symbol",bt=e=>e!==null&&typeof e=="object",hd=e=>(bt(e)||Ge(e))&&Ge(e.then)&&Ge(e.catch),Pf=Object.prototype.toString,en=e=>Pf.call(e),a1=e=>en(e).slice(8,-1),bl=e=>en(e)==="[object Object]",yd=e=>Et(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Vr=xl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wl=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},l1=/-(\w)/g,Qt=wl(e=>e.replace(l1,(t,o)=>o?o.toUpperCase():"")),i1=/\B([A-Z])/g,ys=wl(e=>e.replace(i1,"-$1").toLowerCase()),ea=wl(e=>e.charAt(0).toUpperCase()+e.slice(1)),kn=wl(e=>e?`on${ea(e)}`:""),ds=(e,t)=>!Object.is(e,t),Hr=(e,...t)=>{for(let o=0;o<e.length;o++)e[o](...t)},Ri=(e,t,o,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:o})},Ya=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Xa=e=>{const t=Et(e)?Number(e):NaN;return isNaN(t)?e:t};let zu;const _l=()=>zu||(zu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),d1="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",u1=xl(d1);function ns(e){if(Be(e)){const t={};for(let o=0;o<e.length;o++){const r=e[o],a=Et(r)?m1(r):ns(r);if(a)for(const l in a)t[l]=a[l]}return t}else if(Et(e)||bt(e))return e}const c1=/;(?![^(]*\))/g,f1=/:([^]+)/,p1=/\/\*[^]*?\*\//g;function m1(e){const t={};return e.replace(p1,"").split(c1).forEach(o=>{if(o){const r=o.split(f1);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ue(e){let t="";if(Et(e))t=e;else if(Be(e))for(let o=0;o<e.length;o++){const r=ue(e[o]);r&&(t+=r+" ")}else if(bt(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}function g1(e){if(!e)return null;let{class:t,style:o}=e;return t&&!Et(t)&&(e.class=ue(t)),o&&(e.style=ns(o)),e}const v1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",h1=xl(v1);function Rf(e){return!!e||e===""}function y1(e,t){if(e.length!==t.length)return!1;let o=!0;for(let r=0;o&&r<e.length;r++)o=Yo(e[r],t[r]);return o}function Yo(e,t){if(e===t)return!0;let o=Hu(e),r=Hu(t);if(o||r)return o&&r?e.getTime()===t.getTime():!1;if(o=zs(e),r=zs(t),o||r)return e===t;if(o=Be(e),r=Be(t),o||r)return o&&r?y1(e,t):!1;if(o=bt(e),r=bt(t),o||r){if(!o||!r)return!1;const a=Object.keys(e).length,l=Object.keys(t).length;if(a!==l)return!1;for(const n in e){const i=e.hasOwnProperty(n),d=t.hasOwnProperty(n);if(i&&!d||!i&&d||!Yo(e[n],t[n]))return!1}}return String(e)===String(t)}function Cl(e,t){return e.findIndex(o=>Yo(o,t))}const Mf=e=>!!(e&&e.__v_isRef===!0),E=e=>Et(e)?e:e==null?"":Be(e)||bt(e)&&(e.toString===Pf||!Ge(e.toString))?Mf(e)?E(e.value):JSON.stringify(e,If,2):String(e),If=(e,t)=>Mf(t)?If(e,t.value):Ur(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((o,[r,a],l)=>(o[ei(r,l)+" =>"]=a,o),{})}:hr(t)?{[`Set(${t.size})`]:[...t.values()].map(o=>ei(o))}:zs(t)?ei(t):bt(t)&&!Be(t)&&!bl(t)?String(t):t,ei=(e,t="")=>{var o;return zs(e)?`Symbol(${(o=e.description)!=null?o:t})`:e};function x1(e){return e==null?"initial":typeof e=="string"?e===""?" ":e:String(e)}/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let es;class xd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=es,!t&&es&&(this.index=(es.scopes||(es.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,o;if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].pause();for(t=0,o=this.effects.length;t<o;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,o;if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].resume();for(t=0,o=this.effects.length;t<o;t++)this.effects[t].resume()}}run(t){if(this._active){const o=es;try{return es=this,t()}finally{es=o}}}on(){++this._on===1&&(this.prevScope=es,es=this)}off(){this._on>0&&--this._on===0&&(es=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let o,r;for(o=0,r=this.effects.length;o<r;o++)this.effects[o].stop();for(this.effects.length=0,o=0,r=this.cleanups.length;o<r;o++)this.cleanups[o]();if(this.cleanups.length=0,this.scopes){for(o=0,r=this.scopes.length;o<r;o++)this.scopes[o].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function bd(e){return new xd(e)}function wd(){return es}function Of(e,t=!1){es&&es.cleanups.push(e)}let St;const ti=new WeakSet;class Bn{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,es&&es.active&&es.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ti.has(this)&&(ti.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||jf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Wu(this),Lf(this);const t=St,o=Vs;St=this,Vs=!0;try{return this.fn()}finally{Ff(this),St=t,Vs=o,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)kd(t);this.deps=this.depsTail=void 0,Wu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ti.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Mi(this)&&this.run()}get dirty(){return Mi(this)}}let Df=0,$n,Sn;function jf(e,t=!1){if(e.flags|=8,t){e.next=Sn,Sn=e;return}e.next=$n,$n=e}function _d(){Df++}function Cd(){if(--Df>0)return;if(Sn){let t=Sn;for(Sn=void 0;t;){const o=t.next;t.next=void 0,t.flags&=-9,t=o}}let e;for(;$n;){let t=$n;for($n=void 0;t;){const o=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=o}}if(e)throw e}function Lf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ff(e){let t,o=e.depsTail,r=o;for(;r;){const a=r.prevDep;r.version===-1?(r===o&&(o=a),kd(r),b1(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=o}function Mi(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Nf(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Nf(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Un)||(e.globalVersion=Un,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Mi(e))))return;e.flags|=2;const t=e.dep,o=St,r=Vs;St=e,Vs=!0;try{Lf(e);const a=e.fn(e._value);(t.version===0||ds(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{St=o,Vs=r,Ff(e),e.flags&=-3}}function kd(e,t=!1){const{dep:o,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),o.subs===e&&(o.subs=r,!r&&o.computed)){o.computed.flags&=-5;for(let l=o.computed.deps;l;l=l.nextDep)kd(l,!0)}!t&&!--o.sc&&o.map&&o.map.delete(o.key)}function b1(e){const{prevDep:t,nextDep:o}=e;t&&(t.nextDep=o,e.prevDep=void 0),o&&(o.prevDep=t,e.nextDep=void 0)}function w1(e,t){e.effect instanceof Bn&&(e=e.effect.fn);const o=new Bn(e);t&&Ct(o,t);try{o.run()}catch(a){throw o.stop(),a}const r=o.run.bind(o);return r.effect=o,r}function _1(e){e.effect.stop()}let Vs=!0;const Bf=[];function xo(){Bf.push(Vs),Vs=!1}function bo(){const e=Bf.pop();Vs=e===void 0?!0:e}function Wu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const o=St;St=void 0;try{t()}finally{St=o}}}let Un=0;class C1{constructor(t,o){this.sub=t,this.dep=o,this.version=o.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class kl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!St||!Vs||St===this.computed)return;let o=this.activeLink;if(o===void 0||o.sub!==St)o=this.activeLink=new C1(St,this),St.deps?(o.prevDep=St.depsTail,St.depsTail.nextDep=o,St.depsTail=o):St.deps=St.depsTail=o,Uf(o);else if(o.version===-1&&(o.version=this.version,o.nextDep)){const r=o.nextDep;r.prevDep=o.prevDep,o.prevDep&&(o.prevDep.nextDep=r),o.prevDep=St.depsTail,o.nextDep=void 0,St.depsTail.nextDep=o,St.depsTail=o,St.deps===o&&(St.deps=r)}return o}trigger(t){this.version++,Un++,this.notify(t)}notify(t){_d();try{for(let o=this.subs;o;o=o.prevSub)o.sub.notify()&&o.sub.dep.notify()}finally{Cd()}}}function Uf(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Uf(r)}const o=e.dep.subs;o!==e&&(e.prevSub=o,o&&(o.nextSub=e)),e.dep.subs=e}}const Ja=new WeakMap,dr=Symbol(""),Ii=Symbol(""),Vn=Symbol("");function ts(e,t,o){if(Vs&&St){let r=Ja.get(e);r||Ja.set(e,r=new Map);let a=r.get(o);a||(r.set(o,a=new kl),a.map=r,a.key=o),a.track()}}function mo(e,t,o,r,a,l){const n=Ja.get(e);if(!n){Un++;return}const i=d=>{d&&d.trigger()};if(_d(),t==="clear")n.forEach(i);else{const d=Be(e),f=d&&yd(o);if(d&&o==="length"){const u=Number(r);n.forEach((c,m)=>{(m==="length"||m===Vn||!zs(m)&&m>=u)&&i(c)})}else switch((o!==void 0||n.has(void 0))&&i(n.get(o)),f&&i(n.get(Vn)),t){case"add":d?f&&i(n.get("length")):(i(n.get(dr)),Ur(e)&&i(n.get(Ii)));break;case"delete":d||(i(n.get(dr)),Ur(e)&&i(n.get(Ii)));break;case"set":Ur(e)&&i(n.get(dr));break}}Cd()}function k1(e,t){const o=Ja.get(e);return o&&o.get(t)}function $r(e){const t=ct(e);return t===e?t:(ts(t,"iterate",Vn),As(e)?t:t.map(Yt))}function $l(e){return ts(e=ct(e),"iterate",Vn),e}const $1={__proto__:null,[Symbol.iterator](){return si(this,Symbol.iterator,Yt)},concat(...e){return $r(this).concat(...e.map(t=>Be(t)?$r(t):t))},entries(){return si(this,"entries",e=>(e[1]=Yt(e[1]),e))},every(e,t){return co(this,"every",e,t,void 0,arguments)},filter(e,t){return co(this,"filter",e,t,o=>o.map(Yt),arguments)},find(e,t){return co(this,"find",e,t,Yt,arguments)},findIndex(e,t){return co(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return co(this,"findLast",e,t,Yt,arguments)},findLastIndex(e,t){return co(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return co(this,"forEach",e,t,void 0,arguments)},includes(...e){return oi(this,"includes",e)},indexOf(...e){return oi(this,"indexOf",e)},join(e){return $r(this).join(e)},lastIndexOf(...e){return oi(this,"lastIndexOf",e)},map(e,t){return co(this,"map",e,t,void 0,arguments)},pop(){return un(this,"pop")},push(...e){return un(this,"push",e)},reduce(e,...t){return Ku(this,"reduce",e,t)},reduceRight(e,...t){return Ku(this,"reduceRight",e,t)},shift(){return un(this,"shift")},some(e,t){return co(this,"some",e,t,void 0,arguments)},splice(...e){return un(this,"splice",e)},toReversed(){return $r(this).toReversed()},toSorted(e){return $r(this).toSorted(e)},toSpliced(...e){return $r(this).toSpliced(...e)},unshift(...e){return un(this,"unshift",e)},values(){return si(this,"values",Yt)}};function si(e,t,o){const r=$l(e),a=r[t]();return r!==e&&!As(e)&&(a._next=a.next,a.next=()=>{const l=a._next();return l.value&&(l.value=o(l.value)),l}),a}const S1=Array.prototype;function co(e,t,o,r,a,l){const n=$l(e),i=n!==e&&!As(e),d=n[t];if(d!==S1[t]){const c=d.apply(e,l);return i?Yt(c):c}let f=o;n!==e&&(i?f=function(c,m){return o.call(this,Yt(c),m,e)}:o.length>2&&(f=function(c,m){return o.call(this,c,m,e)}));const u=d.call(n,f,r);return i&&a?a(u):u}function Ku(e,t,o,r){const a=$l(e);let l=o;return a!==e&&(As(e)?o.length>3&&(l=function(n,i,d){return o.call(this,n,i,d,e)}):l=function(n,i,d){return o.call(this,n,Yt(i),d,e)}),a[t](l,...r)}function oi(e,t,o){const r=ct(e);ts(r,"iterate",Vn);const a=r[t](...o);return(a===-1||a===!1)&&Al(o[0])?(o[0]=ct(o[0]),r[t](...o)):a}function un(e,t,o=[]){xo(),_d();const r=ct(e)[t].apply(e,o);return Cd(),bo(),r}const E1=xl("__proto__,__v_isRef,__isVue"),Vf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(zs));function A1(e){zs(e)||(e=String(e));const t=ct(this);return ts(t,"has",e),t.hasOwnProperty(e)}class Hf{constructor(t=!1,o=!1){this._isReadonly=t,this._isShallow=o}get(t,o,r){if(o==="__v_skip")return t.__v_skip;const a=this._isReadonly,l=this._isShallow;if(o==="__v_isReactive")return!a;if(o==="__v_isReadonly")return a;if(o==="__v_isShallow")return l;if(o==="__v_raw")return r===(a?l?Yf:qf:l?Gf:Kf).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const n=Be(t);if(!a){let d;if(n&&(d=$1[o]))return d;if(o==="hasOwnProperty")return A1}const i=Reflect.get(t,o,It(t)?t:r);return(zs(o)?Vf.has(o):E1(o))||(a||ts(t,"get",o),l)?i:It(i)?n&&yd(o)?i:i.value:bt(i)?a?Sd(i):Ye(i):i}}class zf extends Hf{constructor(t=!1){super(!1,t)}set(t,o,r,a){let l=t[o];if(!this._isShallow){const d=wo(l);if(!As(r)&&!wo(r)&&(l=ct(l),r=ct(r)),!Be(t)&&It(l)&&!It(r))return d?!1:(l.value=r,!0)}const n=Be(t)&&yd(o)?Number(o)<t.length:vt(t,o),i=Reflect.set(t,o,r,It(t)?t:a);return t===ct(a)&&(n?ds(r,l)&&mo(t,"set",o,r):mo(t,"add",o,r)),i}deleteProperty(t,o){const r=vt(t,o);t[o];const a=Reflect.deleteProperty(t,o);return a&&r&&mo(t,"delete",o,void 0),a}has(t,o){const r=Reflect.has(t,o);return(!zs(o)||!Vf.has(o))&&ts(t,"has",o),r}ownKeys(t){return ts(t,"iterate",Be(t)?"length":dr),Reflect.ownKeys(t)}}class Wf extends Hf{constructor(t=!1){super(!0,t)}set(t,o){return!0}deleteProperty(t,o){return!0}}const T1=new zf,P1=new Wf,R1=new zf(!0),M1=new Wf(!0),Oi=e=>e,ya=e=>Reflect.getPrototypeOf(e);function I1(e,t,o){return function(...r){const a=this.__v_raw,l=ct(a),n=Ur(l),i=e==="entries"||e===Symbol.iterator&&n,d=e==="keys"&&n,f=a[e](...r),u=o?Oi:t?Qa:Yt;return!t&&ts(l,"iterate",d?Ii:dr),{next(){const{value:c,done:m}=f.next();return m?{value:c,done:m}:{value:i?[u(c[0]),u(c[1])]:u(c),done:m}},[Symbol.iterator](){return this}}}}function xa(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function O1(e,t){const o={get(a){const l=this.__v_raw,n=ct(l),i=ct(a);e||(ds(a,i)&&ts(n,"get",a),ts(n,"get",i));const{has:d}=ya(n),f=t?Oi:e?Qa:Yt;if(d.call(n,a))return f(l.get(a));if(d.call(n,i))return f(l.get(i));l!==n&&l.get(a)},get size(){const a=this.__v_raw;return!e&&ts(ct(a),"iterate",dr),Reflect.get(a,"size",a)},has(a){const l=this.__v_raw,n=ct(l),i=ct(a);return e||(ds(a,i)&&ts(n,"has",a),ts(n,"has",i)),a===i?l.has(a):l.has(a)||l.has(i)},forEach(a,l){const n=this,i=n.__v_raw,d=ct(i),f=t?Oi:e?Qa:Yt;return!e&&ts(d,"iterate",dr),i.forEach((u,c)=>a.call(l,f(u),f(c),n))}};return Ct(o,e?{add:xa("add"),set:xa("set"),delete:xa("delete"),clear:xa("clear")}:{add(a){!t&&!As(a)&&!wo(a)&&(a=ct(a));const l=ct(this);return ya(l).has.call(l,a)||(l.add(a),mo(l,"add",a,a)),this},set(a,l){!t&&!As(l)&&!wo(l)&&(l=ct(l));const n=ct(this),{has:i,get:d}=ya(n);let f=i.call(n,a);f||(a=ct(a),f=i.call(n,a));const u=d.call(n,a);return n.set(a,l),f?ds(l,u)&&mo(n,"set",a,l):mo(n,"add",a,l),this},delete(a){const l=ct(this),{has:n,get:i}=ya(l);let d=n.call(l,a);d||(a=ct(a),d=n.call(l,a)),i&&i.call(l,a);const f=l.delete(a);return d&&mo(l,"delete",a,void 0),f},clear(){const a=ct(this),l=a.size!==0,n=a.clear();return l&&mo(a,"clear",void 0,void 0),n}}),["keys","values","entries",Symbol.iterator].forEach(a=>{o[a]=I1(a,e,t)}),o}function Sl(e,t){const o=O1(e,t);return(r,a,l)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(vt(o,a)&&a in r?o:r,a,l)}const D1={get:Sl(!1,!1)},j1={get:Sl(!1,!0)},L1={get:Sl(!0,!1)},F1={get:Sl(!0,!0)},Kf=new WeakMap,Gf=new WeakMap,qf=new WeakMap,Yf=new WeakMap;function N1(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function B1(e){return e.__v_skip||!Object.isExtensible(e)?0:N1(a1(e))}function Ye(e){return wo(e)?e:El(e,!1,T1,D1,Kf)}function $d(e){return El(e,!1,R1,j1,Gf)}function Sd(e){return El(e,!0,P1,L1,qf)}function U1(e){return El(e,!0,M1,F1,Yf)}function El(e,t,o,r,a){if(!bt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=B1(e);if(l===0)return e;const n=a.get(e);if(n)return n;const i=new Proxy(e,l===2?r:o);return a.set(e,i),i}function Zs(e){return wo(e)?Zs(e.__v_raw):!!(e&&e.__v_isReactive)}function wo(e){return!!(e&&e.__v_isReadonly)}function As(e){return!!(e&&e.__v_isShallow)}function Al(e){return e?!!e.__v_raw:!1}function ct(e){const t=e&&e.__v_raw;return t?ct(t):e}function Tl(e){return!vt(e,"__v_skip")&&Object.isExtensible(e)&&Ri(e,"__v_skip",!0),e}const Yt=e=>bt(e)?Ye(e):e,Qa=e=>bt(e)?Sd(e):e;function It(e){return e?e.__v_isRef===!0:!1}function j(e){return Xf(e,!1)}function Ed(e){return Xf(e,!0)}function Xf(e,t){return It(e)?e:new V1(e,t)}class V1{constructor(t,o){this.dep=new kl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=o?t:ct(t),this._value=o?t:Yt(t),this.__v_isShallow=o}get value(){return this.dep.track(),this._value}set value(t){const o=this._rawValue,r=this.__v_isShallow||As(t)||wo(t);t=r?t:ct(t),ds(t,o)&&(this._rawValue=t,this._value=r?t:Yt(t),this.dep.trigger())}}function H1(e){e.dep&&e.dep.trigger()}function mt(e){return It(e)?e.value:e}function z1(e){return Ge(e)?e():mt(e)}const W1={get:(e,t,o)=>t==="__v_raw"?e:mt(Reflect.get(e,t,o)),set:(e,t,o,r)=>{const a=e[t];return It(a)&&!It(o)?(a.value=o,!0):Reflect.set(e,t,o,r)}};function Ad(e){return Zs(e)?e:new Proxy(e,W1)}class K1{constructor(t){this.__v_isRef=!0,this._value=void 0;const o=this.dep=new kl,{get:r,set:a}=t(o.track.bind(o),o.trigger.bind(o));this._get=r,this._set=a}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Jf(e){return new K1(e)}function Qf(e){const t=Be(e)?new Array(e.length):{};for(const o in e)t[o]=Zf(e,o);return t}class G1{constructor(t,o,r){this._object=t,this._key=o,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return k1(ct(this._object),this._key)}}class q1{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Y1(e,t,o){return It(e)?e:Ge(e)?new q1(e):bt(e)&&arguments.length>1?Zf(e,t,o):j(e)}function Zf(e,t,o){const r=e[t];return It(r)?r:new G1(e,t,o)}class X1{constructor(t,o,r){this.fn=t,this.setter=o,this._value=void 0,this.dep=new kl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Un-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!o,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&St!==this)return jf(this,!0),!0}get value(){const t=this.dep.track();return Nf(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function J1(e,t,o=!1){let r,a;return Ge(e)?r=e:(r=e.get,a=e.set),new X1(r,a,o)}const Q1={GET:"get",HAS:"has",ITERATE:"iterate"},Z1={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},ba={},Za=new WeakMap;let Fo;function eg(){return Fo}function e0(e,t=!1,o=Fo){if(o){let r=Za.get(o);r||Za.set(o,r=[]),r.push(e)}}function tg(e,t,o=pt){const{immediate:r,deep:a,once:l,scheduler:n,augmentJob:i,call:d}=o,f=x=>a?x:As(x)||a===!1||a===0?go(x,1):go(x);let u,c,m,g,y=!1,k=!1;if(It(e)?(c=()=>e.value,y=As(e)):Zs(e)?(c=()=>f(e),y=!0):Be(e)?(k=!0,y=e.some(x=>Zs(x)||As(x)),c=()=>e.map(x=>{if(It(x))return x.value;if(Zs(x))return f(x);if(Ge(x))return d?d(x,2):x()})):Ge(e)?t?c=d?()=>d(e,2):e:c=()=>{if(m){xo();try{m()}finally{bo()}}const x=Fo;Fo=u;try{return d?d(e,3,[g]):e(g)}finally{Fo=x}}:c=Es,t&&a){const x=c,S=a===!0?1/0:a;c=()=>go(x(),S)}const C=wd(),A=()=>{u.stop(),C&&C.active&&vd(C.effects,u)};if(l&&t){const x=t;t=(...S)=>{x(...S),A()}}let T=k?new Array(e.length).fill(ba):ba;const $=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(t){const S=u.run();if(a||y||(k?S.some((h,w)=>ds(h,T[w])):ds(S,T))){m&&m();const h=Fo;Fo=u;try{const w=[S,T===ba?void 0:k&&T[0]===ba?[]:T,g];T=S,d?d(t,3,w):t(...w)}finally{Fo=h}}}else u.run()};return i&&i($),u=new Bn(c),u.scheduler=n?()=>n($,!1):$,g=x=>e0(x,!1,u),m=u.onStop=()=>{const x=Za.get(u);if(x){if(d)d(x,4);else for(const S of x)S();Za.delete(u)}},t?r?$(!0):T=u.run():n?n($.bind(null,!0),!0):u.run(),A.pause=u.pause.bind(u),A.resume=u.resume.bind(u),A.stop=A,A}function go(e,t=1/0,o){if(t<=0||!bt(e)||e.__v_skip||(o=o||new Set,o.has(e)))return e;if(o.add(e),t--,It(e))go(e.value,t,o);else if(Be(e))for(let r=0;r<e.length;r++)go(e[r],t,o);else if(hr(e)||Ur(e))e.forEach(r=>{go(r,t,o)});else if(bl(e)){for(const r in e)go(e[r],t,o);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&go(e[r],t,o)}return e}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const t0=[];function sg(e){t0.push(e)}function og(){t0.pop()}function rg(e,t){}const ng={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},ag={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function tn(e,t,o,r){try{return r?e(...r):e()}catch(a){yr(a,t,o)}}function Is(e,t,o,r){if(Ge(e)){const a=tn(e,t,o,r);return a&&hd(a)&&a.catch(l=>{yr(l,t,o)}),a}if(Be(e)){const a=[];for(let l=0;l<e.length;l++)a.push(Is(e[l],t,o,r));return a}}function yr(e,t,o,r=!0){const a=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:n}=t&&t.appContext.config||pt;if(t){let i=t.parent;const d=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${o}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,d,f)===!1)return}i=i.parent}if(l){xo(),tn(l,null,10,[e,d,f]),bo();return}}lg(e,o,a,r,n)}function lg(e,t,o,r=!0,a=!1){if(a)throw e;console.error(e)}const us=[];let Xs=-1;const zr=[];let No=null,Ir=0;const s0=Promise.resolve();let el=null;function so(e){const t=el||s0;return e?t.then(this?e.bind(this):e):t}function ig(e){let t=Xs+1,o=us.length;for(;t<o;){const r=t+o>>>1,a=us[r],l=zn(a);l<e||l===e&&a.flags&2?t=r+1:o=r}return t}function Td(e){if(!(e.flags&1)){const t=zn(e),o=us[us.length-1];!o||!(e.flags&2)&&t>=zn(o)?us.push(e):us.splice(ig(t),0,e),e.flags|=1,o0()}}function o0(){el||(el=s0.then(r0))}function Hn(e){Be(e)?zr.push(...e):No&&e.id===-1?No.splice(Ir+1,0,e):e.flags&1||(zr.push(e),e.flags|=1),o0()}function Gu(e,t,o=Xs+1){for(;o<us.length;o++){const r=us[o];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;us.splice(o,1),o--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function tl(e){if(zr.length){const t=[...new Set(zr)].sort((o,r)=>zn(o)-zn(r));if(zr.length=0,No){No.push(...t);return}for(No=t,Ir=0;Ir<No.length;Ir++){const o=No[Ir];o.flags&4&&(o.flags&=-2),o.flags&8||o(),o.flags&=-2}No=null,Ir=0}}const zn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function r0(e){const t=Es;try{for(Xs=0;Xs<us.length;Xs++){const o=us[Xs];o&&!(o.flags&8)&&(o.flags&4&&(o.flags&=-2),tn(o,o.i,o.i?15:14),o.flags&4||(o.flags&=-2))}}finally{for(;Xs<us.length;Xs++){const o=us[Xs];o&&(o.flags&=-2)}Xs=-1,us.length=0,tl(),el=null,(us.length||zr.length)&&r0()}}let Or,wa=[];function n0(e,t){var o,r;Or=e,Or?(Or.enabled=!0,wa.forEach(({event:a,args:l})=>Or.emit(a,...l)),wa=[]):typeof window<"u"&&window.HTMLElement&&!((r=(o=window.navigator)==null?void 0:o.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(l=>{n0(l,t)}),setTimeout(()=>{Or||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,wa=[])},3e3)):wa=[]}let Jt=null,Pl=null;function Wn(e){const t=Jt;return Jt=e,Pl=e&&e.type.__scopeId||null,t}function dg(e){Pl=e}function ug(){Pl=null}const cg=e=>ke;function ke(e,t=Jt,o){if(!t||e._n)return e;const r=(...a)=>{r._d&&Vi(-1);const l=Wn(t);let n;try{n=e(...a)}finally{Wn(l),r._d&&Vi(1)}return n};return r._n=!0,r._c=!0,r._d=!0,r}function xe(e,t){if(Jt===null)return e;const o=na(Jt),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[l,n,i,d=pt]=t[a];l&&(Ge(l)&&(l={mounted:l,updated:l}),l.deep&&go(n),r.push({dir:l,instance:o,value:n,oldValue:void 0,arg:i,modifiers:d}))}return e}function Js(e,t,o,r){const a=e.dirs,l=t&&t.dirs;for(let n=0;n<a.length;n++){const i=a[n];l&&(i.oldValue=l[n].value);let d=i.dir[r];d&&(xo(),Is(d,o,8,[e.el,i,e,t]),bo())}}const a0=Symbol("_vte"),l0=e=>e.__isTeleport,En=e=>e&&(e.disabled||e.disabled===""),qu=e=>e&&(e.defer||e.defer===""),Yu=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Xu=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Di=(e,t)=>{const o=e&&e.to;return Et(o)?t?t(o):null:o},i0={name:"Teleport",__isTeleport:!0,process(e,t,o,r,a,l,n,i,d,f){const{mc:u,pc:c,pbc:m,o:{insert:g,querySelector:y,createText:k,createComment:C}}=f,A=En(t.props);let{shapeFlag:T,children:$,dynamicChildren:x}=t;if(e==null){const S=t.el=k(""),h=t.anchor=k("");g(S,o,r),g(h,o,r);const w=(b,P)=>{T&16&&(a&&a.isCE&&(a.ce._teleportTarget=b),u($,b,P,a,l,n,i,d))},_=()=>{const b=t.target=Di(t.props,y),P=d0(b,t,k,g);b&&(n!=="svg"&&Yu(b)?n="svg":n!=="mathml"&&Xu(b)&&(n="mathml"),A||(w(b,P),Da(t,!1)))};A&&(w(o,h),Da(t,!0)),qu(t.props)?(t.el.__isMounted=!1,Wt(()=>{_(),delete t.el.__isMounted},l)):_()}else{if(qu(t.props)&&e.el.__isMounted===!1){Wt(()=>{i0.process(e,t,o,r,a,l,n,i,d,f)},l);return}t.el=e.el,t.targetStart=e.targetStart;const S=t.anchor=e.anchor,h=t.target=e.target,w=t.targetAnchor=e.targetAnchor,_=En(e.props),b=_?o:h,P=_?S:w;if(n==="svg"||Yu(h)?n="svg":(n==="mathml"||Xu(h))&&(n="mathml"),x?(m(e.dynamicChildren,x,b,a,l,n,i),Bd(e,t,!0)):d||c(e,t,b,P,a,l,n,i,!1),A)_?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):_a(t,o,S,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const R=t.target=Di(t.props,y);R&&_a(t,R,null,f,0)}else _&&_a(t,h,w,f,1);Da(t,A)}},remove(e,t,o,{um:r,o:{remove:a}},l){const{shapeFlag:n,children:i,anchor:d,targetStart:f,targetAnchor:u,target:c,props:m}=e;if(c&&(a(f),a(u)),l&&a(d),n&16){const g=l||!En(m);for(let y=0;y<i.length;y++){const k=i[y];r(k,t,o,g,!!k.dynamicChildren)}}},move:_a,hydrate:fg};function _a(e,t,o,{o:{insert:r},m:a},l=2){l===0&&r(e.targetAnchor,t,o);const{el:n,anchor:i,shapeFlag:d,children:f,props:u}=e,c=l===2;if(c&&r(n,t,o),(!c||En(u))&&d&16)for(let m=0;m<f.length;m++)a(f[m],t,o,2);c&&r(i,t,o)}function fg(e,t,o,r,a,l,{o:{nextSibling:n,parentNode:i,querySelector:d,insert:f,createText:u}},c){const m=t.target=Di(t.props,d);if(m){const g=En(t.props),y=m._lpa||m.firstChild;if(t.shapeFlag&16)if(g)t.anchor=c(n(e),t,i(e),o,r,a,l),t.targetStart=y,t.targetAnchor=y&&n(y);else{t.anchor=n(e);let k=y;for(;k;){if(k&&k.nodeType===8){if(k.data==="teleport start anchor")t.targetStart=k;else if(k.data==="teleport anchor"){t.targetAnchor=k,m._lpa=t.targetAnchor&&n(t.targetAnchor);break}}k=n(k)}t.targetAnchor||d0(m,t,u,f),c(y&&n(y),t,m,o,r,a,l)}Da(t,g)}return t.anchor&&n(t.anchor)}const pg=i0;function Da(e,t){const o=e.ctx;if(o&&o.ut){let r,a;for(t?(r=e.el,a=e.anchor):(r=e.targetStart,a=e.targetAnchor);r&&r!==a;)r.nodeType===1&&r.setAttribute("data-v-owner",o.uid),r=r.nextSibling;o.ut()}}function d0(e,t,o,r){const a=t.targetStart=o(""),l=t.targetAnchor=o("");return a[a0]=l,e&&(r(a,e),r(l,e)),l}const Bo=Symbol("_leaveCb"),Ca=Symbol("_enterCb");function Pd(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return it(()=>{e.isMounted=!0}),sa(()=>{e.isUnmounting=!0}),e}const Ps=[Function,Array],Rd={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ps,onEnter:Ps,onAfterEnter:Ps,onEnterCancelled:Ps,onBeforeLeave:Ps,onLeave:Ps,onAfterLeave:Ps,onLeaveCancelled:Ps,onBeforeAppear:Ps,onAppear:Ps,onAfterAppear:Ps,onAppearCancelled:Ps},u0=e=>{const t=e.subTree;return t.component?u0(t.component):t},mg={name:"BaseTransition",props:Rd,setup(e,{slots:t}){const o=cs(),r=Pd();return()=>{const a=t.default&&Rl(t.default(),!0);if(!a||!a.length)return;const l=c0(a),n=ct(e),{mode:i}=n;if(r.isLeaving)return ri(l);const d=Ju(l);if(!d)return ri(l);let f=Gr(d,n,r,o,c=>f=c);d.type!==Bt&&_o(d,f);let u=o.subTree&&Ju(o.subTree);if(u&&u.type!==Bt&&!Bs(d,u)&&u0(o).type!==Bt){let c=Gr(u,n,r,o);if(_o(u,c),i==="out-in"&&d.type!==Bt)return r.isLeaving=!0,c.afterLeave=()=>{r.isLeaving=!1,o.job.flags&8||o.update(),delete c.afterLeave,u=void 0},ri(l);i==="in-out"&&d.type!==Bt?c.delayLeave=(m,g,y)=>{const k=p0(r,u);k[String(u.key)]=u,m[Bo]=()=>{g(),m[Bo]=void 0,delete f.delayedLeave,u=void 0},f.delayedLeave=()=>{y(),delete f.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return l}}};function c0(e){let t=e[0];if(e.length>1){for(const o of e)if(o.type!==Bt){t=o;break}}return t}const f0=mg;function p0(e,t){const{leavingVNodes:o}=e;let r=o.get(t.type);return r||(r=Object.create(null),o.set(t.type,r)),r}function Gr(e,t,o,r,a){const{appear:l,mode:n,persisted:i=!1,onBeforeEnter:d,onEnter:f,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:m,onLeave:g,onAfterLeave:y,onLeaveCancelled:k,onBeforeAppear:C,onAppear:A,onAfterAppear:T,onAppearCancelled:$}=t,x=String(e.key),S=p0(o,e),h=(b,P)=>{b&&Is(b,r,9,P)},w=(b,P)=>{const R=P[1];h(b,P),Be(b)?b.every(M=>M.length<=1)&&R():b.length<=1&&R()},_={mode:n,persisted:i,beforeEnter(b){let P=d;if(!o.isMounted)if(l)P=C||d;else return;b[Bo]&&b[Bo](!0);const R=S[x];R&&Bs(e,R)&&R.el[Bo]&&R.el[Bo](),h(P,[b])},enter(b){let P=f,R=u,M=c;if(!o.isMounted)if(l)P=A||f,R=T||u,M=$||c;else return;let D=!1;const J=b[Ca]=G=>{D||(D=!0,G?h(M,[b]):h(R,[b]),_.delayedLeave&&_.delayedLeave(),b[Ca]=void 0)};P?w(P,[b,J]):J()},leave(b,P){const R=String(e.key);if(b[Ca]&&b[Ca](!0),o.isUnmounting)return P();h(m,[b]);let M=!1;const D=b[Bo]=J=>{M||(M=!0,P(),J?h(k,[b]):h(y,[b]),b[Bo]=void 0,S[R]===e&&delete S[R])};S[R]=e,g?w(g,[b,D]):D()},clone(b){const P=Gr(b,t,o,r,a);return a&&a(P),P}};return _}function ri(e){if(ta(e))return e=oo(e),e.children=null,e}function Ju(e){if(!ta(e))return l0(e.type)&&e.children?c0(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:o}=e;if(o){if(t&16)return o[0];if(t&32&&Ge(o.default))return o.default()}}function _o(e,t){e.shapeFlag&6&&e.component?(e.transition=t,_o(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Rl(e,t=!1,o){let r=[],a=0;for(let l=0;l<e.length;l++){let n=e[l];const i=o==null?n.key:String(o)+String(n.key!=null?n.key:l);n.type===_e?(n.patchFlag&128&&a++,r=r.concat(Rl(n.children,t,i))):(t||n.type!==Bt)&&r.push(i!=null?oo(n,{key:i}):n)}if(a>1)for(let l=0;l<r.length;l++)r[l].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ds(e,t){return Ge(e)?(()=>Ct({name:e.name},t,{setup:e}))():e}function gg(){const e=cs();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function Md(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function vg(e){const t=cs(),o=Ed(null);if(t){const a=t.refs===pt?t.refs={}:t.refs;Object.defineProperty(a,e,{enumerable:!0,get:()=>o.value,set:l=>o.value=l})}return o}function Wr(e,t,o,r,a=!1){if(Be(e)){e.forEach((y,k)=>Wr(y,t&&(Be(t)?t[k]:t),o,r,a));return}if(Go(r)&&!a){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Wr(e,t,o,r.component.subTree);return}const l=r.shapeFlag&4?na(r.component):r.el,n=a?null:l,{i,r:d}=e,f=t&&t.r,u=i.refs===pt?i.refs={}:i.refs,c=i.setupState,m=ct(c),g=c===pt?()=>!1:y=>vt(m,y);if(f!=null&&f!==d&&(Et(f)?(u[f]=null,g(f)&&(c[f]=null)):It(f)&&(f.value=null)),Ge(d))tn(d,i,12,[n,u]);else{const y=Et(d),k=It(d);if(y||k){const C=()=>{if(e.f){const A=y?g(d)?c[d]:u[d]:d.value;a?Be(A)&&vd(A,l):Be(A)?A.includes(l)||A.push(l):y?(u[d]=[l],g(d)&&(c[d]=u[d])):(d.value=[l],e.k&&(u[e.k]=d.value))}else y?(u[d]=n,g(d)&&(c[d]=n)):k&&(d.value=n,e.k&&(u[e.k]=n))};n?(C.id=-1,Wt(C,o)):C()}}}let Qu=!1;const Sr=()=>{Qu||(console.error("Hydration completed but contains mismatches."),Qu=!0)},hg=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",yg=e=>e.namespaceURI.includes("MathML"),ka=e=>{if(e.nodeType===1){if(hg(e))return"svg";if(yg(e))return"mathml"}},Fr=e=>e.nodeType===8;function xg(e){const{mt:t,p:o,o:{patchProp:r,createText:a,nextSibling:l,parentNode:n,remove:i,insert:d,createComment:f}}=e,u=($,x)=>{if(!x.hasChildNodes()){o(null,$,x),tl(),x._vnode=$;return}c(x.firstChild,$,null,null,null),tl(),x._vnode=$},c=($,x,S,h,w,_=!1)=>{_=_||!!x.dynamicChildren;const b=Fr($)&&$.data==="[",P=()=>k($,x,S,h,w,b),{type:R,ref:M,shapeFlag:D,patchFlag:J}=x;let G=$.nodeType;x.el=$,J===-2&&(_=!1,x.dynamicChildren=null);let B=null;switch(R){case qo:G!==3?x.children===""?(d(x.el=a(""),n($),$),B=$):B=P():($.data!==x.children&&(Sr(),$.data=x.children),B=l($));break;case Bt:T($)?(B=l($),A(x.el=$.content.firstChild,$,S)):G!==8||b?B=P():B=l($);break;case cr:if(b&&($=l($),G=$.nodeType),G===1||G===3){B=$;const X=!x.children.length;for(let te=0;te<x.staticCount;te++)X&&(x.children+=B.nodeType===1?B.outerHTML:B.data),te===x.staticCount-1&&(x.anchor=B),B=l(B);return b?l(B):B}else P();break;case _e:b?B=y($,x,S,h,w,_):B=P();break;default:if(D&1)(G!==1||x.type.toLowerCase()!==$.tagName.toLowerCase())&&!T($)?B=P():B=m($,x,S,h,w,_);else if(D&6){x.slotScopeIds=w;const X=n($);if(b?B=C($):Fr($)&&$.data==="teleport start"?B=C($,$.data,"teleport end"):B=l($),t(x,X,null,S,h,ka(X),_),Go(x)&&!x.type.__asyncResolved){let te;b?(te=pe(_e),te.anchor=B?B.previousSibling:X.lastChild):te=$.nodeType===3?de(""):pe("div"),te.el=$,x.component.subTree=te}}else D&64?G!==8?B=P():B=x.type.hydrate($,x,S,h,w,_,e,g):D&128&&(B=x.type.hydrate($,x,S,h,ka(n($)),w,_,e,c))}return M!=null&&Wr(M,null,h,x),B},m=($,x,S,h,w,_)=>{_=_||!!x.dynamicChildren;const{type:b,props:P,patchFlag:R,shapeFlag:M,dirs:D,transition:J}=x,G=b==="input"||b==="option";if(G||R!==-1){D&&Js(x,null,S,"created");let B=!1;if(T($)){B=B0(null,J)&&S&&S.vnode.props&&S.vnode.props.appear;const te=$.content.firstChild;if(B){const se=te.getAttribute("class");se&&(te.$cls=se),J.beforeEnter(te)}A(te,$,S),x.el=$=te}if(M&16&&!(P&&(P.innerHTML||P.textContent))){let te=g($.firstChild,x,$,S,h,w,_);for(;te;){$a($,1)||Sr();const se=te;te=te.nextSibling,i(se)}}else if(M&8){let te=x.children;te[0]===`
`&&($.tagName==="PRE"||$.tagName==="TEXTAREA")&&(te=te.slice(1)),$.textContent!==te&&($a($,0)||Sr(),$.textContent=x.children)}if(P){if(G||!_||R&48){const te=$.tagName.includes("-");for(const se in P)(G&&(se.endsWith("value")||se==="indeterminate")||Zn(se)&&!Vr(se)||se[0]==="."||te)&&r($,se,null,P[se],void 0,S)}else if(P.onClick)r($,"onClick",null,P.onClick,void 0,S);else if(R&4&&Zs(P.style))for(const te in P.style)P.style[te]}let X;(X=P&&P.onVnodeBeforeMount)&&vs(X,S,x),D&&Js(x,null,S,"beforeMount"),((X=P&&P.onVnodeMounted)||D||B)&&Y0(()=>{X&&vs(X,S,x),B&&J.enter($),D&&Js(x,null,S,"mounted")},h)}return $.nextSibling},g=($,x,S,h,w,_,b)=>{b=b||!!x.dynamicChildren;const P=x.children,R=P.length;for(let M=0;M<R;M++){const D=b?P[M]:P[M]=hs(P[M]),J=D.type===qo;$?(J&&!b&&M+1<R&&hs(P[M+1]).type===qo&&(d(a($.data.slice(D.children.length)),S,l($)),$.data=D.children),$=c($,D,h,w,_,b)):J&&!D.children?d(D.el=a(""),S):($a(S,1)||Sr(),o(null,D,S,null,h,w,ka(S),_))}return $},y=($,x,S,h,w,_)=>{const{slotScopeIds:b}=x;b&&(w=w?w.concat(b):b);const P=n($),R=g(l($),x,P,S,h,w,_);return R&&Fr(R)&&R.data==="]"?l(x.anchor=R):(Sr(),d(x.anchor=f("]"),P,R),R)},k=($,x,S,h,w,_)=>{if($a($.parentElement,1)||Sr(),x.el=null,_){const R=C($);for(;;){const M=l($);if(M&&M!==R)i(M);else break}}const b=l($),P=n($);return i($),o(null,x,P,b,S,h,ka(P),w),S&&(S.vnode.el=x.el,Dl(S,x.el)),b},C=($,x="[",S="]")=>{let h=0;for(;$;)if($=l($),$&&Fr($)&&($.data===x&&h++,$.data===S)){if(h===0)return l($);h--}return $},A=($,x,S)=>{const h=x.parentNode;h&&h.replaceChild($,x);let w=S;for(;w;)w.vnode.el===x&&(w.vnode.el=w.subTree.el=$),w=w.parent},T=$=>$.nodeType===1&&$.tagName==="TEMPLATE";return[u,c]}const Zu="data-allow-mismatch",bg={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function $a(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(Zu);)e=e.parentElement;const o=e&&e.getAttribute(Zu);if(o==null)return!1;if(o==="")return!0;{const r=o.split(",");return t===0&&r.includes("children")?!0:r.includes(bg[t])}}const wg=_l().requestIdleCallback||(e=>setTimeout(e,1)),_g=_l().cancelIdleCallback||(e=>clearTimeout(e)),Cg=(e=1e4)=>t=>{const o=wg(t,{timeout:e});return()=>_g(o)};function kg(e){const{top:t,left:o,bottom:r,right:a}=e.getBoundingClientRect(),{innerHeight:l,innerWidth:n}=window;return(t>0&&t<l||r>0&&r<l)&&(o>0&&o<n||a>0&&a<n)}const $g=e=>(t,o)=>{const r=new IntersectionObserver(a=>{for(const l of a)if(l.isIntersecting){r.disconnect(),t();break}},e);return o(a=>{if(a instanceof Element){if(kg(a))return t(),r.disconnect(),!1;r.observe(a)}}),()=>r.disconnect()},Sg=e=>t=>{if(e){const o=matchMedia(e);if(o.matches)t();else return o.addEventListener("change",t,{once:!0}),()=>o.removeEventListener("change",t)}},Eg=(e=[])=>(t,o)=>{Et(e)&&(e=[e]);let r=!1;const a=n=>{r||(r=!0,l(),t(),n.target.dispatchEvent(new n.constructor(n.type,n)))},l=()=>{o(n=>{for(const i of e)n.removeEventListener(i,a)})};return o(n=>{for(const i of e)n.addEventListener(i,a,{once:!0})}),l};function Ag(e,t){if(Fr(e)&&e.data==="["){let o=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(Fr(r))if(r.data==="]"){if(--o===0)break}else r.data==="["&&o++;r=r.nextSibling}}else t(e)}const Go=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Tg(e){Ge(e)&&(e={loader:e});const{loader:t,loadingComponent:o,errorComponent:r,delay:a=200,hydrate:l,timeout:n,suspensible:i=!0,onError:d}=e;let f=null,u,c=0;const m=()=>(c++,f=null,g()),g=()=>{let y;return f||(y=f=t().catch(k=>{if(k=k instanceof Error?k:new Error(String(k)),d)return new Promise((C,A)=>{d(k,()=>C(m()),()=>A(k),c+1)});throw k}).then(k=>y!==f&&f?f:(k&&(k.__esModule||k[Symbol.toStringTag]==="Module")&&(k=k.default),u=k,k)))};return Ds({name:"AsyncComponentWrapper",__asyncLoader:g,__asyncHydrate(y,k,C){let A=!1;(k.bu||(k.bu=[])).push(()=>A=!0);const T=()=>{A||C()},$=l?()=>{const x=l(T,S=>Ag(y,S));x&&(k.bum||(k.bum=[])).push(x)}:T;u?$():g().then(()=>!k.isUnmounted&&$())},get __asyncResolved(){return u},setup(){const y=Xt;if(Md(y),u)return()=>ni(u,y);const k=$=>{f=null,yr($,y,13,!r)};if(i&&y.suspense||qr)return g().then($=>()=>ni($,y)).catch($=>(k($),()=>r?pe(r,{error:$}):null));const C=j(!1),A=j(),T=j(!!a);return a&&setTimeout(()=>{T.value=!1},a),n!=null&&setTimeout(()=>{if(!C.value&&!A.value){const $=new Error(`Async component timed out after ${n}ms.`);k($),A.value=$}},n),g().then(()=>{C.value=!0,y.parent&&ta(y.parent.vnode)&&y.parent.update()}).catch($=>{k($),A.value=$}),()=>{if(C.value&&u)return ni(u,y);if(A.value&&r)return pe(r,{error:A.value});if(o&&!T.value)return pe(o)}}})}function ni(e,t){const{ref:o,props:r,children:a,ce:l}=t.vnode,n=pe(e,r,a);return n.ref=o,n.ce=l,delete t.vnode.ce,n}const ta=e=>e.type.__isKeepAlive,Pg={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const o=cs(),r=o.ctx;if(!r.renderer)return()=>{const T=t.default&&t.default();return T&&T.length===1?T[0]:T};const a=new Map,l=new Set;let n=null;const i=o.suspense,{renderer:{p:d,m:f,um:u,o:{createElement:c}}}=r,m=c("div");r.activate=(T,$,x,S,h)=>{const w=T.component;f(T,$,x,0,i),d(w.vnode,T,$,x,w,i,S,T.slotScopeIds,h),Wt(()=>{w.isDeactivated=!1,w.a&&Hr(w.a);const _=T.props&&T.props.onVnodeMounted;_&&vs(_,w.parent,T)},i)},r.deactivate=T=>{const $=T.component;ol($.m),ol($.a),f(T,m,null,1,i),Wt(()=>{$.da&&Hr($.da);const x=T.props&&T.props.onVnodeUnmounted;x&&vs(x,$.parent,T),$.isDeactivated=!0},i)};function g(T){ai(T),u(T,o,i,!0)}function y(T){a.forEach(($,x)=>{const S=Gi($.type);S&&!T(S)&&k(x)})}function k(T){const $=a.get(T);$&&(!n||!Bs($,n))?g($):n&&ai(n),a.delete(T),l.delete(T)}xt(()=>[e.include,e.exclude],([T,$])=>{T&&y(x=>yn(T,x)),$&&y(x=>!yn($,x))},{flush:"post",deep:!0});let C=null;const A=()=>{C!=null&&(rl(o.subTree.type)?Wt(()=>{a.set(C,Sa(o.subTree))},o.subTree.suspense):a.set(C,Sa(o.subTree)))};return it(A),Il(A),sa(()=>{a.forEach(T=>{const{subTree:$,suspense:x}=o,S=Sa($);if(T.type===S.type&&T.key===S.key){ai(S);const h=S.component.da;h&&Wt(h,x);return}g(T)})}),()=>{if(C=null,!t.default)return n=null;const T=t.default(),$=T[0];if(T.length>1)return n=null,T;if(!Co($)||!($.shapeFlag&4)&&!($.shapeFlag&128))return n=null,$;let x=Sa($);if(x.type===Bt)return n=null,x;const S=x.type,h=Gi(Go(x)?x.type.__asyncResolved||{}:S),{include:w,exclude:_,max:b}=e;if(w&&(!h||!yn(w,h))||_&&h&&yn(_,h))return x.shapeFlag&=-257,n=x,$;const P=x.key==null?S:x.key,R=a.get(P);return x.el&&(x=oo(x),$.shapeFlag&128&&($.ssContent=x)),C=P,R?(x.el=R.el,x.component=R.component,x.transition&&_o(x,x.transition),x.shapeFlag|=512,l.delete(P),l.add(P)):(l.add(P),b&&l.size>parseInt(b,10)&&k(l.values().next().value)),x.shapeFlag|=256,n=x,rl($.type)?$:x}}},Rg=Pg;function yn(e,t){return Be(e)?e.some(o=>yn(o,t)):Et(e)?e.split(",").includes(t):n1(e)?(e.lastIndex=0,e.test(t)):!1}function m0(e,t){v0(e,"a",t)}function g0(e,t){v0(e,"da",t)}function v0(e,t,o=Xt){const r=e.__wdc||(e.__wdc=()=>{let a=o;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Ml(t,r,o),o){let a=o.parent;for(;a&&a.parent;)ta(a.parent.vnode)&&Mg(r,t,o,a),a=a.parent}}function Mg(e,t,o,r){const a=Ml(t,e,r,!0);no(()=>{vd(r[t],a)},o)}function ai(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Sa(e){return e.shapeFlag&128?e.ssContent:e}function Ml(e,t,o=Xt,r=!1){if(o){const a=o[e]||(o[e]=[]),l=t.__weh||(t.__weh=(...n)=>{xo();const i=mr(o),d=Is(t,o,e,n);return i(),bo(),d});return r?a.unshift(l):a.push(l),l}}const ko=e=>(t,o=Xt)=>{(!qr||e==="sp")&&Ml(e,(...r)=>t(...r),o)},h0=ko("bm"),it=ko("m"),Id=ko("bu"),Il=ko("u"),sa=ko("bum"),no=ko("um"),y0=ko("sp"),x0=ko("rtg"),b0=ko("rtc");function w0(e,t=Xt){Ml("ec",e,t)}const Od="components",Ig="directives";function lt(e,t){return Dd(Od,e,!0,t)||e}const _0=Symbol.for("v-ndc");function Jo(e){return Et(e)?Dd(Od,e,!1)||e:e||_0}function Og(e){return Dd(Ig,e)}function Dd(e,t,o=!0,r=!1){const a=Jt||Xt;if(a){const l=a.type;if(e===Od){const i=Gi(l,!1);if(i&&(i===t||i===Qt(t)||i===ea(Qt(t))))return l}const n=ec(a[e]||l[e],t)||ec(a.appContext[e],t);return!n&&r?l:n}}function ec(e,t){return e&&(e[t]||e[Qt(t)]||e[ea(Qt(t))])}function Ee(e,t,o,r){let a;const l=o&&o[r],n=Be(e);if(n||Et(e)){const i=n&&Zs(e);let d=!1,f=!1;i&&(d=!As(e),f=wo(e),e=$l(e)),a=new Array(e.length);for(let u=0,c=e.length;u<c;u++)a[u]=t(d?f?Qa(Yt(e[u])):Yt(e[u]):e[u],u,void 0,l&&l[u])}else if(typeof e=="number"){a=new Array(e);for(let i=0;i<e;i++)a[i]=t(i+1,i,void 0,l&&l[i])}else if(bt(e))if(e[Symbol.iterator])a=Array.from(e,(i,d)=>t(i,d,void 0,l&&l[d]));else{const i=Object.keys(e);a=new Array(i.length);for(let d=0,f=i.length;d<f;d++){const u=i[d];a[d]=t(e[u],u,d,l&&l[d])}}else a=[];return o&&(o[r]=a),a}function Dg(e,t){for(let o=0;o<t.length;o++){const r=t[o];if(Be(r))for(let a=0;a<r.length;a++)e[r[a].name]=r[a].fn;else r&&(e[r.name]=r.key?(...a)=>{const l=r.fn(...a);return l&&(l.key=r.key),l}:r.fn)}return e}function C0(e,t,o={},r,a){if(Jt.ce||Jt.parent&&Go(Jt.parent)&&Jt.parent.ce)return t!=="default"&&(o.name=t),p(),wt(_e,null,[pe("slot",o,r&&r())],64);let l=e[t];l&&l._c&&(l._d=!1),p();const n=l&&jd(l(o)),i=o.key||n&&n.key,d=wt(_e,{key:(i&&!zs(i)?i:`_${t}`)+(!n&&r?"_fb":"")},n||(r?r():[]),n&&e._===1?64:-2);return!a&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),l&&l._c&&(l._d=!0),d}function jd(e){return e.some(t=>Co(t)?!(t.type===Bt||t.type===_e&&!jd(t.children)):!0)?e:null}function k0(e,t){const o={};for(const r in e)o[t&&/[A-Z]/.test(r)?`on:${r}`:kn(r)]=e[r];return o}const ji=e=>e?tp(e)?na(e):ji(e.parent):null,An=Ct(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ji(e.parent),$root:e=>ji(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ld(e),$forceUpdate:e=>e.f||(e.f=()=>{Td(e.update)}),$nextTick:e=>e.n||(e.n=so.bind(e.proxy)),$watch:e=>fv.bind(e)}),li=(e,t)=>e!==pt&&!e.__isScriptSetup&&vt(e,t),Li={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:o,setupState:r,data:a,props:l,accessCache:n,type:i,appContext:d}=e;let f;if(t[0]!=="$"){const g=n[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return a[t];case 4:return o[t];case 3:return l[t]}else{if(li(r,t))return n[t]=1,r[t];if(a!==pt&&vt(a,t))return n[t]=2,a[t];if((f=e.propsOptions[0])&&vt(f,t))return n[t]=3,l[t];if(o!==pt&&vt(o,t))return n[t]=4,o[t];Fi&&(n[t]=0)}}const u=An[t];let c,m;if(u)return t==="$attrs"&&ts(e.attrs,"get",""),u(e);if((c=i.__cssModules)&&(c=c[t]))return c;if(o!==pt&&vt(o,t))return n[t]=4,o[t];if(m=d.config.globalProperties,vt(m,t))return m[t]},set({_:e},t,o){const{data:r,setupState:a,ctx:l}=e;return li(a,t)?(a[t]=o,!0):r!==pt&&vt(r,t)?(r[t]=o,!0):vt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:r,appContext:a,propsOptions:l}},n){let i;return!!o[n]||e!==pt&&vt(e,n)||li(t,n)||(i=l[0])&&vt(i,n)||vt(r,n)||vt(An,n)||vt(a.config.globalProperties,n)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:vt(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}},jg=Ct({},Li,{get(e,t){if(t!==Symbol.unscopables)return Li.get(e,t,e)},has(e,t){return t[0]!=="_"&&!u1(t)}});function Lg(){return null}function Fg(){return null}function Ng(e){}function Bg(e){}function Ug(){return null}function Vg(){}function Hg(e,t){return null}function zg(){return $0().slots}function Wg(){return $0().attrs}function $0(e){const t=cs();return t.setupContext||(t.setupContext=rp(t))}function Kn(e){return Be(e)?e.reduce((t,o)=>(t[o]=null,t),{}):e}function Kg(e,t){const o=Kn(e);for(const r in t){if(r.startsWith("__skip"))continue;let a=o[r];a?Be(a)||Ge(a)?a=o[r]={type:a,default:t[r]}:a.default=t[r]:a===null&&(a=o[r]={default:t[r]}),a&&t[`__skip_${r}`]&&(a.skipFactory=!0)}return o}function Gg(e,t){return!e||!t?e||t:Be(e)&&Be(t)?e.concat(t):Ct({},Kn(e),Kn(t))}function qg(e,t){const o={};for(const r in e)t.includes(r)||Object.defineProperty(o,r,{enumerable:!0,get:()=>e[r]});return o}function Yg(e){const t=cs();let o=e();return zi(),hd(o)&&(o=o.catch(r=>{throw mr(t),r})),[o,()=>mr(t)]}let Fi=!0;function Xg(e){const t=Ld(e),o=e.proxy,r=e.ctx;Fi=!1,t.beforeCreate&&tc(t.beforeCreate,e,"bc");const{data:a,computed:l,methods:n,watch:i,provide:d,inject:f,created:u,beforeMount:c,mounted:m,beforeUpdate:g,updated:y,activated:k,deactivated:C,beforeDestroy:A,beforeUnmount:T,destroyed:$,unmounted:x,render:S,renderTracked:h,renderTriggered:w,errorCaptured:_,serverPrefetch:b,expose:P,inheritAttrs:R,components:M,directives:D,filters:J}=t;if(f&&Jg(f,r,null),n)for(const X in n){const te=n[X];Ge(te)&&(r[X]=te.bind(o))}if(a){const X=a.call(o,o);bt(X)&&(e.data=Ye(X))}if(Fi=!0,l)for(const X in l){const te=l[X],se=Ge(te)?te.bind(o,o):Ge(te.get)?te.get.bind(o,o):Es,Se=!Ge(te)&&Ge(te.set)?te.set.bind(o):Es,Ve=Ne({get:se,set:Se});Object.defineProperty(r,X,{enumerable:!0,configurable:!0,get:()=>Ve.value,set:$e=>Ve.value=$e})}if(i)for(const X in i)S0(i[X],r,o,X);if(d){const X=Ge(d)?d.call(o):d;Reflect.ownKeys(X).forEach(te=>{Tn(te,X[te])})}u&&tc(u,e,"c");function B(X,te){Be(te)?te.forEach(se=>X(se.bind(o))):te&&X(te.bind(o))}if(B(h0,c),B(it,m),B(Id,g),B(Il,y),B(m0,k),B(g0,C),B(w0,_),B(b0,h),B(x0,w),B(sa,T),B(no,x),B(y0,b),Be(P))if(P.length){const X=e.exposed||(e.exposed={});P.forEach(te=>{Object.defineProperty(X,te,{get:()=>o[te],set:se=>o[te]=se,enumerable:!0})})}else e.exposed||(e.exposed={});S&&e.render===Es&&(e.render=S),R!=null&&(e.inheritAttrs=R),M&&(e.components=M),D&&(e.directives=D),b&&Md(e)}function Jg(e,t,o=Es){Be(e)&&(e=Ni(e));for(const r in e){const a=e[r];let l;bt(a)?"default"in a?l=xs(a.from||r,a.default,!0):l=xs(a.from||r):l=xs(a),It(l)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:n=>l.value=n}):t[r]=l}}function tc(e,t,o){Is(Be(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,o)}function S0(e,t,o,r){let a=r.includes(".")?W0(o,r):()=>o[r];if(Et(e)){const l=t[e];Ge(l)&&xt(a,l)}else if(Ge(e))xt(a,e.bind(o));else if(bt(e))if(Be(e))e.forEach(l=>S0(l,t,o,r));else{const l=Ge(e.handler)?e.handler.bind(o):t[e.handler];Ge(l)&&xt(a,l,e)}}function Ld(e){const t=e.type,{mixins:o,extends:r}=t,{mixins:a,optionsCache:l,config:{optionMergeStrategies:n}}=e.appContext,i=l.get(t);let d;return i?d=i:!a.length&&!o&&!r?d=t:(d={},a.length&&a.forEach(f=>sl(d,f,n,!0)),sl(d,t,n)),bt(t)&&l.set(t,d),d}function sl(e,t,o,r=!1){const{mixins:a,extends:l}=t;l&&sl(e,l,o,!0),a&&a.forEach(n=>sl(e,n,o,!0));for(const n in t)if(!(r&&n==="expose")){const i=Qg[n]||o&&o[n];e[n]=i?i(e[n],t[n]):t[n]}return e}const Qg={data:sc,props:oc,emits:oc,methods:xn,computed:xn,beforeCreate:as,created:as,beforeMount:as,mounted:as,beforeUpdate:as,updated:as,beforeDestroy:as,beforeUnmount:as,destroyed:as,unmounted:as,activated:as,deactivated:as,errorCaptured:as,serverPrefetch:as,components:xn,directives:xn,watch:ev,provide:sc,inject:Zg};function sc(e,t){return t?e?function(){return Ct(Ge(e)?e.call(this,this):e,Ge(t)?t.call(this,this):t)}:t:e}function Zg(e,t){return xn(Ni(e),Ni(t))}function Ni(e){if(Be(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function as(e,t){return e?[...new Set([].concat(e,t))]:t}function xn(e,t){return e?Ct(Object.create(null),e,t):t}function oc(e,t){return e?Be(e)&&Be(t)?[...new Set([...e,...t])]:Ct(Object.create(null),Kn(e),Kn(t??{})):t}function ev(e,t){if(!e)return t;if(!t)return e;const o=Ct(Object.create(null),e);for(const r in t)o[r]=as(e[r],t[r]);return o}function E0(){return{app:null,config:{isNativeTag:o1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tv=0;function sv(e,t){return function(r,a=null){Ge(r)||(r=Ct({},r)),a!=null&&!bt(a)&&(a=null);const l=E0(),n=new WeakSet,i=[];let d=!1;const f=l.app={_uid:tv++,_component:r,_props:a,_container:null,_context:l,_instance:null,version:ap,get config(){return l.config},set config(u){},use(u,...c){return n.has(u)||(u&&Ge(u.install)?(n.add(u),u.install(f,...c)):Ge(u)&&(n.add(u),u(f,...c))),f},mixin(u){return l.mixins.includes(u)||l.mixins.push(u),f},component(u,c){return c?(l.components[u]=c,f):l.components[u]},directive(u,c){return c?(l.directives[u]=c,f):l.directives[u]},mount(u,c,m){if(!d){const g=f._ceVNode||pe(r,a);return g.appContext=l,m===!0?m="svg":m===!1&&(m=void 0),c&&t?t(g,u):e(g,u,m),d=!0,f._container=u,u.__vue_app__=f,na(g.component)}},onUnmount(u){i.push(u)},unmount(){d&&(Is(i,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(u,c){return l.provides[u]=c,f},runWithContext(u){const c=ur;ur=f;try{return u()}finally{ur=c}}};return f}}let ur=null;function Tn(e,t){if(Xt){let o=Xt.provides;const r=Xt.parent&&Xt.parent.provides;r===o&&(o=Xt.provides=Object.create(r)),o[e]=t}}function xs(e,t,o=!1){const r=cs();if(r||ur){let a=ur?ur._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return o&&Ge(t)?t.call(r&&r.proxy):t}}function A0(){return!!(cs()||ur)}const T0={},P0=()=>Object.create(T0),R0=e=>Object.getPrototypeOf(e)===T0;function ov(e,t,o,r=!1){const a={},l=P0();e.propsDefaults=Object.create(null),M0(e,t,a,l);for(const n in e.propsOptions[0])n in a||(a[n]=void 0);o?e.props=r?a:$d(a):e.type.props?e.props=a:e.props=l,e.attrs=l}function rv(e,t,o,r){const{props:a,attrs:l,vnode:{patchFlag:n}}=e,i=ct(a),[d]=e.propsOptions;let f=!1;if((r||n>0)&&!(n&16)){if(n&8){const u=e.vnode.dynamicProps;for(let c=0;c<u.length;c++){let m=u[c];if(Ol(e.emitsOptions,m))continue;const g=t[m];if(d)if(vt(l,m))g!==l[m]&&(l[m]=g,f=!0);else{const y=Qt(m);a[y]=Bi(d,i,y,g,e,!1)}else g!==l[m]&&(l[m]=g,f=!0)}}}else{M0(e,t,a,l)&&(f=!0);let u;for(const c in i)(!t||!vt(t,c)&&((u=ys(c))===c||!vt(t,u)))&&(d?o&&(o[c]!==void 0||o[u]!==void 0)&&(a[c]=Bi(d,i,c,void 0,e,!0)):delete a[c]);if(l!==i)for(const c in l)(!t||!vt(t,c))&&(delete l[c],f=!0)}f&&mo(e.attrs,"set","")}function M0(e,t,o,r){const[a,l]=e.propsOptions;let n=!1,i;if(t)for(let d in t){if(Vr(d))continue;const f=t[d];let u;a&&vt(a,u=Qt(d))?!l||!l.includes(u)?o[u]=f:(i||(i={}))[u]=f:Ol(e.emitsOptions,d)||(!(d in r)||f!==r[d])&&(r[d]=f,n=!0)}if(l){const d=ct(o),f=i||pt;for(let u=0;u<l.length;u++){const c=l[u];o[c]=Bi(a,d,c,f[c],e,!vt(f,c))}}return n}function Bi(e,t,o,r,a,l){const n=e[o];if(n!=null){const i=vt(n,"default");if(i&&r===void 0){const d=n.default;if(n.type!==Function&&!n.skipFactory&&Ge(d)){const{propsDefaults:f}=a;if(o in f)r=f[o];else{const u=mr(a);r=f[o]=d.call(null,t),u()}}else r=d;a.ce&&a.ce._setProp(o,r)}n[0]&&(l&&!i?r=!1:n[1]&&(r===""||r===ys(o))&&(r=!0))}return r}const nv=new WeakMap;function I0(e,t,o=!1){const r=o?nv:t.propsCache,a=r.get(e);if(a)return a;const l=e.props,n={},i=[];let d=!1;if(!Ge(e)){const u=c=>{d=!0;const[m,g]=I0(c,t,!0);Ct(n,m),g&&i.push(...g)};!o&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!l&&!d)return bt(e)&&r.set(e,Br),Br;if(Be(l))for(let u=0;u<l.length;u++){const c=Qt(l[u]);rc(c)&&(n[c]=pt)}else if(l)for(const u in l){const c=Qt(u);if(rc(c)){const m=l[u],g=n[c]=Be(m)||Ge(m)?{type:m}:Ct({},m),y=g.type;let k=!1,C=!0;if(Be(y))for(let A=0;A<y.length;++A){const T=y[A],$=Ge(T)&&T.name;if($==="Boolean"){k=!0;break}else $==="String"&&(C=!1)}else k=Ge(y)&&y.name==="Boolean";g[0]=k,g[1]=C,(k||vt(g,"default"))&&i.push(c)}}const f=[n,i];return bt(e)&&r.set(e,f),f}function rc(e){return e[0]!=="$"&&!Vr(e)}const Fd=e=>e==="_"||e==="__"||e==="_ctx"||e==="$stable",Nd=e=>Be(e)?e.map(hs):[hs(e)],av=(e,t,o)=>{if(t._n)return t;const r=ke((...a)=>Nd(t(...a)),o);return r._c=!1,r},O0=(e,t,o)=>{const r=e._ctx;for(const a in e){if(Fd(a))continue;const l=e[a];if(Ge(l))t[a]=av(a,l,r);else if(l!=null){const n=Nd(l);t[a]=()=>n}}},D0=(e,t)=>{const o=Nd(t);e.slots.default=()=>o},j0=(e,t,o)=>{for(const r in t)(o||!Fd(r))&&(e[r]=t[r])},lv=(e,t,o)=>{const r=e.slots=P0();if(e.vnode.shapeFlag&32){const a=t.__;a&&Ri(r,"__",a,!0);const l=t._;l?(j0(r,t,o),o&&Ri(r,"_",l,!0)):O0(t,r)}else t&&D0(e,t)},iv=(e,t,o)=>{const{vnode:r,slots:a}=e;let l=!0,n=pt;if(r.shapeFlag&32){const i=t._;i?o&&i===1?l=!1:j0(a,t,o):(l=!t.$stable,O0(t,a)),n=t}else t&&(D0(e,t),n={default:1});if(l)for(const i in a)!Fd(i)&&n[i]==null&&delete a[i]},Wt=Y0;function L0(e){return N0(e)}function F0(e){return N0(e,xg)}function N0(e,t){const o=_l();o.__VUE__=!0;const{insert:r,remove:a,patchProp:l,createElement:n,createText:i,createComment:d,setText:f,setElementText:u,parentNode:c,nextSibling:m,setScopeId:g=Es,insertStaticContent:y}=e,k=(I,F,ne,me=null,ce=null,W=null,H=void 0,K=null,L=!!F.dynamicChildren)=>{if(I===F)return;I&&!Bs(I,F)&&(me=Z(I),$e(I,ce,W,!0),I=null),F.patchFlag===-2&&(L=!1,F.dynamicChildren=null);const{type:ae,ref:ee,shapeFlag:le}=F;switch(ae){case qo:C(I,F,ne,me);break;case Bt:A(I,F,ne,me);break;case cr:I==null&&T(F,ne,me,H);break;case _e:M(I,F,ne,me,ce,W,H,K,L);break;default:le&1?S(I,F,ne,me,ce,W,H,K,L):le&6?D(I,F,ne,me,ce,W,H,K,L):(le&64||le&128)&&ae.process(I,F,ne,me,ce,W,H,K,L,Oe)}ee!=null&&ce?Wr(ee,I&&I.ref,W,F||I,!F):ee==null&&I&&I.ref!=null&&Wr(I.ref,null,W,I,!0)},C=(I,F,ne,me)=>{if(I==null)r(F.el=i(F.children),ne,me);else{const ce=F.el=I.el;F.children!==I.children&&f(ce,F.children)}},A=(I,F,ne,me)=>{I==null?r(F.el=d(F.children||""),ne,me):F.el=I.el},T=(I,F,ne,me)=>{[I.el,I.anchor]=y(I.children,F,ne,me,I.el,I.anchor)},$=({el:I,anchor:F},ne,me)=>{let ce;for(;I&&I!==F;)ce=m(I),r(I,ne,me),I=ce;r(F,ne,me)},x=({el:I,anchor:F})=>{let ne;for(;I&&I!==F;)ne=m(I),a(I),I=ne;a(F)},S=(I,F,ne,me,ce,W,H,K,L)=>{F.type==="svg"?H="svg":F.type==="math"&&(H="mathml"),I==null?h(F,ne,me,ce,W,H,K,L):b(I,F,ce,W,H,K,L)},h=(I,F,ne,me,ce,W,H,K)=>{let L,ae;const{props:ee,shapeFlag:le,transition:ye,dirs:Re}=I;if(L=I.el=n(I.type,W,ee&&ee.is,ee),le&8?u(L,I.children):le&16&&_(I.children,L,null,me,ce,ii(I,W),H,K),Re&&Js(I,null,me,"created"),w(L,I,I.scopeId,H,me),ee){for(const he in ee)he!=="value"&&!Vr(he)&&l(L,he,null,ee[he],W,me);"value"in ee&&l(L,"value",null,ee.value,W),(ae=ee.onVnodeBeforeMount)&&vs(ae,me,I)}Re&&Js(I,null,me,"beforeMount");const Fe=B0(ce,ye);Fe&&ye.beforeEnter(L),r(L,F,ne),((ae=ee&&ee.onVnodeMounted)||Fe||Re)&&Wt(()=>{ae&&vs(ae,me,I),Fe&&ye.enter(L),Re&&Js(I,null,me,"mounted")},ce)},w=(I,F,ne,me,ce)=>{if(ne&&g(I,ne),me)for(let W=0;W<me.length;W++)g(I,me[W]);if(ce){let W=ce.subTree;if(F===W||rl(W.type)&&(W.ssContent===F||W.ssFallback===F)){const H=ce.vnode;w(I,H,H.scopeId,H.slotScopeIds,ce.parent)}}},_=(I,F,ne,me,ce,W,H,K,L=0)=>{for(let ae=L;ae<I.length;ae++){const ee=I[ae]=K?Uo(I[ae]):hs(I[ae]);k(null,ee,F,ne,me,ce,W,H,K)}},b=(I,F,ne,me,ce,W,H)=>{const K=F.el=I.el;let{patchFlag:L,dynamicChildren:ae,dirs:ee}=F;L|=I.patchFlag&16;const le=I.props||pt,ye=F.props||pt;let Re;if(ne&&sr(ne,!1),(Re=ye.onVnodeBeforeUpdate)&&vs(Re,ne,F,I),ee&&Js(F,I,ne,"beforeUpdate"),ne&&sr(ne,!0),(le.innerHTML&&ye.innerHTML==null||le.textContent&&ye.textContent==null)&&u(K,""),ae?P(I.dynamicChildren,ae,K,ne,me,ii(F,ce),W):H||te(I,F,K,null,ne,me,ii(F,ce),W,!1),L>0){if(L&16)R(K,le,ye,ne,ce);else if(L&2&&le.class!==ye.class&&l(K,"class",null,ye.class,ce),L&4&&l(K,"style",le.style,ye.style,ce),L&8){const Fe=F.dynamicProps;for(let he=0;he<Fe.length;he++){const U=Fe[he],Y=le[U],re=ye[U];(re!==Y||U==="value")&&l(K,U,Y,re,ce,ne)}}L&1&&I.children!==F.children&&u(K,F.children)}else!H&&ae==null&&R(K,le,ye,ne,ce);((Re=ye.onVnodeUpdated)||ee)&&Wt(()=>{Re&&vs(Re,ne,F,I),ee&&Js(F,I,ne,"updated")},me)},P=(I,F,ne,me,ce,W,H)=>{for(let K=0;K<F.length;K++){const L=I[K],ae=F[K],ee=L.el&&(L.type===_e||!Bs(L,ae)||L.shapeFlag&198)?c(L.el):ne;k(L,ae,ee,null,me,ce,W,H,!0)}},R=(I,F,ne,me,ce)=>{if(F!==ne){if(F!==pt)for(const W in F)!Vr(W)&&!(W in ne)&&l(I,W,F[W],null,ce,me);for(const W in ne){if(Vr(W))continue;const H=ne[W],K=F[W];H!==K&&W!=="value"&&l(I,W,K,H,ce,me)}"value"in ne&&l(I,"value",F.value,ne.value,ce)}},M=(I,F,ne,me,ce,W,H,K,L)=>{const ae=F.el=I?I.el:i(""),ee=F.anchor=I?I.anchor:i("");let{patchFlag:le,dynamicChildren:ye,slotScopeIds:Re}=F;Re&&(K=K?K.concat(Re):Re),I==null?(r(ae,ne,me),r(ee,ne,me),_(F.children||[],ne,ee,ce,W,H,K,L)):le>0&&le&64&&ye&&I.dynamicChildren?(P(I.dynamicChildren,ye,ne,ce,W,H,K),(F.key!=null||ce&&F===ce.subTree)&&Bd(I,F,!0)):te(I,F,ne,ee,ce,W,H,K,L)},D=(I,F,ne,me,ce,W,H,K,L)=>{F.slotScopeIds=K,I==null?F.shapeFlag&512?ce.ctx.activate(F,ne,me,H,L):J(F,ne,me,ce,W,H,L):G(I,F,L)},J=(I,F,ne,me,ce,W,H)=>{const K=I.component=ep(I,me,ce);if(ta(I)&&(K.ctx.renderer=Oe),sp(K,!1,H),K.asyncDep){if(ce&&ce.registerDep(K,B,H),!I.el){const L=K.subTree=pe(Bt);A(null,L,F,ne),I.placeholder=L.el}}else B(K,I,F,ne,ce,W,H)},G=(I,F,ne)=>{const me=F.component=I.component;if(yv(I,F,ne))if(me.asyncDep&&!me.asyncResolved){X(me,F,ne);return}else me.next=F,me.update();else F.el=I.el,me.vnode=F},B=(I,F,ne,me,ce,W,H)=>{const K=()=>{if(I.isMounted){let{next:le,bu:ye,u:Re,parent:Fe,vnode:he}=I;{const z=U0(I);if(z){le&&(le.el=he.el,X(I,le,H)),z.asyncDep.then(()=>{I.isUnmounted||K()});return}}let U=le,Y;sr(I,!1),le?(le.el=he.el,X(I,le,H)):le=he,ye&&Hr(ye),(Y=le.props&&le.props.onVnodeBeforeUpdate)&&vs(Y,Fe,le,he),sr(I,!0);const re=ja(I),ve=I.subTree;I.subTree=re,k(ve,re,c(ve.el),Z(ve),I,ce,W),le.el=re.el,U===null&&Dl(I,re.el),Re&&Wt(Re,ce),(Y=le.props&&le.props.onVnodeUpdated)&&Wt(()=>vs(Y,Fe,le,he),ce)}else{let le;const{el:ye,props:Re}=F,{bm:Fe,m:he,parent:U,root:Y,type:re}=I,ve=Go(F);if(sr(I,!1),Fe&&Hr(Fe),!ve&&(le=Re&&Re.onVnodeBeforeMount)&&vs(le,U,F),sr(I,!0),ye&&st){const z=()=>{I.subTree=ja(I),st(ye,I.subTree,I,ce,null)};ve&&re.__asyncHydrate?re.__asyncHydrate(ye,I,z):z()}else{Y.ce&&Y.ce._def.shadowRoot!==!1&&Y.ce._injectChildStyle(re);const z=I.subTree=ja(I);k(null,z,ne,me,I,ce,W),F.el=z.el}if(he&&Wt(he,ce),!ve&&(le=Re&&Re.onVnodeMounted)){const z=F;Wt(()=>vs(le,U,z),ce)}(F.shapeFlag&256||U&&Go(U.vnode)&&U.vnode.shapeFlag&256)&&I.a&&Wt(I.a,ce),I.isMounted=!0,F=ne=me=null}};I.scope.on();const L=I.effect=new Bn(K);I.scope.off();const ae=I.update=L.run.bind(L),ee=I.job=L.runIfDirty.bind(L);ee.i=I,ee.id=I.uid,L.scheduler=()=>Td(ee),sr(I,!0),ae()},X=(I,F,ne)=>{F.component=I;const me=I.vnode.props;I.vnode=F,I.next=null,rv(I,F.props,me,ne),iv(I,F.children,ne),xo(),Gu(I),bo()},te=(I,F,ne,me,ce,W,H,K,L=!1)=>{const ae=I&&I.children,ee=I?I.shapeFlag:0,le=F.children,{patchFlag:ye,shapeFlag:Re}=F;if(ye>0){if(ye&128){Se(ae,le,ne,me,ce,W,H,K,L);return}else if(ye&256){se(ae,le,ne,me,ce,W,H,K,L);return}}Re&8?(ee&16&&we(ae,ce,W),le!==ae&&u(ne,le)):ee&16?Re&16?Se(ae,le,ne,me,ce,W,H,K,L):we(ae,ce,W,!0):(ee&8&&u(ne,""),Re&16&&_(le,ne,me,ce,W,H,K,L))},se=(I,F,ne,me,ce,W,H,K,L)=>{I=I||Br,F=F||Br;const ae=I.length,ee=F.length,le=Math.min(ae,ee);let ye;for(ye=0;ye<le;ye++){const Re=F[ye]=L?Uo(F[ye]):hs(F[ye]);k(I[ye],Re,ne,null,ce,W,H,K,L)}ae>ee?we(I,ce,W,!0,!1,le):_(F,ne,me,ce,W,H,K,L,le)},Se=(I,F,ne,me,ce,W,H,K,L)=>{let ae=0;const ee=F.length;let le=I.length-1,ye=ee-1;for(;ae<=le&&ae<=ye;){const Re=I[ae],Fe=F[ae]=L?Uo(F[ae]):hs(F[ae]);if(Bs(Re,Fe))k(Re,Fe,ne,null,ce,W,H,K,L);else break;ae++}for(;ae<=le&&ae<=ye;){const Re=I[le],Fe=F[ye]=L?Uo(F[ye]):hs(F[ye]);if(Bs(Re,Fe))k(Re,Fe,ne,null,ce,W,H,K,L);else break;le--,ye--}if(ae>le){if(ae<=ye){const Re=ye+1,Fe=Re<ee?F[Re].el:me;for(;ae<=ye;)k(null,F[ae]=L?Uo(F[ae]):hs(F[ae]),ne,Fe,ce,W,H,K,L),ae++}}else if(ae>ye)for(;ae<=le;)$e(I[ae],ce,W,!0),ae++;else{const Re=ae,Fe=ae,he=new Map;for(ae=Fe;ae<=ye;ae++){const De=F[ae]=L?Uo(F[ae]):hs(F[ae]);De.key!=null&&he.set(De.key,ae)}let U,Y=0;const re=ye-Fe+1;let ve=!1,z=0;const V=new Array(re);for(ae=0;ae<re;ae++)V[ae]=0;for(ae=Re;ae<=le;ae++){const De=I[ae];if(Y>=re){$e(De,ce,W,!0);continue}let Ke;if(De.key!=null)Ke=he.get(De.key);else for(U=Fe;U<=ye;U++)if(V[U-Fe]===0&&Bs(De,F[U])){Ke=U;break}Ke===void 0?$e(De,ce,W,!0):(V[Ke-Fe]=ae+1,Ke>=z?z=Ke:ve=!0,k(De,F[Ke],ne,null,ce,W,H,K,L),Y++)}const Me=ve?dv(V):Br;for(U=Me.length-1,ae=re-1;ae>=0;ae--){const De=Fe+ae,Ke=F[De],Ae=F[De+1],Le=De+1<ee?Ae.el||Ae.placeholder:me;V[ae]===0?k(null,Ke,ne,Le,ce,W,H,K,L):ve&&(U<0||ae!==Me[U]?Ve(Ke,ne,Le,2):U--)}}},Ve=(I,F,ne,me,ce=null)=>{const{el:W,type:H,transition:K,children:L,shapeFlag:ae}=I;if(ae&6){Ve(I.component.subTree,F,ne,me);return}if(ae&128){I.suspense.move(F,ne,me);return}if(ae&64){H.move(I,F,ne,Oe);return}if(H===_e){r(W,F,ne);for(let le=0;le<L.length;le++)Ve(L[le],F,ne,me);r(I.anchor,F,ne);return}if(H===cr){$(I,F,ne);return}if(me!==2&&ae&1&&K)if(me===0)K.beforeEnter(W),r(W,F,ne),Wt(()=>K.enter(W),ce);else{const{leave:le,delayLeave:ye,afterLeave:Re}=K,Fe=()=>{I.ctx.isUnmounted?a(W):r(W,F,ne)},he=()=>{le(W,()=>{Fe(),Re&&Re()})};ye?ye(W,Fe,he):he()}else r(W,F,ne)},$e=(I,F,ne,me=!1,ce=!1)=>{const{type:W,props:H,ref:K,children:L,dynamicChildren:ae,shapeFlag:ee,patchFlag:le,dirs:ye,cacheIndex:Re}=I;if(le===-2&&(ce=!1),K!=null&&(xo(),Wr(K,null,ne,I,!0),bo()),Re!=null&&(F.renderCache[Re]=void 0),ee&256){F.ctx.deactivate(I);return}const Fe=ee&1&&ye,he=!Go(I);let U;if(he&&(U=H&&H.onVnodeBeforeUnmount)&&vs(U,F,I),ee&6)q(I.component,ne,me);else{if(ee&128){I.suspense.unmount(ne,me);return}Fe&&Js(I,null,F,"beforeUnmount"),ee&64?I.type.remove(I,F,ne,Oe,me):ae&&!ae.hasOnce&&(W!==_e||le>0&&le&64)?we(ae,F,ne,!1,!0):(W===_e&&le&384||!ce&&ee&16)&&we(L,F,ne),me&&ze(I)}(he&&(U=H&&H.onVnodeUnmounted)||Fe)&&Wt(()=>{U&&vs(U,F,I),Fe&&Js(I,null,F,"unmounted")},ne)},ze=I=>{const{type:F,el:ne,anchor:me,transition:ce}=I;if(F===_e){ge(ne,me);return}if(F===cr){x(I);return}const W=()=>{a(ne),ce&&!ce.persisted&&ce.afterLeave&&ce.afterLeave()};if(I.shapeFlag&1&&ce&&!ce.persisted){const{leave:H,delayLeave:K}=ce,L=()=>H(ne,W);K?K(I.el,W,L):L()}else W()},ge=(I,F)=>{let ne;for(;I!==F;)ne=m(I),a(I),I=ne;a(F)},q=(I,F,ne)=>{const{bum:me,scope:ce,job:W,subTree:H,um:K,m:L,a:ae,parent:ee,slots:{__:le}}=I;ol(L),ol(ae),me&&Hr(me),ee&&Be(le)&&le.forEach(ye=>{ee.renderCache[ye]=void 0}),ce.stop(),W&&(W.flags|=8,$e(H,I,F,ne)),K&&Wt(K,F),Wt(()=>{I.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},we=(I,F,ne,me=!1,ce=!1,W=0)=>{for(let H=W;H<I.length;H++)$e(I[H],F,ne,me,ce)},Z=I=>{if(I.shapeFlag&6)return Z(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const F=m(I.anchor||I.el),ne=F&&F[a0];return ne?m(ne):F};let be=!1;const Ce=(I,F,ne)=>{I==null?F._vnode&&$e(F._vnode,null,null,!0):k(F._vnode||null,I,F,null,null,null,ne),F._vnode=I,be||(be=!0,Gu(),tl(),be=!1)},Oe={p:k,um:$e,m:Ve,r:ze,mt:J,mc:_,pc:te,pbc:P,n:Z,o:e};let Xe,st;return t&&([Xe,st]=t(Oe)),{render:Ce,hydrate:Xe,createApp:sv(Ce,Xe)}}function ii({type:e,props:t},o){return o==="svg"&&e==="foreignObject"||o==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:o}function sr({effect:e,job:t},o){o?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function B0(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Bd(e,t,o=!1){const r=e.children,a=t.children;if(Be(r)&&Be(a))for(let l=0;l<r.length;l++){const n=r[l];let i=a[l];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=a[l]=Uo(a[l]),i.el=n.el),!o&&i.patchFlag!==-2&&Bd(n,i)),i.type===qo&&(i.el=n.el),i.type===Bt&&!i.el&&(i.el=n.el)}}function dv(e){const t=e.slice(),o=[0];let r,a,l,n,i;const d=e.length;for(r=0;r<d;r++){const f=e[r];if(f!==0){if(a=o[o.length-1],e[a]<f){t[r]=a,o.push(r);continue}for(l=0,n=o.length-1;l<n;)i=l+n>>1,e[o[i]]<f?l=i+1:n=i;f<e[o[l]]&&(l>0&&(t[r]=o[l-1]),o[l]=r)}}for(l=o.length,n=o[l-1];l-- >0;)o[l]=n,n=t[n];return o}function U0(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:U0(t)}function ol(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const V0=Symbol.for("v-scx"),H0=()=>xs(V0);function uv(e,t){return oa(e,null,t)}function cv(e,t){return oa(e,null,{flush:"post"})}function z0(e,t){return oa(e,null,{flush:"sync"})}function xt(e,t,o){return oa(e,t,o)}function oa(e,t,o=pt){const{immediate:r,deep:a,flush:l,once:n}=o,i=Ct({},o),d=t&&r||!t&&l!=="post";let f;if(qr){if(l==="sync"){const g=H0();f=g.__watcherHandles||(g.__watcherHandles=[])}else if(!d){const g=()=>{};return g.stop=Es,g.resume=Es,g.pause=Es,g}}const u=Xt;i.call=(g,y,k)=>Is(g,u,y,k);let c=!1;l==="post"?i.scheduler=g=>{Wt(g,u&&u.suspense)}:l!=="sync"&&(c=!0,i.scheduler=(g,y)=>{y?g():Td(g)}),i.augmentJob=g=>{t&&(g.flags|=4),c&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const m=tg(e,t,i);return qr&&(f?f.push(m):d&&m()),m}function fv(e,t,o){const r=this.proxy,a=Et(e)?e.includes(".")?W0(r,e):()=>r[e]:e.bind(r,r);let l;Ge(t)?l=t:(l=t.handler,o=t);const n=mr(this),i=oa(a,l.bind(r),o);return n(),i}function W0(e,t){const o=t.split(".");return()=>{let r=e;for(let a=0;a<o.length&&r;a++)r=r[o[a]];return r}}function pv(e,t,o=pt){const r=cs(),a=Qt(t),l=ys(t),n=K0(e,a),i=Jf((d,f)=>{let u,c=pt,m;return z0(()=>{const g=e[a];ds(u,g)&&(u=g,f())}),{get(){return d(),o.get?o.get(u):u},set(g){const y=o.set?o.set(g):g;if(!ds(y,u)&&!(c!==pt&&ds(g,c)))return;const k=r.vnode.props;k&&(t in k||a in k||l in k)&&(`onUpdate:${t}`in k||`onUpdate:${a}`in k||`onUpdate:${l}`in k)||(u=g,f()),r.emit(`update:${t}`,y),ds(g,y)&&ds(g,c)&&!ds(y,m)&&f(),c=g,m=y}}});return i[Symbol.iterator]=()=>{let d=0;return{next(){return d<2?{value:d++?n||pt:i,done:!1}:{done:!0}}}},i}const K0=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Qt(t)}Modifiers`]||e[`${ys(t)}Modifiers`];function mv(e,t,...o){if(e.isUnmounted)return;const r=e.vnode.props||pt;let a=o;const l=t.startsWith("update:"),n=l&&K0(r,t.slice(7));n&&(n.trim&&(a=o.map(u=>Et(u)?u.trim():u)),n.number&&(a=o.map(Ya)));let i,d=r[i=kn(t)]||r[i=kn(Qt(t))];!d&&l&&(d=r[i=kn(ys(t))]),d&&Is(d,e,6,a);const f=r[i+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,Is(f,e,6,a)}}function G0(e,t,o=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const l=e.emits;let n={},i=!1;if(!Ge(e)){const d=f=>{const u=G0(f,t,!0);u&&(i=!0,Ct(n,u))};!o&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!l&&!i?(bt(e)&&r.set(e,null),null):(Be(l)?l.forEach(d=>n[d]=null):Ct(n,l),bt(e)&&r.set(e,n),n)}function Ol(e,t){return!e||!Zn(t)?!1:(t=t.slice(2).replace(/Once$/,""),vt(e,t[0].toLowerCase()+t.slice(1))||vt(e,ys(t))||vt(e,t))}function ja(e){const{type:t,vnode:o,proxy:r,withProxy:a,propsOptions:[l],slots:n,attrs:i,emit:d,render:f,renderCache:u,props:c,data:m,setupState:g,ctx:y,inheritAttrs:k}=e,C=Wn(e);let A,T;try{if(o.shapeFlag&4){const x=a||r,S=x;A=hs(f.call(S,x,u,c,g,m,y)),T=i}else{const x=t;A=hs(x.length>1?x(c,{attrs:i,slots:n,emit:d}):x(c,null)),T=t.props?i:vv(i)}}catch(x){Pn.length=0,yr(x,e,1),A=pe(Bt)}let $=A;if(T&&k!==!1){const x=Object.keys(T),{shapeFlag:S}=$;x.length&&S&7&&(l&&x.some(gd)&&(T=hv(T,l)),$=oo($,T,!1,!0))}return o.dirs&&($=oo($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(o.dirs):o.dirs),o.transition&&_o($,o.transition),A=$,Wn(C),A}function gv(e,t=!0){let o;for(let r=0;r<e.length;r++){const a=e[r];if(Co(a)){if(a.type!==Bt||a.children==="v-if"){if(o)return;o=a}}else return}return o}const vv=e=>{let t;for(const o in e)(o==="class"||o==="style"||Zn(o))&&((t||(t={}))[o]=e[o]);return t},hv=(e,t)=>{const o={};for(const r in e)(!gd(r)||!(r.slice(9)in t))&&(o[r]=e[r]);return o};function yv(e,t,o){const{props:r,children:a,component:l}=e,{props:n,children:i,patchFlag:d}=t,f=l.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&d>=0){if(d&1024)return!0;if(d&16)return r?nc(r,n,f):!!n;if(d&8){const u=t.dynamicProps;for(let c=0;c<u.length;c++){const m=u[c];if(n[m]!==r[m]&&!Ol(f,m))return!0}}}else return(a||i)&&(!i||!i.$stable)?!0:r===n?!1:r?n?nc(r,n,f):!0:!!n;return!1}function nc(e,t,o){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const l=r[a];if(t[l]!==e[l]&&!Ol(o,l))return!0}return!1}function Dl({vnode:e,parent:t},o){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=o,t=t.parent;else break}}const rl=e=>e.__isSuspense;let Ui=0;const xv={name:"Suspense",__isSuspense:!0,process(e,t,o,r,a,l,n,i,d,f){if(e==null)wv(t,o,r,a,l,n,i,d,f);else{if(l&&l.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}_v(e,t,o,r,a,n,i,d,f)}},hydrate:Cv,normalize:kv},bv=xv;function Gn(e,t){const o=e.props&&e.props[t];Ge(o)&&o()}function wv(e,t,o,r,a,l,n,i,d){const{p:f,o:{createElement:u}}=d,c=u("div"),m=e.suspense=q0(e,a,r,t,c,o,l,n,i,d);f(null,m.pendingBranch=e.ssContent,c,null,r,m,l,n),m.deps>0?(Gn(e,"onPending"),Gn(e,"onFallback"),f(null,e.ssFallback,t,o,r,null,l,n),Kr(m,e.ssFallback)):m.resolve(!1,!0)}function _v(e,t,o,r,a,l,n,i,{p:d,um:f,o:{createElement:u}}){const c=t.suspense=e.suspense;c.vnode=t,t.el=e.el;const m=t.ssContent,g=t.ssFallback,{activeBranch:y,pendingBranch:k,isInFallback:C,isHydrating:A}=c;if(k)c.pendingBranch=m,Bs(m,k)?(d(k,m,c.hiddenContainer,null,a,c,l,n,i),c.deps<=0?c.resolve():C&&(A||(d(y,g,o,r,a,null,l,n,i),Kr(c,g)))):(c.pendingId=Ui++,A?(c.isHydrating=!1,c.activeBranch=k):f(k,a,c),c.deps=0,c.effects.length=0,c.hiddenContainer=u("div"),C?(d(null,m,c.hiddenContainer,null,a,c,l,n,i),c.deps<=0?c.resolve():(d(y,g,o,r,a,null,l,n,i),Kr(c,g))):y&&Bs(m,y)?(d(y,m,o,r,a,c,l,n,i),c.resolve(!0)):(d(null,m,c.hiddenContainer,null,a,c,l,n,i),c.deps<=0&&c.resolve()));else if(y&&Bs(m,y))d(y,m,o,r,a,c,l,n,i),Kr(c,m);else if(Gn(t,"onPending"),c.pendingBranch=m,m.shapeFlag&512?c.pendingId=m.component.suspenseId:c.pendingId=Ui++,d(null,m,c.hiddenContainer,null,a,c,l,n,i),c.deps<=0)c.resolve();else{const{timeout:T,pendingId:$}=c;T>0?setTimeout(()=>{c.pendingId===$&&c.fallback(g)},T):T===0&&c.fallback(g)}}function q0(e,t,o,r,a,l,n,i,d,f,u=!1){const{p:c,m,um:g,n:y,o:{parentNode:k,remove:C}}=f;let A;const T=$v(e);T&&t&&t.pendingBranch&&(A=t.pendingId,t.deps++);const $=e.props?Xa(e.props.timeout):void 0,x=l,S={vnode:e,parent:t,parentComponent:o,namespace:n,container:r,hiddenContainer:a,deps:0,pendingId:Ui++,timeout:typeof $=="number"?$:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(h=!1,w=!1){const{vnode:_,activeBranch:b,pendingBranch:P,pendingId:R,effects:M,parentComponent:D,container:J}=S;let G=!1;S.isHydrating?S.isHydrating=!1:h||(G=b&&P.transition&&P.transition.mode==="out-in",G&&(b.transition.afterLeave=()=>{R===S.pendingId&&(m(P,J,l===x?y(b):l,0),Hn(M))}),b&&(k(b.el)===J&&(l=y(b)),g(b,D,S,!0)),G||m(P,J,l,0)),Kr(S,P),S.pendingBranch=null,S.isInFallback=!1;let B=S.parent,X=!1;for(;B;){if(B.pendingBranch){B.effects.push(...M),X=!0;break}B=B.parent}!X&&!G&&Hn(M),S.effects=[],T&&t&&t.pendingBranch&&A===t.pendingId&&(t.deps--,t.deps===0&&!w&&t.resolve()),Gn(_,"onResolve")},fallback(h){if(!S.pendingBranch)return;const{vnode:w,activeBranch:_,parentComponent:b,container:P,namespace:R}=S;Gn(w,"onFallback");const M=y(_),D=()=>{S.isInFallback&&(c(null,h,P,M,b,null,R,i,d),Kr(S,h))},J=h.transition&&h.transition.mode==="out-in";J&&(_.transition.afterLeave=D),S.isInFallback=!0,g(_,b,null,!0),J||D()},move(h,w,_){S.activeBranch&&m(S.activeBranch,h,w,_),S.container=h},next(){return S.activeBranch&&y(S.activeBranch)},registerDep(h,w,_){const b=!!S.pendingBranch;b&&S.deps++;const P=h.vnode.el;h.asyncDep.catch(R=>{yr(R,h,0)}).then(R=>{if(h.isUnmounted||S.isUnmounted||S.pendingId!==h.suspenseId)return;h.asyncResolved=!0;const{vnode:M}=h;Wi(h,R,!1),P&&(M.el=P);const D=!P&&h.subTree.el;w(h,M,k(P||h.subTree.el),P?null:y(h.subTree),S,n,_),D&&C(D),Dl(h,M.el),b&&--S.deps===0&&S.resolve()})},unmount(h,w){S.isUnmounted=!0,S.activeBranch&&g(S.activeBranch,o,h,w),S.pendingBranch&&g(S.pendingBranch,o,h,w)}};return S}function Cv(e,t,o,r,a,l,n,i,d){const f=t.suspense=q0(t,r,o,e.parentNode,document.createElement("div"),null,a,l,n,i,!0),u=d(e,f.pendingBranch=t.ssContent,o,f,l,n);return f.deps===0&&f.resolve(!1,!0),u}function kv(e){const{shapeFlag:t,children:o}=e,r=t&32;e.ssContent=ac(r?o.default:o),e.ssFallback=r?ac(o.fallback):pe(Bt)}function ac(e){let t;if(Ge(e)){const o=pr&&e._c;o&&(e._d=!1,p()),e=e(),o&&(e._d=!0,t=rs,X0())}return Be(e)&&(e=gv(e)),e=hs(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(o=>o!==e)),e}function Y0(e,t){t&&t.pendingBranch?Be(e)?t.effects.push(...e):t.effects.push(e):Hn(e)}function Kr(e,t){e.activeBranch=t;const{vnode:o,parentComponent:r}=e;let a=t.el;for(;!a&&t.component;)t=t.component.subTree,a=t.el;o.el=a,r&&r.subTree===o&&(r.vnode.el=a,Dl(r,a))}function $v(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const _e=Symbol.for("v-fgt"),qo=Symbol.for("v-txt"),Bt=Symbol.for("v-cmt"),cr=Symbol.for("v-stc"),Pn=[];let rs=null;function p(e=!1){Pn.push(rs=e?null:[])}function X0(){Pn.pop(),rs=Pn[Pn.length-1]||null}let pr=1;function Vi(e,t=!1){pr+=e,e<0&&rs&&t&&(rs.hasOnce=!0)}function J0(e){return e.dynamicChildren=pr>0?rs||Br:null,X0(),pr>0&&rs&&rs.push(e),e}function v(e,t,o,r,a,l){return J0(s(e,t,o,r,a,l,!0))}function wt(e,t,o,r,a){return J0(pe(e,t,o,r,a,!0))}function Co(e){return e?e.__v_isVNode===!0:!1}function Bs(e,t){return e.type===t.type&&e.key===t.key}function Sv(e){}const Q0=({key:e})=>e??null,La=({ref:e,ref_key:t,ref_for:o})=>(typeof e=="number"&&(e=""+e),e!=null?Et(e)||It(e)||Ge(e)?{i:Jt,r:e,k:t,f:!!o}:e:null);function s(e,t=null,o=null,r=0,a=null,l=e===_e?0:1,n=!1,i=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Q0(t),ref:t&&La(t),scopeId:Pl,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Jt};return i?(Ud(d,o),l&128&&e.normalize(d)):o&&(d.shapeFlag|=Et(o)?8:16),pr>0&&!n&&rs&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&rs.push(d),d}const pe=Ev;function Ev(e,t=null,o=null,r=0,a=null,l=!1){if((!e||e===_0)&&(e=Bt),Co(e)){const i=oo(e,t,!0);return o&&Ud(i,o),pr>0&&!l&&rs&&(i.shapeFlag&6?rs[rs.indexOf(e)]=i:rs.push(i)),i.patchFlag=-2,i}if(Ov(e)&&(e=e.__vccOpts),t){t=Z0(t);let{class:i,style:d}=t;i&&!Et(i)&&(t.class=ue(i)),bt(d)&&(Al(d)&&!Be(d)&&(d=Ct({},d)),t.style=ns(d))}const n=Et(e)?1:rl(e)?128:l0(e)?64:bt(e)?4:Ge(e)?2:0;return s(e,t,o,r,a,n,l,!0)}function Z0(e){return e?Al(e)||R0(e)?Ct({},e):e:null}function oo(e,t,o=!1,r=!1){const{props:a,ref:l,patchFlag:n,children:i,transition:d}=e,f=t?ra(a||{},t):a,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Q0(f),ref:t&&t.ref?o&&l?Be(l)?l.concat(La(t)):[l,La(t)]:La(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==_e?n===-1?16:n|16:n,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&oo(e.ssContent),ssFallback:e.ssFallback&&oo(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&r&&_o(u,d.clone(u)),u}function de(e=" ",t=0){return pe(qo,null,e,t)}function ft(e,t){const o=pe(cr,null,e);return o.staticCount=t,o}function N(e="",t=!1){return t?(p(),wt(Bt,null,e)):pe(Bt,null,e)}function hs(e){return e==null||typeof e=="boolean"?pe(Bt):Be(e)?pe(_e,null,e.slice()):Co(e)?Uo(e):pe(qo,null,String(e))}function Uo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:oo(e)}function Ud(e,t){let o=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Be(t))o=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),Ud(e,a()),a._c&&(a._d=!0));return}else{o=32;const a=t._;!a&&!R0(t)?t._ctx=Jt:a===3&&Jt&&(Jt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ge(t)?(t={default:t,_ctx:Jt},o=32):(t=String(t),r&64?(o=16,t=[de(t)]):o=8);e.children=t,e.shapeFlag|=o}function ra(...e){const t={};for(let o=0;o<e.length;o++){const r=e[o];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=ue([t.class,r.class]));else if(a==="style")t.style=ns([t.style,r.style]);else if(Zn(a)){const l=t[a],n=r[a];n&&l!==n&&!(Be(l)&&l.includes(n))&&(t[a]=l?[].concat(l,n):n)}else a!==""&&(t[a]=r[a])}return t}function vs(e,t,o,r=null){Is(e,t,7,[o,r])}const Av=E0();let Tv=0;function ep(e,t,o){const r=e.type,a=(t?t.appContext:e.appContext)||Av,l={uid:Tv++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new xd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:I0(r,a),emitsOptions:G0(r,a),emit:null,emitted:null,propsDefaults:pt,inheritAttrs:r.inheritAttrs,ctx:pt,data:pt,props:pt,attrs:pt,slots:pt,refs:pt,setupState:pt,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=mv.bind(null,l),e.ce&&e.ce(l),l}let Xt=null;const cs=()=>Xt||Jt;let nl,Hi;{const e=_l(),t=(o,r)=>{let a;return(a=e[o])||(a=e[o]=[]),a.push(r),l=>{a.length>1?a.forEach(n=>n(l)):a[0](l)}};nl=t("__VUE_INSTANCE_SETTERS__",o=>Xt=o),Hi=t("__VUE_SSR_SETTERS__",o=>qr=o)}const mr=e=>{const t=Xt;return nl(e),e.scope.on(),()=>{e.scope.off(),nl(t)}},zi=()=>{Xt&&Xt.scope.off(),nl(null)};function tp(e){return e.vnode.shapeFlag&4}let qr=!1;function sp(e,t=!1,o=!1){t&&Hi(t);const{props:r,children:a}=e.vnode,l=tp(e);ov(e,r,l,t),lv(e,a,o||t);const n=l?Pv(e,t):void 0;return t&&Hi(!1),n}function Pv(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Li);const{setup:r}=o;if(r){xo();const a=e.setupContext=r.length>1?rp(e):null,l=mr(e),n=tn(r,e,0,[e.props,a]),i=hd(n);if(bo(),l(),(i||e.sp)&&!Go(e)&&Md(e),i){if(n.then(zi,zi),t)return n.then(d=>{Wi(e,d,t)}).catch(d=>{yr(d,e,0)});e.asyncDep=n}else Wi(e,n,t)}else op(e,t)}function Wi(e,t,o){Ge(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:bt(t)&&(e.setupState=Ad(t)),op(e,o)}let al,Ki;function Rv(e){al=e,Ki=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,jg))}}const Mv=()=>!al;function op(e,t,o){const r=e.type;if(!e.render){if(!t&&al&&!r.render){const a=r.template||Ld(e).template;if(a){const{isCustomElement:l,compilerOptions:n}=e.appContext.config,{delimiters:i,compilerOptions:d}=r,f=Ct(Ct({isCustomElement:l,delimiters:i},n),d);r.render=al(a,f)}}e.render=r.render||Es,Ki&&Ki(e)}{const a=mr(e);xo();try{Xg(e)}finally{bo(),a()}}}const Iv={get(e,t){return ts(e,"get",""),e[t]}};function rp(e){const t=o=>{e.exposed=o||{}};return{attrs:new Proxy(e.attrs,Iv),slots:e.slots,emit:e.emit,expose:t}}function na(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ad(Tl(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in An)return An[o](e)},has(t,o){return o in t||o in An}})):e.proxy}function Gi(e,t=!0){return Ge(e)?e.displayName||e.name:e.name||t&&e.__name}function Ov(e){return Ge(e)&&"__vccOpts"in e}const Ne=(e,t)=>J1(e,t,qr);function jl(e,t,o){const r=arguments.length;return r===2?bt(t)&&!Be(t)?Co(t)?pe(e,null,[t]):pe(e,t):pe(e,null,t):(r>3?o=Array.prototype.slice.call(arguments,2):r===3&&Co(o)&&(o=[o]),pe(e,t,o))}function Dv(){}function jv(e,t,o,r){const a=o[r];if(a&&np(a,e))return a;const l=t();return l.memo=e.slice(),l.cacheIndex=r,o[r]=l}function np(e,t){const o=e.memo;if(o.length!=t.length)return!1;for(let r=0;r<o.length;r++)if(ds(o[r],t[r]))return!1;return pr>0&&rs&&rs.push(e),!0}const ap="3.5.18",Lv=Es,Fv=ag,Nv=Or,Bv=n0,Uv={createComponentInstance:ep,setupComponent:sp,renderComponentRoot:ja,setCurrentRenderingInstance:Wn,isVNode:Co,normalizeVNode:hs,getComponentPublicInstance:na,ensureValidVNode:jd,pushWarningContext:sg,popWarningContext:og},Vv=Uv,Hv=null,zv=null,Wv=null;/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qi;const lc=typeof window<"u"&&window.trustedTypes;if(lc)try{qi=lc.createPolicy("vue",{createHTML:e=>e})}catch{}const lp=qi?e=>qi.createHTML(e):e=>e,Kv="http://www.w3.org/2000/svg",Gv="http://www.w3.org/1998/Math/MathML",po=typeof document<"u"?document:null,ic=po&&po.createElement("template"),qv={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,r)=>{const a=t==="svg"?po.createElementNS(Kv,e):t==="mathml"?po.createElementNS(Gv,e):o?po.createElement(e,{is:o}):po.createElement(e);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>po.createTextNode(e),createComment:e=>po.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>po.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,r,a,l){const n=o?o.previousSibling:t.lastChild;if(a&&(a===l||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),o),!(a===l||!(a=a.nextSibling)););else{ic.innerHTML=lp(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const i=ic.content;if(r==="svg"||r==="mathml"){const d=i.firstChild;for(;d.firstChild;)i.appendChild(d.firstChild);i.removeChild(d)}t.insertBefore(i,o)}return[n?n.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}},Oo="transition",cn="animation",Yr=Symbol("_vtc"),ip={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},dp=Ct({},Rd,ip),Yv=e=>(e.displayName="Transition",e.props=dp,e),Xv=Yv((e,{slots:t})=>jl(f0,up(e),t)),or=(e,t=[])=>{Be(e)?e.forEach(o=>o(...t)):e&&e(...t)},dc=e=>e?Be(e)?e.some(t=>t.length>1):e.length>1:!1;function up(e){const t={};for(const M in e)M in ip||(t[M]=e[M]);if(e.css===!1)return t;const{name:o="v",type:r,duration:a,enterFromClass:l=`${o}-enter-from`,enterActiveClass:n=`${o}-enter-active`,enterToClass:i=`${o}-enter-to`,appearFromClass:d=l,appearActiveClass:f=n,appearToClass:u=i,leaveFromClass:c=`${o}-leave-from`,leaveActiveClass:m=`${o}-leave-active`,leaveToClass:g=`${o}-leave-to`}=e,y=Jv(a),k=y&&y[0],C=y&&y[1],{onBeforeEnter:A,onEnter:T,onEnterCancelled:$,onLeave:x,onLeaveCancelled:S,onBeforeAppear:h=A,onAppear:w=T,onAppearCancelled:_=$}=t,b=(M,D,J,G)=>{M._enterCancelled=G,jo(M,D?u:i),jo(M,D?f:n),J&&J()},P=(M,D)=>{M._isLeaving=!1,jo(M,c),jo(M,g),jo(M,m),D&&D()},R=M=>(D,J)=>{const G=M?w:T,B=()=>b(D,M,J);or(G,[D,B]),uc(()=>{jo(D,M?d:l),Ys(D,M?u:i),dc(G)||cc(D,r,k,B)})};return Ct(t,{onBeforeEnter(M){or(A,[M]),Ys(M,l),Ys(M,n)},onBeforeAppear(M){or(h,[M]),Ys(M,d),Ys(M,f)},onEnter:R(!1),onAppear:R(!0),onLeave(M,D){M._isLeaving=!0;const J=()=>P(M,D);Ys(M,c),M._enterCancelled?(Ys(M,m),Yi()):(Yi(),Ys(M,m)),uc(()=>{M._isLeaving&&(jo(M,c),Ys(M,g),dc(x)||cc(M,r,C,J))}),or(x,[M,J])},onEnterCancelled(M){b(M,!1,void 0,!0),or($,[M])},onAppearCancelled(M){b(M,!0,void 0,!0),or(_,[M])},onLeaveCancelled(M){P(M),or(S,[M])}})}function Jv(e){if(e==null)return null;if(bt(e))return[di(e.enter),di(e.leave)];{const t=di(e);return[t,t]}}function di(e){return Xa(e)}function Ys(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.add(o)),(e[Yr]||(e[Yr]=new Set)).add(t)}function jo(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const o=e[Yr];o&&(o.delete(t),o.size||(e[Yr]=void 0))}function uc(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Qv=0;function cc(e,t,o,r){const a=e._endId=++Qv,l=()=>{a===e._endId&&r()};if(o!=null)return setTimeout(l,o);const{type:n,timeout:i,propCount:d}=cp(e,t);if(!n)return r();const f=n+"end";let u=0;const c=()=>{e.removeEventListener(f,m),l()},m=g=>{g.target===e&&++u>=d&&c()};setTimeout(()=>{u<d&&c()},i+1),e.addEventListener(f,m)}function cp(e,t){const o=window.getComputedStyle(e),r=y=>(o[y]||"").split(", "),a=r(`${Oo}Delay`),l=r(`${Oo}Duration`),n=fc(a,l),i=r(`${cn}Delay`),d=r(`${cn}Duration`),f=fc(i,d);let u=null,c=0,m=0;t===Oo?n>0&&(u=Oo,c=n,m=l.length):t===cn?f>0&&(u=cn,c=f,m=d.length):(c=Math.max(n,f),u=c>0?n>f?Oo:cn:null,m=u?u===Oo?l.length:d.length:0);const g=u===Oo&&/\b(transform|all)(,|$)/.test(r(`${Oo}Property`).toString());return{type:u,timeout:c,propCount:m,hasTransform:g}}function fc(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((o,r)=>pc(o)+pc(e[r])))}function pc(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Yi(){return document.body.offsetHeight}function Zv(e,t,o){const r=e[Yr];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}const ll=Symbol("_vod"),fp=Symbol("_vsh"),pp={beforeMount(e,{value:t},{transition:o}){e[ll]=e.style.display==="none"?"":e.style.display,o&&t?o.beforeEnter(e):fn(e,t)},mounted(e,{value:t},{transition:o}){o&&t&&o.enter(e)},updated(e,{value:t,oldValue:o},{transition:r}){!t!=!o&&(r?t?(r.beforeEnter(e),fn(e,!0),r.enter(e)):r.leave(e,()=>{fn(e,!1)}):fn(e,t))},beforeUnmount(e,{value:t}){fn(e,t)}};function fn(e,t){e.style.display=t?e[ll]:"none",e[fp]=!t}function eh(){pp.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const mp=Symbol("");function th(e){const t=cs();if(!t)return;const o=t.ut=(a=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(l=>il(l,a))},r=()=>{const a=e(t.proxy);t.ce?il(t.ce,a):Xi(t.subTree,a),o(a)};Id(()=>{Hn(r)}),it(()=>{xt(r,Es,{flush:"post"});const a=new MutationObserver(r);a.observe(t.subTree.el.parentNode,{childList:!0}),no(()=>a.disconnect())})}function Xi(e,t){if(e.shapeFlag&128){const o=e.suspense;e=o.activeBranch,o.pendingBranch&&!o.isHydrating&&o.effects.push(()=>{Xi(o.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)il(e.el,t);else if(e.type===_e)e.children.forEach(o=>Xi(o,t));else if(e.type===cr){let{el:o,anchor:r}=e;for(;o&&(il(o,t),o!==r);)o=o.nextSibling}}function il(e,t){if(e.nodeType===1){const o=e.style;let r="";for(const a in t){const l=x1(t[a]);o.setProperty(`--${a}`,l),r+=`--${a}: ${l};`}o[mp]=r}}const sh=/(^|;)\s*display\s*:/;function oh(e,t,o){const r=e.style,a=Et(o);let l=!1;if(o&&!a){if(t)if(Et(t))for(const n of t.split(";")){const i=n.slice(0,n.indexOf(":")).trim();o[i]==null&&Fa(r,i,"")}else for(const n in t)o[n]==null&&Fa(r,n,"");for(const n in o)n==="display"&&(l=!0),Fa(r,n,o[n])}else if(a){if(t!==o){const n=r[mp];n&&(o+=";"+n),r.cssText=o,l=sh.test(o)}}else t&&e.removeAttribute("style");ll in e&&(e[ll]=l?r.display:"",e[fp]&&(r.display="none"))}const mc=/\s*!important$/;function Fa(e,t,o){if(Be(o))o.forEach(r=>Fa(e,t,r));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const r=rh(e,t);mc.test(o)?e.setProperty(ys(r),o.replace(mc,""),"important"):e[r]=o}}const gc=["Webkit","Moz","ms"],ui={};function rh(e,t){const o=ui[t];if(o)return o;let r=Qt(t);if(r!=="filter"&&r in e)return ui[t]=r;r=ea(r);for(let a=0;a<gc.length;a++){const l=gc[a]+r;if(l in e)return ui[t]=l}return t}const vc="http://www.w3.org/1999/xlink";function hc(e,t,o,r,a,l=h1(t)){r&&t.startsWith("xlink:")?o==null?e.removeAttributeNS(vc,t.slice(6,t.length)):e.setAttributeNS(vc,t,o):o==null||l&&!Rf(o)?e.removeAttribute(t):e.setAttribute(t,l?"":zs(o)?String(o):o)}function yc(e,t,o,r,a){if(t==="innerHTML"||t==="textContent"){o!=null&&(e[t]=t==="innerHTML"?lp(o):o);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const i=l==="OPTION"?e.getAttribute("value")||"":e.value,d=o==null?e.type==="checkbox"?"on":"":String(o);(i!==d||!("_value"in e))&&(e.value=d),o==null&&e.removeAttribute(t),e._value=o;return}let n=!1;if(o===""||o==null){const i=typeof e[t];i==="boolean"?o=Rf(o):o==null&&i==="string"?(o="",n=!0):i==="number"&&(o=0,n=!0)}try{e[t]=o}catch{}n&&e.removeAttribute(a||t)}function vo(e,t,o,r){e.addEventListener(t,o,r)}function nh(e,t,o,r){e.removeEventListener(t,o,r)}const xc=Symbol("_vei");function ah(e,t,o,r,a=null){const l=e[xc]||(e[xc]={}),n=l[t];if(r&&n)n.value=r;else{const[i,d]=lh(t);if(r){const f=l[t]=uh(r,a);vo(e,i,f,d)}else n&&(nh(e,i,n,d),l[t]=void 0)}}const bc=/(?:Once|Passive|Capture)$/;function lh(e){let t;if(bc.test(e)){t={};let r;for(;r=e.match(bc);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ys(e.slice(2)),t]}let ci=0;const ih=Promise.resolve(),dh=()=>ci||(ih.then(()=>ci=0),ci=Date.now());function uh(e,t){const o=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=o.attached)return;Is(ch(r,o.value),t,5,[r])};return o.value=e,o.attached=dh(),o}function ch(e,t){if(Be(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const wc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,fh=(e,t,o,r,a,l)=>{const n=a==="svg";t==="class"?Zv(e,r,n):t==="style"?oh(e,o,r):Zn(t)?gd(t)||ah(e,t,o,r,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ph(e,t,r,n))?(yc(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&hc(e,t,r,n,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Et(r))?yc(e,Qt(t),r,l,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),hc(e,t,r,n))};function ph(e,t,o,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&wc(t)&&Ge(o));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return wc(t)&&Et(o)?!1:t in e}const _c={};/*! #__NO_SIDE_EFFECTS__ */function gp(e,t,o){const r=Ds(e,t);bl(r)&&Ct(r,t);class a extends Ll{constructor(n){super(r,n,o)}}return a.def=r,a}/*! #__NO_SIDE_EFFECTS__ */const mh=(e,t)=>gp(e,t,Sp),gh=typeof HTMLElement<"u"?HTMLElement:class{};class Ll extends gh{constructor(t,o={},r=qn){super(),this._def=t,this._props=o,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==qn?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Ll){this._parent=t;break}this._instance||(this._resolved?this._mount(this._def):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._inheritParentContext(t))}_inheritParentContext(t=this._parent){t&&this._app&&Object.setPrototypeOf(this._app._context.provides,t._instance.provides)}disconnectedCallback(){this._connected=!1,so(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const a of r)this._setAttr(a.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(r,a=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:l,styles:n}=r;let i;if(l&&!Be(l))for(const d in l){const f=l[d];(f===Number||f&&f.type===Number)&&(d in this._props&&(this._props[d]=Xa(this._props[d])),(i||(i=Object.create(null)))[Qt(d)]=!0)}this._numberProps=i,this._resolveProps(r),this.shadowRoot&&this._applyStyles(n),this._mount(r)},o=this._def.__asyncLoader;o?this._pendingResolve=o().then(r=>{r.configureApp=this._def.configureApp,t(this._def=r,!0)}):t(this._def)}_mount(t){this._app=this._createApp(t),this._inheritParentContext(),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const o=this._instance&&this._instance.exposed;if(o)for(const r in o)vt(this,r)||Object.defineProperty(this,r,{get:()=>mt(o[r])})}_resolveProps(t){const{props:o}=t,r=Be(o)?o:Object.keys(o||{});for(const a of Object.keys(this))a[0]!=="_"&&r.includes(a)&&this._setProp(a,this[a]);for(const a of r.map(Qt))Object.defineProperty(this,a,{get(){return this._getProp(a)},set(l){this._setProp(a,l,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const o=this.hasAttribute(t);let r=o?this.getAttribute(t):_c;const a=Qt(t);o&&this._numberProps&&this._numberProps[a]&&(r=Xa(r)),this._setProp(a,r,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,o,r=!0,a=!1){if(o!==this._props[t]&&(o===_c?delete this._props[t]:(this._props[t]=o,t==="key"&&this._app&&(this._app._ceVNode.key=o)),a&&this._instance&&this._update(),r)){const l=this._ob;l&&l.disconnect(),o===!0?this.setAttribute(ys(t),""):typeof o=="string"||typeof o=="number"?this.setAttribute(ys(t),o+""):o||this.removeAttribute(ys(t)),l&&l.observe(this,{attributes:!0})}}_update(){const t=this._createVNode();this._app&&(t.appContext=this._app._context),$p(t,this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const o=pe(this._def,Ct(t,this._props));return this._instance||(o.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const a=(l,n)=>{this.dispatchEvent(new CustomEvent(l,bl(n[0])?Ct({detail:n},n[0]):{detail:n}))};r.emit=(l,...n)=>{a(l,n),ys(l)!==l&&a(ys(l),n)},this._setParent()}),o}_applyStyles(t,o){if(!t)return;if(o){if(o===this._def||this._styleChildren.has(o))return;this._styleChildren.add(o)}const r=this._nonce;for(let a=t.length-1;a>=0;a--){const l=document.createElement("style");r&&l.setAttribute("nonce",r),l.textContent=t[a],this.shadowRoot.prepend(l)}}_parseSlots(){const t=this._slots={};let o;for(;o=this.firstChild;){const r=o.nodeType===1&&o.getAttribute("slot")||"default";(t[r]||(t[r]=[])).push(o),this.removeChild(o)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),o=this._instance.type.__scopeId;for(let r=0;r<t.length;r++){const a=t[r],l=a.getAttribute("name")||"default",n=this._slots[l],i=a.parentNode;if(n)for(const d of n){if(o&&d.nodeType===1){const f=o+"-s",u=document.createTreeWalker(d,1);d.setAttribute(f,"");let c;for(;c=u.nextNode();)c.setAttribute(f,"")}i.insertBefore(d,a)}else for(;a.firstChild;)i.insertBefore(a.firstChild,a);i.removeChild(a)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function vp(e){const t=cs(),o=t&&t.ce;return o||null}function vh(){const e=vp();return e&&e.shadowRoot}function hh(e="$style"){{const t=cs();if(!t)return pt;const o=t.type.__cssModules;if(!o)return pt;const r=o[e];return r||pt}}const hp=new WeakMap,yp=new WeakMap,dl=Symbol("_moveCb"),Cc=Symbol("_enterCb"),yh=e=>(delete e.props.mode,e),xh=yh({name:"TransitionGroup",props:Ct({},dp,{tag:String,moveClass:String}),setup(e,{slots:t}){const o=cs(),r=Pd();let a,l;return Il(()=>{if(!a.length)return;const n=e.moveClass||`${e.name||"v"}-move`;if(!Ch(a[0].el,o.vnode.el,n)){a=[];return}a.forEach(bh),a.forEach(wh);const i=a.filter(_h);Yi(),i.forEach(d=>{const f=d.el,u=f.style;Ys(f,n),u.transform=u.webkitTransform=u.transitionDuration="";const c=f[dl]=m=>{m&&m.target!==f||(!m||/transform$/.test(m.propertyName))&&(f.removeEventListener("transitionend",c),f[dl]=null,jo(f,n))};f.addEventListener("transitionend",c)}),a=[]}),()=>{const n=ct(e),i=up(n);let d=n.tag||_e;if(a=[],l)for(let f=0;f<l.length;f++){const u=l[f];u.el&&u.el instanceof Element&&(a.push(u),_o(u,Gr(u,i,r,o)),hp.set(u,u.el.getBoundingClientRect()))}l=t.default?Rl(t.default()):[];for(let f=0;f<l.length;f++){const u=l[f];u.key!=null&&_o(u,Gr(u,i,r,o))}return pe(d,null,l)}}}),Vd=xh;function bh(e){const t=e.el;t[dl]&&t[dl](),t[Cc]&&t[Cc]()}function wh(e){yp.set(e,e.el.getBoundingClientRect())}function _h(e){const t=hp.get(e),o=yp.get(e),r=t.left-o.left,a=t.top-o.top;if(r||a){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${r}px,${a}px)`,l.transitionDuration="0s",e}}function Ch(e,t,o){const r=e.cloneNode(),a=e[Yr];a&&a.forEach(i=>{i.split(/\s+/).forEach(d=>d&&r.classList.remove(d))}),o.split(/\s+/).forEach(i=>i&&r.classList.add(i)),r.style.display="none";const l=t.nodeType===1?t:t.parentNode;l.appendChild(r);const{hasTransform:n}=cp(r);return l.removeChild(r),n}const Xo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Be(t)?o=>Hr(t,o):t};function kh(e){e.target.composing=!0}function kc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ms=Symbol("_assign"),Pe={created(e,{modifiers:{lazy:t,trim:o,number:r}},a){e[Ms]=Xo(a);const l=r||a.props&&a.props.type==="number";vo(e,t?"change":"input",n=>{if(n.target.composing)return;let i=e.value;o&&(i=i.trim()),l&&(i=Ya(i)),e[Ms](i)}),o&&vo(e,"change",()=>{e.value=e.value.trim()}),t||(vo(e,"compositionstart",kh),vo(e,"compositionend",kc),vo(e,"change",kc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:o,modifiers:{lazy:r,trim:a,number:l}},n){if(e[Ms]=Xo(n),e.composing)return;const i=(l||e.type==="number")&&!/^0\d/.test(e.value)?Ya(e.value):e.value,d=t??"";i!==d&&(document.activeElement===e&&e.type!=="range"&&(r&&t===o||a&&e.value.trim()===d)||(e.value=d))}},bs={deep:!0,created(e,t,o){e[Ms]=Xo(o),vo(e,"change",()=>{const r=e._modelValue,a=Xr(e),l=e.checked,n=e[Ms];if(Be(r)){const i=Cl(r,a),d=i!==-1;if(l&&!d)n(r.concat(a));else if(!l&&d){const f=[...r];f.splice(i,1),n(f)}}else if(hr(r)){const i=new Set(r);l?i.add(a):i.delete(a),n(i)}else n(xp(e,l))})},mounted:$c,beforeUpdate(e,t,o){e[Ms]=Xo(o),$c(e,t,o)}};function $c(e,{value:t,oldValue:o},r){e._modelValue=t;let a;if(Be(t))a=Cl(t,r.props.value)>-1;else if(hr(t))a=t.has(r.props.value);else{if(t===o)return;a=Yo(t,xp(e,!0))}e.checked!==a&&(e.checked=a)}const Hd={created(e,{value:t},o){e.checked=Yo(t,o.props.value),e[Ms]=Xo(o),vo(e,"change",()=>{e[Ms](Xr(e))})},beforeUpdate(e,{value:t,oldValue:o},r){e[Ms]=Xo(r),t!==o&&(e.checked=Yo(t,r.props.value))}},_t={deep:!0,created(e,{value:t,modifiers:{number:o}},r){const a=hr(t);vo(e,"change",()=>{const l=Array.prototype.filter.call(e.options,n=>n.selected).map(n=>o?Ya(Xr(n)):Xr(n));e[Ms](e.multiple?a?new Set(l):l:l[0]),e._assigning=!0,so(()=>{e._assigning=!1})}),e[Ms]=Xo(r)},mounted(e,{value:t}){Sc(e,t)},beforeUpdate(e,t,o){e[Ms]=Xo(o)},updated(e,{value:t}){e._assigning||Sc(e,t)}};function Sc(e,t){const o=e.multiple,r=Be(t);if(!(o&&!r&&!hr(t))){for(let a=0,l=e.options.length;a<l;a++){const n=e.options[a],i=Xr(n);if(o)if(r){const d=typeof i;d==="string"||d==="number"?n.selected=t.some(f=>String(f)===String(i)):n.selected=Cl(t,i)>-1}else n.selected=t.has(i);else if(Yo(Xr(n),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!o&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Xr(e){return"_value"in e?e._value:e.value}function xp(e,t){const o=t?"_trueValue":"_falseValue";return o in e?e[o]:t}const bp={created(e,t,o){Ea(e,t,o,null,"created")},mounted(e,t,o){Ea(e,t,o,null,"mounted")},beforeUpdate(e,t,o,r){Ea(e,t,o,r,"beforeUpdate")},updated(e,t,o,r){Ea(e,t,o,r,"updated")}};function wp(e,t){switch(e){case"SELECT":return _t;case"TEXTAREA":return Pe;default:switch(t){case"checkbox":return bs;case"radio":return Hd;default:return Pe}}}function Ea(e,t,o,r,a){const n=wp(e.tagName,o.props&&o.props.type)[a];n&&n(e,t,o,r)}function $h(){Pe.getSSRProps=({value:e})=>({value:e}),Hd.getSSRProps=({value:e},t)=>{if(t.props&&Yo(t.props.value,e))return{checked:!0}},bs.getSSRProps=({value:e},t)=>{if(Be(e)){if(t.props&&Cl(e,t.props.value)>-1)return{checked:!0}}else if(hr(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},bp.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const o=wp(t.type.toUpperCase(),t.props&&t.props.type);if(o.getSSRProps)return o.getSSRProps(e,t)}}const Sh=["ctrl","shift","alt","meta"],Eh={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Sh.some(o=>e[`${o}Key`]&&!t.includes(o))},Ue=(e,t)=>{const o=e._withMods||(e._withMods={}),r=t.join(".");return o[r]||(o[r]=(a,...l)=>{for(let n=0;n<t.length;n++){const i=Eh[t[n]];if(i&&i(a,t))return}return e(a,...l)})},Ah={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Th=(e,t)=>{const o=e._withKeys||(e._withKeys={}),r=t.join(".");return o[r]||(o[r]=a=>{if(!("key"in a))return;const l=ys(a.key);if(t.some(n=>n===l||Ah[n]===l))return e(a)})},_p=Ct({patchProp:fh},qv);let Rn,Ec=!1;function Cp(){return Rn||(Rn=L0(_p))}function kp(){return Rn=Ec?Rn:F0(_p),Ec=!0,Rn}const $p=(...e)=>{Cp().render(...e)},Ph=(...e)=>{kp().hydrate(...e)},qn=(...e)=>{const t=Cp().createApp(...e),{mount:o}=t;return t.mount=r=>{const a=Ap(r);if(!a)return;const l=t._component;!Ge(l)&&!l.render&&!l.template&&(l.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const n=o(a,!1,Ep(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),n},t},Sp=(...e)=>{const t=kp().createApp(...e),{mount:o}=t;return t.mount=r=>{const a=Ap(r);if(a)return o(a,!0,Ep(a))},t};function Ep(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ap(e){return Et(e)?document.querySelector(e):e}let Ac=!1;const Rh=()=>{Ac||(Ac=!0,$h(),eh())};/**
* vue v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Mh=()=>{},Ih=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:f0,BaseTransitionPropsValidators:Rd,Comment:Bt,DeprecationTypes:Wv,EffectScope:xd,ErrorCodes:ng,ErrorTypeStrings:Fv,Fragment:_e,KeepAlive:Rg,ReactiveEffect:Bn,Static:cr,Suspense:bv,Teleport:pg,Text:qo,TrackOpTypes:Q1,Transition:Xv,TransitionGroup:Vd,TriggerOpTypes:Z1,VueElement:Ll,assertNumber:rg,callWithAsyncErrorHandling:Is,callWithErrorHandling:tn,camelize:Qt,capitalize:ea,cloneVNode:oo,compatUtils:zv,compile:Mh,computed:Ne,createApp:qn,createBlock:wt,createCommentVNode:N,createElementBlock:v,createElementVNode:s,createHydrationRenderer:F0,createPropsRestProxy:qg,createRenderer:L0,createSSRApp:Sp,createSlots:Dg,createStaticVNode:ft,createTextVNode:de,createVNode:pe,customRef:Jf,defineAsyncComponent:Tg,defineComponent:Ds,defineCustomElement:gp,defineEmits:Fg,defineExpose:Ng,defineModel:Vg,defineOptions:Bg,defineProps:Lg,defineSSRCustomElement:mh,defineSlots:Ug,devtools:Nv,effect:w1,effectScope:bd,getCurrentInstance:cs,getCurrentScope:wd,getCurrentWatcher:eg,getTransitionRawChildren:Rl,guardReactiveProps:Z0,h:jl,handleError:yr,hasInjectionContext:A0,hydrate:Ph,hydrateOnIdle:Cg,hydrateOnInteraction:Eg,hydrateOnMediaQuery:Sg,hydrateOnVisible:$g,initCustomFormatter:Dv,initDirectivesForSSR:Rh,inject:xs,isMemoSame:np,isProxy:Al,isReactive:Zs,isReadonly:wo,isRef:It,isRuntimeOnly:Mv,isShallow:As,isVNode:Co,markRaw:Tl,mergeDefaults:Kg,mergeModels:Gg,mergeProps:ra,nextTick:so,normalizeClass:ue,normalizeProps:g1,normalizeStyle:ns,onActivated:m0,onBeforeMount:h0,onBeforeUnmount:sa,onBeforeUpdate:Id,onDeactivated:g0,onErrorCaptured:w0,onMounted:it,onRenderTracked:b0,onRenderTriggered:x0,onScopeDispose:Of,onServerPrefetch:y0,onUnmounted:no,onUpdated:Il,onWatcherCleanup:e0,openBlock:p,popScopeId:ug,provide:Tn,proxyRefs:Ad,pushScopeId:dg,queuePostFlushCb:Hn,reactive:Ye,readonly:Sd,ref:j,registerRuntimeCompiler:Rv,render:$p,renderList:Ee,renderSlot:C0,resolveComponent:lt,resolveDirective:Og,resolveDynamicComponent:Jo,resolveFilter:Hv,resolveTransitionHooks:Gr,setBlockTracking:Vi,setDevtoolsHook:Bv,setTransitionHooks:_o,shallowReactive:$d,shallowReadonly:U1,shallowRef:Ed,ssrContextKey:V0,ssrUtils:Vv,stop:_1,toDisplayString:E,toHandlerKey:kn,toHandlers:k0,toRaw:ct,toRef:Y1,toRefs:Qf,toValue:z1,transformVNodeArgs:Sv,triggerRef:H1,unref:mt,useAttrs:Wg,useCssModule:hh,useCssVars:th,useHost:vp,useId:gg,useModel:pv,useSSRContext:H0,useShadowRoot:vh,useSlots:zg,useTemplateRef:vg,useTransitionState:Pd,vModelCheckbox:bs,vModelDynamic:bp,vModelRadio:Hd,vModelSelect:_t,vModelText:Pe,vShow:pp,version:ap,warn:Lv,watch:xt,watchEffect:uv,watchPostEffect:cv,watchSyncEffect:z0,withAsyncContext:Yg,withCtx:ke,withDefaults:Hg,withDirectives:xe,withKeys:Th,withMemo:jv,withModifiers:Ue,withScopeId:cg},Symbol.toStringTag,{value:"Module"}));var Oh=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Tp;const Fl=e=>Tp=e,Pp=Symbol();function Ji(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Mn;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Mn||(Mn={}));function Dh(){const e=bd(!0),t=e.run(()=>j({}));let o=[],r=[];const a=Tl({install(l){Fl(a),a._a=l,l.provide(Pp,a),l.config.globalProperties.$pinia=a,r.forEach(n=>o.push(n)),r=[]},use(l){return!this._a&&!Oh?r.push(l):o.push(l),this},_p:o,_a:null,_e:e,_s:new Map,state:t});return a}const Rp=()=>{};function Tc(e,t,o,r=Rp){e.push(t);const a=()=>{const l=e.indexOf(t);l>-1&&(e.splice(l,1),r())};return!o&&wd()&&Of(a),a}function Er(e,...t){e.slice().forEach(o=>{o(...t)})}const jh=e=>e(),Pc=Symbol(),fi=Symbol();function Qi(e,t){e instanceof Map&&t instanceof Map?t.forEach((o,r)=>e.set(r,o)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const o in t){if(!t.hasOwnProperty(o))continue;const r=t[o],a=e[o];Ji(a)&&Ji(r)&&e.hasOwnProperty(o)&&!It(r)&&!Zs(r)?e[o]=Qi(a,r):e[o]=r}return e}const Lh=Symbol();function Fh(e){return!Ji(e)||!e.hasOwnProperty(Lh)}const{assign:Lo}=Object;function Nh(e){return!!(It(e)&&e.effect)}function Bh(e,t,o,r){const{state:a,actions:l,getters:n}=t,i=o.state.value[e];let d;function f(){i||(o.state.value[e]=a?a():{});const u=Qf(o.state.value[e]);return Lo(u,l,Object.keys(n||{}).reduce((c,m)=>(c[m]=Tl(Ne(()=>{Fl(o);const g=o._s.get(e);return n[m].call(g,g)})),c),{}))}return d=Mp(e,f,t,o,r,!0),d}function Mp(e,t,o={},r,a,l){let n;const i=Lo({actions:{}},o),d={deep:!0};let f,u,c=[],m=[],g;const y=r.state.value[e];!l&&!y&&(r.state.value[e]={}),j({});let k;function C(_){let b;f=u=!1,typeof _=="function"?(_(r.state.value[e]),b={type:Mn.patchFunction,storeId:e,events:g}):(Qi(r.state.value[e],_),b={type:Mn.patchObject,payload:_,storeId:e,events:g});const P=k=Symbol();so().then(()=>{k===P&&(f=!0)}),u=!0,Er(c,b,r.state.value[e])}const A=l?function(){const{state:b}=o,P=b?b():{};this.$patch(R=>{Lo(R,P)})}:Rp;function T(){n.stop(),c=[],m=[],r._s.delete(e)}const $=(_,b="")=>{if(Pc in _)return _[fi]=b,_;const P=function(){Fl(r);const R=Array.from(arguments),M=[],D=[];function J(X){M.push(X)}function G(X){D.push(X)}Er(m,{args:R,name:P[fi],store:S,after:J,onError:G});let B;try{B=_.apply(this&&this.$id===e?this:S,R)}catch(X){throw Er(D,X),X}return B instanceof Promise?B.then(X=>(Er(M,X),X)).catch(X=>(Er(D,X),Promise.reject(X))):(Er(M,B),B)};return P[Pc]=!0,P[fi]=b,P},x={_p:r,$id:e,$onAction:Tc.bind(null,m),$patch:C,$reset:A,$subscribe(_,b={}){const P=Tc(c,_,b.detached,()=>R()),R=n.run(()=>xt(()=>r.state.value[e],M=>{(b.flush==="sync"?u:f)&&_({storeId:e,type:Mn.direct,events:g},M)},Lo({},d,b)));return P},$dispose:T},S=Ye(x);r._s.set(e,S);const w=(r._a&&r._a.runWithContext||jh)(()=>r._e.run(()=>(n=bd()).run(()=>t({action:$}))));for(const _ in w){const b=w[_];if(It(b)&&!Nh(b)||Zs(b))l||(y&&Fh(b)&&(It(b)?b.value=y[_]:Qi(b,y[_])),r.state.value[e][_]=b);else if(typeof b=="function"){const P=$(b,_);w[_]=P,i.actions[_]=b}}return Lo(S,w),Lo(ct(S),w),Object.defineProperty(S,"$state",{get:()=>r.state.value[e],set:_=>{C(b=>{Lo(b,_)})}}),r._p.forEach(_=>{Lo(S,n.run(()=>_({store:S,app:r._a,pinia:r,options:i})))}),y&&l&&o.hydrate&&o.hydrate(S.$state,y),f=!0,u=!0,S}/*! #__NO_SIDE_EFFECTS__ */function Ip(e,t,o){let r,a;const l=typeof t=="function";typeof e=="string"?(r=e,a=l?o:t):(a=e,r=e.id);function n(i,d){const f=A0();return i=i||(f?xs(Pp,null):null),i&&Fl(i),i=Tp,i._s.has(r)||(l?Mp(r,t,a,i):Bh(r,a,i)),i._s.get(r)}return n.$id=r,n}const Uh="modulepreload",Vh=function(e){return"/"+e},Rc={},Nt=function(t,o,r){if(!o||o.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(o.map(l=>{if(l=Vh(l),l in Rc)return;Rc[l]=!0;const n=l.endsWith(".css"),i=n?'[rel="stylesheet"]':"";if(!!r)for(let u=a.length-1;u>=0;u--){const c=a[u];if(c.href===l&&(!n||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${i}`))return;const f=document.createElement("link");if(f.rel=n?"stylesheet":Uh,n||(f.as="script",f.crossOrigin=""),f.href=l,document.head.appendChild(f),n)return new Promise((u,c)=>{f.addEventListener("load",u),f.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t()).catch(l=>{const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=l,window.dispatchEvent(n),!n.defaultPrevented)throw l})};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Dr=typeof document<"u";function Op(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Hh(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Op(e.default)}const ht=Object.assign;function pi(e,t){const o={};for(const r in t){const a=t[r];o[r]=Ws(a)?a.map(e):e(a)}return o}const In=()=>{},Ws=Array.isArray,Dp=/#/g,zh=/&/g,Wh=/\//g,Kh=/=/g,Gh=/\?/g,jp=/\+/g,qh=/%5B/g,Yh=/%5D/g,Lp=/%5E/g,Xh=/%60/g,Fp=/%7B/g,Jh=/%7C/g,Np=/%7D/g,Qh=/%20/g;function zd(e){return encodeURI(""+e).replace(Jh,"|").replace(qh,"[").replace(Yh,"]")}function Zh(e){return zd(e).replace(Fp,"{").replace(Np,"}").replace(Lp,"^")}function Zi(e){return zd(e).replace(jp,"%2B").replace(Qh,"+").replace(Dp,"%23").replace(zh,"%26").replace(Xh,"`").replace(Fp,"{").replace(Np,"}").replace(Lp,"^")}function e2(e){return Zi(e).replace(Kh,"%3D")}function t2(e){return zd(e).replace(Dp,"%23").replace(Gh,"%3F")}function s2(e){return e==null?"":t2(e).replace(Wh,"%2F")}function Yn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const o2=/\/$/,r2=e=>e.replace(o2,"");function mi(e,t,o="/"){let r,a={},l="",n="";const i=t.indexOf("#");let d=t.indexOf("?");return i<d&&i>=0&&(d=-1),d>-1&&(r=t.slice(0,d),l=t.slice(d+1,i>-1?i:t.length),a=e(l)),i>-1&&(r=r||t.slice(0,i),n=t.slice(i,t.length)),r=i2(r??t,o),{fullPath:r+(l&&"?")+l+n,path:r,query:a,hash:Yn(n)}}function n2(e,t){const o=t.query?e(t.query):"";return t.path+(o&&"?")+o+(t.hash||"")}function Mc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function a2(e,t,o){const r=t.matched.length-1,a=o.matched.length-1;return r>-1&&r===a&&Jr(t.matched[r],o.matched[a])&&Bp(t.params,o.params)&&e(t.query)===e(o.query)&&t.hash===o.hash}function Jr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Bp(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(!l2(e[o],t[o]))return!1;return!0}function l2(e,t){return Ws(e)?Ic(e,t):Ws(t)?Ic(t,e):e===t}function Ic(e,t){return Ws(t)?e.length===t.length&&e.every((o,r)=>o===t[r]):e.length===1&&e[0]===t}function i2(e,t){if(e.startsWith("/"))return e;if(!e)return t;const o=t.split("/"),r=e.split("/"),a=r[r.length-1];(a===".."||a===".")&&r.push("");let l=o.length-1,n,i;for(n=0;n<r.length;n++)if(i=r[n],i!==".")if(i==="..")l>1&&l--;else break;return o.slice(0,l).join("/")+"/"+r.slice(n).join("/")}const Do={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Xn;(function(e){e.pop="pop",e.push="push"})(Xn||(Xn={}));var On;(function(e){e.back="back",e.forward="forward",e.unknown=""})(On||(On={}));function d2(e){if(!e)if(Dr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),r2(e)}const u2=/^[^#]+#/;function c2(e,t){return e.replace(u2,"#")+t}function f2(e,t){const o=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-o.left-(t.left||0),top:r.top-o.top-(t.top||0)}}const Nl=()=>({left:window.scrollX,top:window.scrollY});function p2(e){let t;if("el"in e){const o=e.el,r=typeof o=="string"&&o.startsWith("#"),a=typeof o=="string"?r?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!a)return;t=f2(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Oc(e,t){return(history.state?history.state.position-t:-1)+e}const ed=new Map;function m2(e,t){ed.set(e,t)}function g2(e){const t=ed.get(e);return ed.delete(e),t}let v2=()=>location.protocol+"//"+location.host;function Up(e,t){const{pathname:o,search:r,hash:a}=t,l=e.indexOf("#");if(l>-1){let i=a.includes(e.slice(l))?e.slice(l).length:1,d=a.slice(i);return d[0]!=="/"&&(d="/"+d),Mc(d,"")}return Mc(o,e)+r+a}function h2(e,t,o,r){let a=[],l=[],n=null;const i=({state:m})=>{const g=Up(e,location),y=o.value,k=t.value;let C=0;if(m){if(o.value=g,t.value=m,n&&n===y){n=null;return}C=k?m.position-k.position:0}else r(g);a.forEach(A=>{A(o.value,y,{delta:C,type:Xn.pop,direction:C?C>0?On.forward:On.back:On.unknown})})};function d(){n=o.value}function f(m){a.push(m);const g=()=>{const y=a.indexOf(m);y>-1&&a.splice(y,1)};return l.push(g),g}function u(){const{history:m}=window;m.state&&m.replaceState(ht({},m.state,{scroll:Nl()}),"")}function c(){for(const m of l)m();l=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:d,listen:f,destroy:c}}function Dc(e,t,o,r=!1,a=!1){return{back:e,current:t,forward:o,replaced:r,position:window.history.length,scroll:a?Nl():null}}function y2(e){const{history:t,location:o}=window,r={value:Up(e,o)},a={value:t.state};a.value||l(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(d,f,u){const c=e.indexOf("#"),m=c>-1?(o.host&&document.querySelector("base")?e:e.slice(c))+d:v2()+e+d;try{t[u?"replaceState":"pushState"](f,"",m),a.value=f}catch(g){console.error(g),o[u?"replace":"assign"](m)}}function n(d,f){const u=ht({},t.state,Dc(a.value.back,d,a.value.forward,!0),f,{position:a.value.position});l(d,u,!0),r.value=d}function i(d,f){const u=ht({},a.value,t.state,{forward:d,scroll:Nl()});l(u.current,u,!0);const c=ht({},Dc(r.value,d,null),{position:u.position+1},f);l(d,c,!1),r.value=d}return{location:r,state:a,push:i,replace:n}}function x2(e){e=d2(e);const t=y2(e),o=h2(e,t.state,t.location,t.replace);function r(l,n=!0){n||o.pauseListeners(),history.go(l)}const a=ht({location:"",base:e,go:r,createHref:c2.bind(null,e)},t,o);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function b2(e){return typeof e=="string"||e&&typeof e=="object"}function Vp(e){return typeof e=="string"||typeof e=="symbol"}const Hp=Symbol("");var jc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(jc||(jc={}));function Qr(e,t){return ht(new Error,{type:e,[Hp]:!0},t)}function fo(e,t){return e instanceof Error&&Hp in e&&(t==null||!!(e.type&t))}const Lc="[^/]+?",w2={sensitive:!1,strict:!1,start:!0,end:!0},_2=/[.+*?^${}()[\]/\\]/g;function C2(e,t){const o=ht({},w2,t),r=[];let a=o.start?"^":"";const l=[];for(const f of e){const u=f.length?[]:[90];o.strict&&!f.length&&(a+="/");for(let c=0;c<f.length;c++){const m=f[c];let g=40+(o.sensitive?.25:0);if(m.type===0)c||(a+="/"),a+=m.value.replace(_2,"\\$&"),g+=40;else if(m.type===1){const{value:y,repeatable:k,optional:C,regexp:A}=m;l.push({name:y,repeatable:k,optional:C});const T=A||Lc;if(T!==Lc){g+=10;try{new RegExp(`(${T})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${y}" (${T}): `+x.message)}}let $=k?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;c||($=C&&f.length<2?`(?:/${$})`:"/"+$),C&&($+="?"),a+=$,g+=20,C&&(g+=-8),k&&(g+=-20),T===".*"&&(g+=-50)}u.push(g)}r.push(u)}if(o.strict&&o.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}o.strict||(a+="/?"),o.end?a+="$":o.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const n=new RegExp(a,o.sensitive?"":"i");function i(f){const u=f.match(n),c={};if(!u)return null;for(let m=1;m<u.length;m++){const g=u[m]||"",y=l[m-1];c[y.name]=g&&y.repeatable?g.split("/"):g}return c}function d(f){let u="",c=!1;for(const m of e){(!c||!u.endsWith("/"))&&(u+="/"),c=!1;for(const g of m)if(g.type===0)u+=g.value;else if(g.type===1){const{value:y,repeatable:k,optional:C}=g,A=y in f?f[y]:"";if(Ws(A)&&!k)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const T=Ws(A)?A.join("/"):A;if(!T)if(C)m.length<2&&(u.endsWith("/")?u=u.slice(0,-1):c=!0);else throw new Error(`Missing required param "${y}"`);u+=T}}return u||"/"}return{re:n,score:r,keys:l,parse:i,stringify:d}}function k2(e,t){let o=0;for(;o<e.length&&o<t.length;){const r=t[o]-e[o];if(r)return r;o++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function zp(e,t){let o=0;const r=e.score,a=t.score;for(;o<r.length&&o<a.length;){const l=k2(r[o],a[o]);if(l)return l;o++}if(Math.abs(a.length-r.length)===1){if(Fc(r))return 1;if(Fc(a))return-1}return a.length-r.length}function Fc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const $2={type:0,value:""},S2=/[a-zA-Z0-9_]/;function E2(e){if(!e)return[[]];if(e==="/")return[[$2]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${o})/"${f}": ${g}`)}let o=0,r=o;const a=[];let l;function n(){l&&a.push(l),l=[]}let i=0,d,f="",u="";function c(){f&&(o===0?l.push({type:0,value:f}):o===1||o===2||o===3?(l.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:f,regexp:u,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),f="")}function m(){f+=d}for(;i<e.length;){if(d=e[i++],d==="\\"&&o!==2){r=o,o=4;continue}switch(o){case 0:d==="/"?(f&&c(),n()):d===":"?(c(),o=1):m();break;case 4:m(),o=r;break;case 1:d==="("?o=2:S2.test(d)?m():(c(),o=0,d!=="*"&&d!=="?"&&d!=="+"&&i--);break;case 2:d===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+d:o=3:u+=d;break;case 3:c(),o=0,d!=="*"&&d!=="?"&&d!=="+"&&i--,u="";break;default:t("Unknown state");break}}return o===2&&t(`Unfinished custom RegExp for param "${f}"`),c(),n(),a}function A2(e,t,o){const r=C2(E2(e.path),o),a=ht(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function T2(e,t){const o=[],r=new Map;t=Vc({strict:!1,end:!0,sensitive:!1},t);function a(c){return r.get(c)}function l(c,m,g){const y=!g,k=Bc(c);k.aliasOf=g&&g.record;const C=Vc(t,c),A=[k];if("alias"in c){const x=typeof c.alias=="string"?[c.alias]:c.alias;for(const S of x)A.push(Bc(ht({},k,{components:g?g.record.components:k.components,path:S,aliasOf:g?g.record:k})))}let T,$;for(const x of A){const{path:S}=x;if(m&&S[0]!=="/"){const h=m.record.path,w=h[h.length-1]==="/"?"":"/";x.path=m.record.path+(S&&w+S)}if(T=A2(x,m,C),g?g.alias.push(T):($=$||T,$!==T&&$.alias.push(T),y&&c.name&&!Uc(T)&&n(c.name)),Wp(T)&&d(T),k.children){const h=k.children;for(let w=0;w<h.length;w++)l(h[w],T,g&&g.children[w])}g=g||T}return $?()=>{n($)}:In}function n(c){if(Vp(c)){const m=r.get(c);m&&(r.delete(c),o.splice(o.indexOf(m),1),m.children.forEach(n),m.alias.forEach(n))}else{const m=o.indexOf(c);m>-1&&(o.splice(m,1),c.record.name&&r.delete(c.record.name),c.children.forEach(n),c.alias.forEach(n))}}function i(){return o}function d(c){const m=M2(c,o);o.splice(m,0,c),c.record.name&&!Uc(c)&&r.set(c.record.name,c)}function f(c,m){let g,y={},k,C;if("name"in c&&c.name){if(g=r.get(c.name),!g)throw Qr(1,{location:c});C=g.record.name,y=ht(Nc(m.params,g.keys.filter($=>!$.optional).concat(g.parent?g.parent.keys.filter($=>$.optional):[]).map($=>$.name)),c.params&&Nc(c.params,g.keys.map($=>$.name))),k=g.stringify(y)}else if(c.path!=null)k=c.path,g=o.find($=>$.re.test(k)),g&&(y=g.parse(k),C=g.record.name);else{if(g=m.name?r.get(m.name):o.find($=>$.re.test(m.path)),!g)throw Qr(1,{location:c,currentLocation:m});C=g.record.name,y=ht({},m.params,c.params),k=g.stringify(y)}const A=[];let T=g;for(;T;)A.unshift(T.record),T=T.parent;return{name:C,path:k,params:y,matched:A,meta:R2(A)}}e.forEach(c=>l(c));function u(){o.length=0,r.clear()}return{addRoute:l,resolve:f,removeRoute:n,clearRoutes:u,getRoutes:i,getRecordMatcher:a}}function Nc(e,t){const o={};for(const r of t)r in e&&(o[r]=e[r]);return o}function Bc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:P2(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function P2(e){const t={},o=e.props||!1;if("component"in e)t.default=o;else for(const r in e.components)t[r]=typeof o=="object"?o[r]:o;return t}function Uc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function R2(e){return e.reduce((t,o)=>ht(t,o.meta),{})}function Vc(e,t){const o={};for(const r in e)o[r]=r in t?t[r]:e[r];return o}function M2(e,t){let o=0,r=t.length;for(;o!==r;){const l=o+r>>1;zp(e,t[l])<0?r=l:o=l+1}const a=I2(e);return a&&(r=t.lastIndexOf(a,r-1)),r}function I2(e){let t=e;for(;t=t.parent;)if(Wp(t)&&zp(e,t)===0)return t}function Wp({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function O2(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const l=r[a].replace(jp," "),n=l.indexOf("="),i=Yn(n<0?l:l.slice(0,n)),d=n<0?null:Yn(l.slice(n+1));if(i in t){let f=t[i];Ws(f)||(f=t[i]=[f]),f.push(d)}else t[i]=d}return t}function Hc(e){let t="";for(let o in e){const r=e[o];if(o=e2(o),r==null){r!==void 0&&(t+=(t.length?"&":"")+o);continue}(Ws(r)?r.map(l=>l&&Zi(l)):[r&&Zi(r)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+o,l!=null&&(t+="="+l))})}return t}function D2(e){const t={};for(const o in e){const r=e[o];r!==void 0&&(t[o]=Ws(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}const j2=Symbol(""),zc=Symbol(""),Bl=Symbol(""),Wd=Symbol(""),td=Symbol("");function pn(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function o(){e=[]}return{add:t,list:()=>e.slice(),reset:o}}function Vo(e,t,o,r,a,l=n=>n()){const n=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((i,d)=>{const f=m=>{m===!1?d(Qr(4,{from:o,to:t})):m instanceof Error?d(m):b2(m)?d(Qr(2,{from:t,to:m})):(n&&r.enterCallbacks[a]===n&&typeof m=="function"&&n.push(m),i())},u=l(()=>e.call(r&&r.instances[a],t,o,f));let c=Promise.resolve(u);e.length<3&&(c=c.then(f)),c.catch(m=>d(m))})}function gi(e,t,o,r,a=l=>l()){const l=[];for(const n of e)for(const i in n.components){let d=n.components[i];if(!(t!=="beforeRouteEnter"&&!n.instances[i]))if(Op(d)){const u=(d.__vccOpts||d)[t];u&&l.push(Vo(u,o,r,n,i,a))}else{let f=d();l.push(()=>f.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${i}" at "${n.path}"`);const c=Hh(u)?u.default:u;n.mods[i]=u,n.components[i]=c;const g=(c.__vccOpts||c)[t];return g&&Vo(g,o,r,n,i,a)()}))}}return l}function Wc(e){const t=xs(Bl),o=xs(Wd),r=Ne(()=>{const d=mt(e.to);return t.resolve(d)}),a=Ne(()=>{const{matched:d}=r.value,{length:f}=d,u=d[f-1],c=o.matched;if(!u||!c.length)return-1;const m=c.findIndex(Jr.bind(null,u));if(m>-1)return m;const g=Kc(d[f-2]);return f>1&&Kc(u)===g&&c[c.length-1].path!==g?c.findIndex(Jr.bind(null,d[f-2])):m}),l=Ne(()=>a.value>-1&&U2(o.params,r.value.params)),n=Ne(()=>a.value>-1&&a.value===o.matched.length-1&&Bp(o.params,r.value.params));function i(d={}){if(B2(d)){const f=t[mt(e.replace)?"replace":"push"](mt(e.to)).catch(In);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:r,href:Ne(()=>r.value.href),isActive:l,isExactActive:n,navigate:i}}function L2(e){return e.length===1?e[0]:e}const F2=Ds({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Wc,setup(e,{slots:t}){const o=Ye(Wc(e)),{options:r}=xs(Bl),a=Ne(()=>({[Gc(e.activeClass,r.linkActiveClass,"router-link-active")]:o.isActive,[Gc(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const l=t.default&&L2(t.default(o));return e.custom?l:jl("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:a.value},l)}}}),N2=F2;function B2(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function U2(e,t){for(const o in t){const r=t[o],a=e[o];if(typeof r=="string"){if(r!==a)return!1}else if(!Ws(a)||a.length!==r.length||r.some((l,n)=>l!==a[n]))return!1}return!0}function Kc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Gc=(e,t,o)=>e??t??o,V2=Ds({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:o}){const r=xs(td),a=Ne(()=>e.route||r.value),l=xs(zc,0),n=Ne(()=>{let f=mt(l);const{matched:u}=a.value;let c;for(;(c=u[f])&&!c.components;)f++;return f}),i=Ne(()=>a.value.matched[n.value]);Tn(zc,Ne(()=>n.value+1)),Tn(j2,i),Tn(td,a);const d=j();return xt(()=>[d.value,i.value,e.name],([f,u,c],[m,g,y])=>{u&&(u.instances[c]=f,g&&g!==u&&f&&f===m&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),f&&u&&(!g||!Jr(u,g)||!m)&&(u.enterCallbacks[c]||[]).forEach(k=>k(f))},{flush:"post"}),()=>{const f=a.value,u=e.name,c=i.value,m=c&&c.components[u];if(!m)return qc(o.default,{Component:m,route:f});const g=c.props[u],y=g?g===!0?f.params:typeof g=="function"?g(f):g:null,C=jl(m,ht({},y,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(c.instances[u]=null)},ref:d}));return qc(o.default,{Component:C,route:f})||C}}});function qc(e,t){if(!e)return null;const o=e(t);return o.length===1?o[0]:o}const H2=V2;function z2(e){const t=T2(e.routes,e),o=e.parseQuery||O2,r=e.stringifyQuery||Hc,a=e.history,l=pn(),n=pn(),i=pn(),d=Ed(Do);let f=Do;Dr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=pi.bind(null,Z=>""+Z),c=pi.bind(null,s2),m=pi.bind(null,Yn);function g(Z,be){let Ce,Oe;return Vp(Z)?(Ce=t.getRecordMatcher(Z),Oe=be):Oe=Z,t.addRoute(Oe,Ce)}function y(Z){const be=t.getRecordMatcher(Z);be&&t.removeRoute(be)}function k(){return t.getRoutes().map(Z=>Z.record)}function C(Z){return!!t.getRecordMatcher(Z)}function A(Z,be){if(be=ht({},be||d.value),typeof Z=="string"){const F=mi(o,Z,be.path),ne=t.resolve({path:F.path},be),me=a.createHref(F.fullPath);return ht(F,ne,{params:m(ne.params),hash:Yn(F.hash),redirectedFrom:void 0,href:me})}let Ce;if(Z.path!=null)Ce=ht({},Z,{path:mi(o,Z.path,be.path).path});else{const F=ht({},Z.params);for(const ne in F)F[ne]==null&&delete F[ne];Ce=ht({},Z,{params:c(F)}),be.params=c(be.params)}const Oe=t.resolve(Ce,be),Xe=Z.hash||"";Oe.params=u(m(Oe.params));const st=n2(r,ht({},Z,{hash:Zh(Xe),path:Oe.path})),I=a.createHref(st);return ht({fullPath:st,hash:Xe,query:r===Hc?D2(Z.query):Z.query||{}},Oe,{redirectedFrom:void 0,href:I})}function T(Z){return typeof Z=="string"?mi(o,Z,d.value.path):ht({},Z)}function $(Z,be){if(f!==Z)return Qr(8,{from:be,to:Z})}function x(Z){return w(Z)}function S(Z){return x(ht(T(Z),{replace:!0}))}function h(Z){const be=Z.matched[Z.matched.length-1];if(be&&be.redirect){const{redirect:Ce}=be;let Oe=typeof Ce=="function"?Ce(Z):Ce;return typeof Oe=="string"&&(Oe=Oe.includes("?")||Oe.includes("#")?Oe=T(Oe):{path:Oe},Oe.params={}),ht({query:Z.query,hash:Z.hash,params:Oe.path!=null?{}:Z.params},Oe)}}function w(Z,be){const Ce=f=A(Z),Oe=d.value,Xe=Z.state,st=Z.force,I=Z.replace===!0,F=h(Ce);if(F)return w(ht(T(F),{state:typeof F=="object"?ht({},Xe,F.state):Xe,force:st,replace:I}),be||Ce);const ne=Ce;ne.redirectedFrom=be;let me;return!st&&a2(r,Oe,Ce)&&(me=Qr(16,{to:ne,from:Oe}),Ve(Oe,Oe,!0,!1)),(me?Promise.resolve(me):P(ne,Oe)).catch(ce=>fo(ce)?fo(ce,2)?ce:Se(ce):te(ce,ne,Oe)).then(ce=>{if(ce){if(fo(ce,2))return w(ht({replace:I},T(ce.to),{state:typeof ce.to=="object"?ht({},Xe,ce.to.state):Xe,force:st}),be||ne)}else ce=M(ne,Oe,!0,I,Xe);return R(ne,Oe,ce),ce})}function _(Z,be){const Ce=$(Z,be);return Ce?Promise.reject(Ce):Promise.resolve()}function b(Z){const be=ge.values().next().value;return be&&typeof be.runWithContext=="function"?be.runWithContext(Z):Z()}function P(Z,be){let Ce;const[Oe,Xe,st]=W2(Z,be);Ce=gi(Oe.reverse(),"beforeRouteLeave",Z,be);for(const F of Oe)F.leaveGuards.forEach(ne=>{Ce.push(Vo(ne,Z,be))});const I=_.bind(null,Z,be);return Ce.push(I),we(Ce).then(()=>{Ce=[];for(const F of l.list())Ce.push(Vo(F,Z,be));return Ce.push(I),we(Ce)}).then(()=>{Ce=gi(Xe,"beforeRouteUpdate",Z,be);for(const F of Xe)F.updateGuards.forEach(ne=>{Ce.push(Vo(ne,Z,be))});return Ce.push(I),we(Ce)}).then(()=>{Ce=[];for(const F of st)if(F.beforeEnter)if(Ws(F.beforeEnter))for(const ne of F.beforeEnter)Ce.push(Vo(ne,Z,be));else Ce.push(Vo(F.beforeEnter,Z,be));return Ce.push(I),we(Ce)}).then(()=>(Z.matched.forEach(F=>F.enterCallbacks={}),Ce=gi(st,"beforeRouteEnter",Z,be,b),Ce.push(I),we(Ce))).then(()=>{Ce=[];for(const F of n.list())Ce.push(Vo(F,Z,be));return Ce.push(I),we(Ce)}).catch(F=>fo(F,8)?F:Promise.reject(F))}function R(Z,be,Ce){i.list().forEach(Oe=>b(()=>Oe(Z,be,Ce)))}function M(Z,be,Ce,Oe,Xe){const st=$(Z,be);if(st)return st;const I=be===Do,F=Dr?history.state:{};Ce&&(Oe||I?a.replace(Z.fullPath,ht({scroll:I&&F&&F.scroll},Xe)):a.push(Z.fullPath,Xe)),d.value=Z,Ve(Z,be,Ce,I),Se()}let D;function J(){D||(D=a.listen((Z,be,Ce)=>{if(!q.listening)return;const Oe=A(Z),Xe=h(Oe);if(Xe){w(ht(Xe,{replace:!0,force:!0}),Oe).catch(In);return}f=Oe;const st=d.value;Dr&&m2(Oc(st.fullPath,Ce.delta),Nl()),P(Oe,st).catch(I=>fo(I,12)?I:fo(I,2)?(w(ht(T(I.to),{force:!0}),Oe).then(F=>{fo(F,20)&&!Ce.delta&&Ce.type===Xn.pop&&a.go(-1,!1)}).catch(In),Promise.reject()):(Ce.delta&&a.go(-Ce.delta,!1),te(I,Oe,st))).then(I=>{I=I||M(Oe,st,!1),I&&(Ce.delta&&!fo(I,8)?a.go(-Ce.delta,!1):Ce.type===Xn.pop&&fo(I,20)&&a.go(-1,!1)),R(Oe,st,I)}).catch(In)}))}let G=pn(),B=pn(),X;function te(Z,be,Ce){Se(Z);const Oe=B.list();return Oe.length?Oe.forEach(Xe=>Xe(Z,be,Ce)):console.error(Z),Promise.reject(Z)}function se(){return X&&d.value!==Do?Promise.resolve():new Promise((Z,be)=>{G.add([Z,be])})}function Se(Z){return X||(X=!Z,J(),G.list().forEach(([be,Ce])=>Z?Ce(Z):be()),G.reset()),Z}function Ve(Z,be,Ce,Oe){const{scrollBehavior:Xe}=e;if(!Dr||!Xe)return Promise.resolve();const st=!Ce&&g2(Oc(Z.fullPath,0))||(Oe||!Ce)&&history.state&&history.state.scroll||null;return so().then(()=>Xe(Z,be,st)).then(I=>I&&p2(I)).catch(I=>te(I,Z,be))}const $e=Z=>a.go(Z);let ze;const ge=new Set,q={currentRoute:d,listening:!0,addRoute:g,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:C,getRoutes:k,resolve:A,options:e,push:x,replace:S,go:$e,back:()=>$e(-1),forward:()=>$e(1),beforeEach:l.add,beforeResolve:n.add,afterEach:i.add,onError:B.add,isReady:se,install(Z){const be=this;Z.component("RouterLink",N2),Z.component("RouterView",H2),Z.config.globalProperties.$router=be,Object.defineProperty(Z.config.globalProperties,"$route",{enumerable:!0,get:()=>mt(d)}),Dr&&!ze&&d.value===Do&&(ze=!0,x(a.location).catch(Xe=>{}));const Ce={};for(const Xe in Do)Object.defineProperty(Ce,Xe,{get:()=>d.value[Xe],enumerable:!0});Z.provide(Bl,be),Z.provide(Wd,$d(Ce)),Z.provide(td,d);const Oe=Z.unmount;ge.add(Z),Z.unmount=function(){ge.delete(Z),ge.size<1&&(f=Do,D&&D(),D=null,d.value=Do,ze=!1,X=!1),Oe()}}};function we(Z){return Z.reduce((be,Ce)=>be.then(()=>b(Ce)),Promise.resolve())}return q}function W2(e,t){const o=[],r=[],a=[],l=Math.max(t.matched.length,e.matched.length);for(let n=0;n<l;n++){const i=t.matched[n];i&&(e.matched.find(f=>Jr(f,i))?r.push(i):o.push(i));const d=e.matched[n];d&&(t.matched.find(f=>Jr(f,d))||a.push(d))}return[o,r,a]}function kt(){return xs(Bl)}function fs(e){return xs(Wd)}function Kp(e,t){return function(){return e.apply(t,arguments)}}const{toString:K2}=Object.prototype,{getPrototypeOf:Kd}=Object,{iterator:Ul,toStringTag:Gp}=Symbol,Vl=(e=>t=>{const o=K2.call(t);return e[o]||(e[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),Ks=e=>(e=e.toLowerCase(),t=>Vl(t)===e),Hl=e=>t=>typeof t===e,{isArray:sn}=Array,Jn=Hl("undefined");function aa(e){return e!==null&&!Jn(e)&&e.constructor!==null&&!Jn(e.constructor)&&ws(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const qp=Ks("ArrayBuffer");function G2(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&qp(e.buffer),t}const q2=Hl("string"),ws=Hl("function"),Yp=Hl("number"),la=e=>e!==null&&typeof e=="object",Y2=e=>e===!0||e===!1,Na=e=>{if(Vl(e)!=="object")return!1;const t=Kd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Gp in e)&&!(Ul in e)},X2=e=>{if(!la(e)||aa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},J2=Ks("Date"),Q2=Ks("File"),Z2=Ks("Blob"),ey=Ks("FileList"),ty=e=>la(e)&&ws(e.pipe),sy=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ws(e.append)&&((t=Vl(e))==="formdata"||t==="object"&&ws(e.toString)&&e.toString()==="[object FormData]"))},oy=Ks("URLSearchParams"),[ry,ny,ay,ly]=["ReadableStream","Request","Response","Headers"].map(Ks),iy=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ia(e,t,{allOwnKeys:o=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),sn(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(aa(e))return;const l=o?Object.getOwnPropertyNames(e):Object.keys(e),n=l.length;let i;for(r=0;r<n;r++)i=l[r],t.call(null,e[i],i,e)}}function Xp(e,t){if(aa(e))return null;t=t.toLowerCase();const o=Object.keys(e);let r=o.length,a;for(;r-- >0;)if(a=o[r],t===a.toLowerCase())return a;return null}const lr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Jp=e=>!Jn(e)&&e!==lr;function sd(){const{caseless:e}=Jp(this)&&this||{},t={},o=(r,a)=>{const l=e&&Xp(t,a)||a;Na(t[l])&&Na(r)?t[l]=sd(t[l],r):Na(r)?t[l]=sd({},r):sn(r)?t[l]=r.slice():t[l]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&ia(arguments[r],o);return t}const dy=(e,t,o,{allOwnKeys:r}={})=>(ia(t,(a,l)=>{o&&ws(a)?e[l]=Kp(a,o):e[l]=a},{allOwnKeys:r}),e),uy=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),cy=(e,t,o,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),o&&Object.assign(e.prototype,o)},fy=(e,t,o,r)=>{let a,l,n;const i={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)n=a[l],(!r||r(n,e,t))&&!i[n]&&(t[n]=e[n],i[n]=!0);e=o!==!1&&Kd(e)}while(e&&(!o||o(e,t))&&e!==Object.prototype);return t},py=(e,t,o)=>{e=String(e),(o===void 0||o>e.length)&&(o=e.length),o-=t.length;const r=e.indexOf(t,o);return r!==-1&&r===o},my=e=>{if(!e)return null;if(sn(e))return e;let t=e.length;if(!Yp(t))return null;const o=new Array(t);for(;t-- >0;)o[t]=e[t];return o},gy=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Kd(Uint8Array)),vy=(e,t)=>{const r=(e&&e[Ul]).call(e);let a;for(;(a=r.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},hy=(e,t)=>{let o;const r=[];for(;(o=e.exec(t))!==null;)r.push(o);return r},yy=Ks("HTMLFormElement"),xy=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,r,a){return r.toUpperCase()+a}),Yc=(({hasOwnProperty:e})=>(t,o)=>e.call(t,o))(Object.prototype),by=Ks("RegExp"),Qp=(e,t)=>{const o=Object.getOwnPropertyDescriptors(e),r={};ia(o,(a,l)=>{let n;(n=t(a,l,e))!==!1&&(r[l]=n||a)}),Object.defineProperties(e,r)},wy=e=>{Qp(e,(t,o)=>{if(ws(e)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const r=e[o];if(ws(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},_y=(e,t)=>{const o={},r=a=>{a.forEach(l=>{o[l]=!0})};return sn(e)?r(e):r(String(e).split(t)),o},Cy=()=>{},ky=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function $y(e){return!!(e&&ws(e.append)&&e[Gp]==="FormData"&&e[Ul])}const Sy=e=>{const t=new Array(10),o=(r,a)=>{if(la(r)){if(t.indexOf(r)>=0)return;if(aa(r))return r;if(!("toJSON"in r)){t[a]=r;const l=sn(r)?[]:{};return ia(r,(n,i)=>{const d=o(n,a+1);!Jn(d)&&(l[i]=d)}),t[a]=void 0,l}}return r};return o(e,0)},Ey=Ks("AsyncFunction"),Ay=e=>e&&(la(e)||ws(e))&&ws(e.then)&&ws(e.catch),Zp=((e,t)=>e?setImmediate:t?((o,r)=>(lr.addEventListener("message",({source:a,data:l})=>{a===lr&&l===o&&r.length&&r.shift()()},!1),a=>{r.push(a),lr.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",ws(lr.postMessage)),Ty=typeof queueMicrotask<"u"?queueMicrotask.bind(lr):typeof process<"u"&&process.nextTick||Zp,Py=e=>e!=null&&ws(e[Ul]),fe={isArray:sn,isArrayBuffer:qp,isBuffer:aa,isFormData:sy,isArrayBufferView:G2,isString:q2,isNumber:Yp,isBoolean:Y2,isObject:la,isPlainObject:Na,isEmptyObject:X2,isReadableStream:ry,isRequest:ny,isResponse:ay,isHeaders:ly,isUndefined:Jn,isDate:J2,isFile:Q2,isBlob:Z2,isRegExp:by,isFunction:ws,isStream:ty,isURLSearchParams:oy,isTypedArray:gy,isFileList:ey,forEach:ia,merge:sd,extend:dy,trim:iy,stripBOM:uy,inherits:cy,toFlatObject:fy,kindOf:Vl,kindOfTest:Ks,endsWith:py,toArray:my,forEachEntry:vy,matchAll:hy,isHTMLForm:yy,hasOwnProperty:Yc,hasOwnProp:Yc,reduceDescriptors:Qp,freezeMethods:wy,toObjectSet:_y,toCamelCase:xy,noop:Cy,toFiniteNumber:ky,findKey:Xp,global:lr,isContextDefined:Jp,isSpecCompliantForm:$y,toJSONObject:Sy,isAsyncFn:Ey,isThenable:Ay,setImmediate:Zp,asap:Ty,isIterable:Py};function tt(e,t,o,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),o&&(this.config=o),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}fe.inherits(tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const em=tt.prototype,tm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tm[e]={value:e}});Object.defineProperties(tt,tm);Object.defineProperty(em,"isAxiosError",{value:!0});tt.from=(e,t,o,r,a,l)=>{const n=Object.create(em);return fe.toFlatObject(e,n,function(d){return d!==Error.prototype},i=>i!=="isAxiosError"),tt.call(n,e.message,t,o,r,a),n.cause=e,n.name=e.name,l&&Object.assign(n,l),n};const Ry=null;function od(e){return fe.isPlainObject(e)||fe.isArray(e)}function sm(e){return fe.endsWith(e,"[]")?e.slice(0,-2):e}function Xc(e,t,o){return e?e.concat(t).map(function(a,l){return a=sm(a),!o&&l?"["+a+"]":a}).join(o?".":""):t}function My(e){return fe.isArray(e)&&!e.some(od)}const Iy=fe.toFlatObject(fe,{},null,function(t){return/^is[A-Z]/.test(t)});function zl(e,t,o){if(!fe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,o=fe.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,C){return!fe.isUndefined(C[k])});const r=o.metaTokens,a=o.visitor||u,l=o.dots,n=o.indexes,d=(o.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(t);if(!fe.isFunction(a))throw new TypeError("visitor must be a function");function f(y){if(y===null)return"";if(fe.isDate(y))return y.toISOString();if(fe.isBoolean(y))return y.toString();if(!d&&fe.isBlob(y))throw new tt("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(y)||fe.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,k,C){let A=y;if(y&&!C&&typeof y=="object"){if(fe.endsWith(k,"{}"))k=r?k:k.slice(0,-2),y=JSON.stringify(y);else if(fe.isArray(y)&&My(y)||(fe.isFileList(y)||fe.endsWith(k,"[]"))&&(A=fe.toArray(y)))return k=sm(k),A.forEach(function($,x){!(fe.isUndefined($)||$===null)&&t.append(n===!0?Xc([k],x,l):n===null?k:k+"[]",f($))}),!1}return od(y)?!0:(t.append(Xc(C,k,l),f(y)),!1)}const c=[],m=Object.assign(Iy,{defaultVisitor:u,convertValue:f,isVisitable:od});function g(y,k){if(!fe.isUndefined(y)){if(c.indexOf(y)!==-1)throw Error("Circular reference detected in "+k.join("."));c.push(y),fe.forEach(y,function(A,T){(!(fe.isUndefined(A)||A===null)&&a.call(t,A,fe.isString(T)?T.trim():T,k,m))===!0&&g(A,k?k.concat(T):[T])}),c.pop()}}if(!fe.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Jc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Gd(e,t){this._pairs=[],e&&zl(e,this,t)}const om=Gd.prototype;om.append=function(t,o){this._pairs.push([t,o])};om.toString=function(t){const o=t?function(r){return t.call(this,r,Jc)}:Jc;return this._pairs.map(function(a){return o(a[0])+"="+o(a[1])},"").join("&")};function Oy(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rm(e,t,o){if(!t)return e;const r=o&&o.encode||Oy;fe.isFunction(o)&&(o={serialize:o});const a=o&&o.serialize;let l;if(a?l=a(t,o):l=fe.isURLSearchParams(t)?t.toString():new Gd(t,o).toString(r),l){const n=e.indexOf("#");n!==-1&&(e=e.slice(0,n)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Dy{constructor(){this.handlers=[]}use(t,o,r){return this.handlers.push({fulfilled:t,rejected:o,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){fe.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Qc=Dy,nm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jy=typeof URLSearchParams<"u"?URLSearchParams:Gd,Ly=typeof FormData<"u"?FormData:null,Fy=typeof Blob<"u"?Blob:null,Ny={isBrowser:!0,classes:{URLSearchParams:jy,FormData:Ly,Blob:Fy},protocols:["http","https","file","blob","url","data"]},qd=typeof window<"u"&&typeof document<"u",rd=typeof navigator=="object"&&navigator||void 0,By=qd&&(!rd||["ReactNative","NativeScript","NS"].indexOf(rd.product)<0),Uy=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Vy=qd&&window.location.href||"http://localhost",Hy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qd,hasStandardBrowserEnv:By,hasStandardBrowserWebWorkerEnv:Uy,navigator:rd,origin:Vy},Symbol.toStringTag,{value:"Module"})),ss={...Hy,...Ny};function zy(e,t){return zl(e,new ss.classes.URLSearchParams,{visitor:function(o,r,a,l){return ss.isNode&&fe.isBuffer(o)?(this.append(r,o.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function Wy(e){return fe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ky(e){const t={},o=Object.keys(e);let r;const a=o.length;let l;for(r=0;r<a;r++)l=o[r],t[l]=e[l];return t}function am(e){function t(o,r,a,l){let n=o[l++];if(n==="__proto__")return!0;const i=Number.isFinite(+n),d=l>=o.length;return n=!n&&fe.isArray(a)?a.length:n,d?(fe.hasOwnProp(a,n)?a[n]=[a[n],r]:a[n]=r,!i):((!a[n]||!fe.isObject(a[n]))&&(a[n]=[]),t(o,r,a[n],l)&&fe.isArray(a[n])&&(a[n]=Ky(a[n])),!i)}if(fe.isFormData(e)&&fe.isFunction(e.entries)){const o={};return fe.forEachEntry(e,(r,a)=>{t(Wy(r),a,o,0)}),o}return null}function Gy(e,t,o){if(fe.isString(e))try{return(t||JSON.parse)(e),fe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(o||JSON.stringify)(e)}const Yd={transitional:nm,adapter:["xhr","http","fetch"],transformRequest:[function(t,o){const r=o.getContentType()||"",a=r.indexOf("application/json")>-1,l=fe.isObject(t);if(l&&fe.isHTMLForm(t)&&(t=new FormData(t)),fe.isFormData(t))return a?JSON.stringify(am(t)):t;if(fe.isArrayBuffer(t)||fe.isBuffer(t)||fe.isStream(t)||fe.isFile(t)||fe.isBlob(t)||fe.isReadableStream(t))return t;if(fe.isArrayBufferView(t))return t.buffer;if(fe.isURLSearchParams(t))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return zy(t,this.formSerializer).toString();if((i=fe.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return zl(i?{"files[]":t}:t,d&&new d,this.formSerializer)}}return l||a?(o.setContentType("application/json",!1),Gy(t)):t}],transformResponse:[function(t){const o=this.transitional||Yd.transitional,r=o&&o.forcedJSONParsing,a=this.responseType==="json";if(fe.isResponse(t)||fe.isReadableStream(t))return t;if(t&&fe.isString(t)&&(r&&!this.responseType||a)){const n=!(o&&o.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(i){if(n)throw i.name==="SyntaxError"?tt.from(i,tt.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ss.classes.FormData,Blob:ss.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],e=>{Yd.headers[e]={}});const Xd=Yd,qy=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yy=e=>{const t={};let o,r,a;return e&&e.split(`
`).forEach(function(n){a=n.indexOf(":"),o=n.substring(0,a).trim().toLowerCase(),r=n.substring(a+1).trim(),!(!o||t[o]&&qy[o])&&(o==="set-cookie"?t[o]?t[o].push(r):t[o]=[r]:t[o]=t[o]?t[o]+", "+r:r)}),t},Zc=Symbol("internals");function mn(e){return e&&String(e).trim().toLowerCase()}function Ba(e){return e===!1||e==null?e:fe.isArray(e)?e.map(Ba):String(e)}function Xy(e){const t=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=o.exec(e);)t[r[1]]=r[2];return t}const Jy=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function vi(e,t,o,r,a){if(fe.isFunction(r))return r.call(this,t,o);if(a&&(t=o),!!fe.isString(t)){if(fe.isString(r))return t.indexOf(r)!==-1;if(fe.isRegExp(r))return r.test(t)}}function Qy(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,o,r)=>o.toUpperCase()+r)}function Zy(e,t){const o=fe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+o,{value:function(a,l,n){return this[r].call(this,t,a,l,n)},configurable:!0})})}class Wl{constructor(t){t&&this.set(t)}set(t,o,r){const a=this;function l(i,d,f){const u=mn(d);if(!u)throw new Error("header name must be a non-empty string");const c=fe.findKey(a,u);(!c||a[c]===void 0||f===!0||f===void 0&&a[c]!==!1)&&(a[c||d]=Ba(i))}const n=(i,d)=>fe.forEach(i,(f,u)=>l(f,u,d));if(fe.isPlainObject(t)||t instanceof this.constructor)n(t,o);else if(fe.isString(t)&&(t=t.trim())&&!Jy(t))n(Yy(t),o);else if(fe.isObject(t)&&fe.isIterable(t)){let i={},d,f;for(const u of t){if(!fe.isArray(u))throw TypeError("Object iterator must return a key-value pair");i[f=u[0]]=(d=i[f])?fe.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}n(i,o)}else t!=null&&l(o,t,r);return this}get(t,o){if(t=mn(t),t){const r=fe.findKey(this,t);if(r){const a=this[r];if(!o)return a;if(o===!0)return Xy(a);if(fe.isFunction(o))return o.call(this,a,r);if(fe.isRegExp(o))return o.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,o){if(t=mn(t),t){const r=fe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!o||vi(this,this[r],r,o)))}return!1}delete(t,o){const r=this;let a=!1;function l(n){if(n=mn(n),n){const i=fe.findKey(r,n);i&&(!o||vi(r,r[i],i,o))&&(delete r[i],a=!0)}}return fe.isArray(t)?t.forEach(l):l(t),a}clear(t){const o=Object.keys(this);let r=o.length,a=!1;for(;r--;){const l=o[r];(!t||vi(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const o=this,r={};return fe.forEach(this,(a,l)=>{const n=fe.findKey(r,l);if(n){o[n]=Ba(a),delete o[l];return}const i=t?Qy(l):String(l).trim();i!==l&&delete o[l],o[i]=Ba(a),r[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const o=Object.create(null);return fe.forEach(this,(r,a)=>{r!=null&&r!==!1&&(o[a]=t&&fe.isArray(r)?r.join(", "):r)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,o])=>t+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...o){const r=new this(t);return o.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Zc]=this[Zc]={accessors:{}}).accessors,a=this.prototype;function l(n){const i=mn(n);r[i]||(Zy(a,n),r[i]=!0)}return fe.isArray(t)?t.forEach(l):l(t),this}}Wl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(Wl.prototype,({value:e},t)=>{let o=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[o]=r}}});fe.freezeMethods(Wl);const Hs=Wl;function hi(e,t){const o=this||Xd,r=t||o,a=Hs.from(r.headers);let l=r.data;return fe.forEach(e,function(i){l=i.call(o,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function lm(e){return!!(e&&e.__CANCEL__)}function on(e,t,o){tt.call(this,e??"canceled",tt.ERR_CANCELED,t,o),this.name="CanceledError"}fe.inherits(on,tt,{__CANCEL__:!0});function im(e,t,o){const r=o.config.validateStatus;!o.status||!r||r(o.status)?e(o):t(new tt("Request failed with status code "+o.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function ex(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function tx(e,t){e=e||10;const o=new Array(e),r=new Array(e);let a=0,l=0,n;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),u=r[l];n||(n=f),o[a]=d,r[a]=f;let c=l,m=0;for(;c!==a;)m+=o[c++],c=c%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),f-n<t)return;const g=u&&f-u;return g?Math.round(m*1e3/g):void 0}}function sx(e,t){let o=0,r=1e3/t,a,l;const n=(f,u=Date.now())=>{o=u,a=null,l&&(clearTimeout(l),l=null),e(...f)};return[(...f)=>{const u=Date.now(),c=u-o;c>=r?n(f,u):(a=f,l||(l=setTimeout(()=>{l=null,n(a)},r-c)))},()=>a&&n(a)]}const ul=(e,t,o=3)=>{let r=0;const a=tx(50,250);return sx(l=>{const n=l.loaded,i=l.lengthComputable?l.total:void 0,d=n-r,f=a(d),u=n<=i;r=n;const c={loaded:n,total:i,progress:i?n/i:void 0,bytes:d,rate:f||void 0,estimated:f&&i&&u?(i-n)/f:void 0,event:l,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(c)},o)},ef=(e,t)=>{const o=e!=null;return[r=>t[0]({lengthComputable:o,total:e,loaded:r}),t[1]]},tf=e=>(...t)=>fe.asap(()=>e(...t)),ox=ss.hasStandardBrowserEnv?((e,t)=>o=>(o=new URL(o,ss.origin),e.protocol===o.protocol&&e.host===o.host&&(t||e.port===o.port)))(new URL(ss.origin),ss.navigator&&/(msie|trident)/i.test(ss.navigator.userAgent)):()=>!0,rx=ss.hasStandardBrowserEnv?{write(e,t,o,r,a,l){const n=[e+"="+encodeURIComponent(t)];fe.isNumber(o)&&n.push("expires="+new Date(o).toGMTString()),fe.isString(r)&&n.push("path="+r),fe.isString(a)&&n.push("domain="+a),l===!0&&n.push("secure"),document.cookie=n.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nx(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ax(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function dm(e,t,o){let r=!nx(t);return e&&(r||o==!1)?ax(e,t):t}const sf=e=>e instanceof Hs?{...e}:e;function gr(e,t){t=t||{};const o={};function r(f,u,c,m){return fe.isPlainObject(f)&&fe.isPlainObject(u)?fe.merge.call({caseless:m},f,u):fe.isPlainObject(u)?fe.merge({},u):fe.isArray(u)?u.slice():u}function a(f,u,c,m){if(fe.isUndefined(u)){if(!fe.isUndefined(f))return r(void 0,f,c,m)}else return r(f,u,c,m)}function l(f,u){if(!fe.isUndefined(u))return r(void 0,u)}function n(f,u){if(fe.isUndefined(u)){if(!fe.isUndefined(f))return r(void 0,f)}else return r(void 0,u)}function i(f,u,c){if(c in t)return r(f,u);if(c in e)return r(void 0,f)}const d={url:l,method:l,data:l,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:i,headers:(f,u,c)=>a(sf(f),sf(u),c,!0)};return fe.forEach(Object.keys({...e,...t}),function(u){const c=d[u]||a,m=c(e[u],t[u],u);fe.isUndefined(m)&&c!==i||(o[u]=m)}),o}const um=e=>{const t=gr({},e);let{data:o,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:l,headers:n,auth:i}=t;t.headers=n=Hs.from(n),t.url=rm(dm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&n.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):"")));let d;if(fe.isFormData(o)){if(ss.hasStandardBrowserEnv||ss.hasStandardBrowserWebWorkerEnv)n.setContentType(void 0);else if((d=n.getContentType())!==!1){const[f,...u]=d?d.split(";").map(c=>c.trim()).filter(Boolean):[];n.setContentType([f||"multipart/form-data",...u].join("; "))}}if(ss.hasStandardBrowserEnv&&(r&&fe.isFunction(r)&&(r=r(t)),r||r!==!1&&ox(t.url))){const f=a&&l&&rx.read(l);f&&n.set(a,f)}return t},lx=typeof XMLHttpRequest<"u",ix=lx&&function(e){return new Promise(function(o,r){const a=um(e);let l=a.data;const n=Hs.from(a.headers).normalize();let{responseType:i,onUploadProgress:d,onDownloadProgress:f}=a,u,c,m,g,y;function k(){g&&g(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let C=new XMLHttpRequest;C.open(a.method.toUpperCase(),a.url,!0),C.timeout=a.timeout;function A(){if(!C)return;const $=Hs.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),S={data:!i||i==="text"||i==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:$,config:e,request:C};im(function(w){o(w),k()},function(w){r(w),k()},S),C=null}"onloadend"in C?C.onloadend=A:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(A)},C.onabort=function(){C&&(r(new tt("Request aborted",tt.ECONNABORTED,e,C)),C=null)},C.onerror=function(){r(new tt("Network Error",tt.ERR_NETWORK,e,C)),C=null},C.ontimeout=function(){let x=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||nm;a.timeoutErrorMessage&&(x=a.timeoutErrorMessage),r(new tt(x,S.clarifyTimeoutError?tt.ETIMEDOUT:tt.ECONNABORTED,e,C)),C=null},l===void 0&&n.setContentType(null),"setRequestHeader"in C&&fe.forEach(n.toJSON(),function(x,S){C.setRequestHeader(S,x)}),fe.isUndefined(a.withCredentials)||(C.withCredentials=!!a.withCredentials),i&&i!=="json"&&(C.responseType=a.responseType),f&&([m,y]=ul(f,!0),C.addEventListener("progress",m)),d&&C.upload&&([c,g]=ul(d),C.upload.addEventListener("progress",c),C.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(u=$=>{C&&(r(!$||$.type?new on(null,e,C):$),C.abort(),C=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const T=ex(a.url);if(T&&ss.protocols.indexOf(T)===-1){r(new tt("Unsupported protocol "+T+":",tt.ERR_BAD_REQUEST,e));return}C.send(l||null)})},dx=(e,t)=>{const{length:o}=e=e?e.filter(Boolean):[];if(t||o){let r=new AbortController,a;const l=function(f){if(!a){a=!0,i();const u=f instanceof Error?f:this.reason;r.abort(u instanceof tt?u:new on(u instanceof Error?u.message:u))}};let n=t&&setTimeout(()=>{n=null,l(new tt(`timeout ${t} of ms exceeded`,tt.ETIMEDOUT))},t);const i=()=>{e&&(n&&clearTimeout(n),n=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(l):f.removeEventListener("abort",l)}),e=null)};e.forEach(f=>f.addEventListener("abort",l));const{signal:d}=r;return d.unsubscribe=()=>fe.asap(i),d}},ux=dx,cx=function*(e,t){let o=e.byteLength;if(!t||o<t){yield e;return}let r=0,a;for(;r<o;)a=r+t,yield e.slice(r,a),r=a},fx=async function*(e,t){for await(const o of px(e))yield*cx(o,t)},px=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:o,value:r}=await t.read();if(o)break;yield r}}finally{await t.cancel()}},of=(e,t,o,r)=>{const a=fx(e,t);let l=0,n,i=d=>{n||(n=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:u}=await a.next();if(f){i(),d.close();return}let c=u.byteLength;if(o){let m=l+=c;o(m)}d.enqueue(new Uint8Array(u))}catch(f){throw i(f),f}},cancel(d){return i(d),a.return()}},{highWaterMark:2})},Kl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cm=Kl&&typeof ReadableStream=="function",mx=Kl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),fm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},gx=cm&&fm(()=>{let e=!1;const t=new Request(ss.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),rf=64*1024,nd=cm&&fm(()=>fe.isReadableStream(new Response("").body)),cl={stream:nd&&(e=>e.body)};Kl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!cl[t]&&(cl[t]=fe.isFunction(e[t])?o=>o[t]():(o,r)=>{throw new tt(`Response type '${t}' is not supported`,tt.ERR_NOT_SUPPORT,r)})})})(new Response);const vx=async e=>{if(e==null)return 0;if(fe.isBlob(e))return e.size;if(fe.isSpecCompliantForm(e))return(await new Request(ss.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(fe.isArrayBufferView(e)||fe.isArrayBuffer(e))return e.byteLength;if(fe.isURLSearchParams(e)&&(e=e+""),fe.isString(e))return(await mx(e)).byteLength},hx=async(e,t)=>{const o=fe.toFiniteNumber(e.getContentLength());return o??vx(t)},yx=Kl&&(async e=>{let{url:t,method:o,data:r,signal:a,cancelToken:l,timeout:n,onDownloadProgress:i,onUploadProgress:d,responseType:f,headers:u,withCredentials:c="same-origin",fetchOptions:m}=um(e);f=f?(f+"").toLowerCase():"text";let g=ux([a,l&&l.toAbortSignal()],n),y;const k=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let C;try{if(d&&gx&&o!=="get"&&o!=="head"&&(C=await hx(u,r))!==0){let S=new Request(t,{method:"POST",body:r,duplex:"half"}),h;if(fe.isFormData(r)&&(h=S.headers.get("content-type"))&&u.setContentType(h),S.body){const[w,_]=ef(C,ul(tf(d)));r=of(S.body,rf,w,_)}}fe.isString(c)||(c=c?"include":"omit");const A="credentials"in Request.prototype;y=new Request(t,{...m,signal:g,method:o.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:A?c:void 0});let T=await fetch(y,m);const $=nd&&(f==="stream"||f==="response");if(nd&&(i||$&&k)){const S={};["status","statusText","headers"].forEach(b=>{S[b]=T[b]});const h=fe.toFiniteNumber(T.headers.get("content-length")),[w,_]=i&&ef(h,ul(tf(i),!0))||[];T=new Response(of(T.body,rf,w,()=>{_&&_(),k&&k()}),S)}f=f||"text";let x=await cl[fe.findKey(cl,f)||"text"](T,e);return!$&&k&&k(),await new Promise((S,h)=>{im(S,h,{data:x,headers:Hs.from(T.headers),status:T.status,statusText:T.statusText,config:e,request:y})})}catch(A){throw k&&k(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new tt("Network Error",tt.ERR_NETWORK,e,y),{cause:A.cause||A}):tt.from(A,A&&A.code,e,y)}}),ad={http:Ry,xhr:ix,fetch:yx};fe.forEach(ad,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const nf=e=>`- ${e}`,xx=e=>fe.isFunction(e)||e===null||e===!1,pm={getAdapter:e=>{e=fe.isArray(e)?e:[e];const{length:t}=e;let o,r;const a={};for(let l=0;l<t;l++){o=e[l];let n;if(r=o,!xx(o)&&(r=ad[(n=String(o)).toLowerCase()],r===void 0))throw new tt(`Unknown adapter '${n}'`);if(r)break;a[n||"#"+l]=r}if(!r){const l=Object.entries(a).map(([i,d])=>`adapter ${i} `+(d===!1?"is not supported by the environment":"is not available in the build"));let n=t?l.length>1?`since :
`+l.map(nf).join(`
`):" "+nf(l[0]):"as no adapter specified";throw new tt("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r},adapters:ad};function yi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new on(null,e)}function af(e){return yi(e),e.headers=Hs.from(e.headers),e.data=hi.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pm.getAdapter(e.adapter||Xd.adapter)(e).then(function(r){return yi(e),r.data=hi.call(e,e.transformResponse,r),r.headers=Hs.from(r.headers),r},function(r){return lm(r)||(yi(e),r&&r.response&&(r.response.data=hi.call(e,e.transformResponse,r.response),r.response.headers=Hs.from(r.response.headers))),Promise.reject(r)})}const mm="1.11.0",Gl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Gl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const lf={};Gl.transitional=function(t,o,r){function a(l,n){return"[Axios v"+mm+"] Transitional option '"+l+"'"+n+(r?". "+r:"")}return(l,n,i)=>{if(t===!1)throw new tt(a(n," has been removed"+(o?" in "+o:"")),tt.ERR_DEPRECATED);return o&&!lf[n]&&(lf[n]=!0,console.warn(a(n," has been deprecated since v"+o+" and will be removed in the near future"))),t?t(l,n,i):!0}};Gl.spelling=function(t){return(o,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function bx(e,t,o){if(typeof e!="object")throw new tt("options must be an object",tt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const l=r[a],n=t[l];if(n){const i=e[l],d=i===void 0||n(i,l,e);if(d!==!0)throw new tt("option "+l+" must be "+d,tt.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new tt("Unknown option "+l,tt.ERR_BAD_OPTION)}}const Ua={assertOptions:bx,validators:Gl},Gs=Ua.validators;class fl{constructor(t){this.defaults=t||{},this.interceptors={request:new Qc,response:new Qc}}async request(t,o){try{return await this._request(t,o)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(t,o){typeof t=="string"?(o=o||{},o.url=t):o=t||{},o=gr(this.defaults,o);const{transitional:r,paramsSerializer:a,headers:l}=o;r!==void 0&&Ua.assertOptions(r,{silentJSONParsing:Gs.transitional(Gs.boolean),forcedJSONParsing:Gs.transitional(Gs.boolean),clarifyTimeoutError:Gs.transitional(Gs.boolean)},!1),a!=null&&(fe.isFunction(a)?o.paramsSerializer={serialize:a}:Ua.assertOptions(a,{encode:Gs.function,serialize:Gs.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),Ua.assertOptions(o,{baseUrl:Gs.spelling("baseURL"),withXsrfToken:Gs.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let n=l&&fe.merge(l.common,l[o.method]);l&&fe.forEach(["delete","get","head","post","put","patch","common"],y=>{delete l[y]}),o.headers=Hs.concat(n,l);const i=[];let d=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(o)===!1||(d=d&&k.synchronous,i.unshift(k.fulfilled,k.rejected))});const f=[];this.interceptors.response.forEach(function(k){f.push(k.fulfilled,k.rejected)});let u,c=0,m;if(!d){const y=[af.bind(this),void 0];for(y.unshift(...i),y.push(...f),m=y.length,u=Promise.resolve(o);c<m;)u=u.then(y[c++],y[c++]);return u}m=i.length;let g=o;for(c=0;c<m;){const y=i[c++],k=i[c++];try{g=y(g)}catch(C){k.call(this,C);break}}try{u=af.call(this,g)}catch(y){return Promise.reject(y)}for(c=0,m=f.length;c<m;)u=u.then(f[c++],f[c++]);return u}getUri(t){t=gr(this.defaults,t);const o=dm(t.baseURL,t.url,t.allowAbsoluteUrls);return rm(o,t.params,t.paramsSerializer)}}fe.forEach(["delete","get","head","options"],function(t){fl.prototype[t]=function(o,r){return this.request(gr(r||{},{method:t,url:o,data:(r||{}).data}))}});fe.forEach(["post","put","patch"],function(t){function o(r){return function(l,n,i){return this.request(gr(i||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:n}))}}fl.prototype[t]=o(),fl.prototype[t+"Form"]=o(!0)});const Va=fl;class Jd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(l){o=l});const r=this;this.promise.then(a=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](a);r._listeners=null}),this.promise.then=a=>{let l;const n=new Promise(i=>{r.subscribe(i),l=i}).then(a);return n.cancel=function(){r.unsubscribe(l)},n},t(function(l,n,i){r.reason||(r.reason=new on(l,n,i),o(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const o=this._listeners.indexOf(t);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const t=new AbortController,o=r=>{t.abort(r)};return this.subscribe(o),t.signal.unsubscribe=()=>this.unsubscribe(o),t.signal}static source(){let t;return{token:new Jd(function(a){t=a}),cancel:t}}}const wx=Jd;function _x(e){return function(o){return e.apply(null,o)}}function Cx(e){return fe.isObject(e)&&e.isAxiosError===!0}const ld={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ld).forEach(([e,t])=>{ld[t]=e});const kx=ld;function gm(e){const t=new Va(e),o=Kp(Va.prototype.request,t);return fe.extend(o,Va.prototype,t,{allOwnKeys:!0}),fe.extend(o,t,null,{allOwnKeys:!0}),o.create=function(a){return gm(gr(e,a))},o}const Ht=gm(Xd);Ht.Axios=Va;Ht.CanceledError=on;Ht.CancelToken=wx;Ht.isCancel=lm;Ht.VERSION=mm;Ht.toFormData=zl;Ht.AxiosError=tt;Ht.Cancel=Ht.CanceledError;Ht.all=function(t){return Promise.all(t)};Ht.spread=_x;Ht.isAxiosError=Cx;Ht.mergeConfig=gr;Ht.AxiosHeaders=Hs;Ht.formToJSON=e=>am(fe.isHTMLForm(e)?new FormData(e):e);Ht.getAdapter=pm.getAdapter;Ht.HttpStatusCode=kx;Ht.default=Ht;const $x=Ht,Sx="https://elearning.africanchildprojects.org/api",Ex="https://elearning.africanchildprojects.org",Ax=!1,Tx=!0,Px={development:{clientId:"YOUR_DEV_CLIENT_ID",apiKey:"YOUR_DEV_API_KEY"},production:{clientId:"YOUR_PROD_CLIENT_ID",apiKey:"YOUR_PROD_API_KEY"}},vr={apiUrl:Sx,baseUrl:Ex,clickpesa:Px.production,isDevelopment:Ax,isProduction:Tx},is={async show(e){return(await ie.get(`/courses/${e}/builder`)).data},async addPage(e,t){return(await ie.post(`/courses/${e}/pages`,t)).data},async updatePage(e,t,o){return(await ie.put(`/courses/${e}/pages/${t}`,o)).data},async deletePage(e,t){return(await ie.delete(`/courses/${e}/pages/${t}`)).data},async duplicatePage(e,t){return(await ie.post(`/courses/${e}/pages/${t}/duplicate`)).data},async addWidget(e,t){return(await ie.post(`/courses/pages/${e}/widgets`,t)).data},async updateWidget(e,t){return(await ie.put(`/courses/widgets/${e}`,t)).data},async deleteWidget(e){return(await ie.delete(`/courses/widgets/${e}`)).data},async reorderContent(e,t){return(await ie.post(`/courses/${e}/reorder`,t)).data},async getTemplates(e={}){return(await ie.get("/courses/templates",{params:e})).data},async applyTemplate(e,t){return(await ie.post(`/courses/${e}/apply-template`,{template_id:t})).data},async saveAsTemplate(e,t){return(await ie.post(`/courses/${e}/save-as-template`,t)).data},async publishCourse(e){return(await ie.post(`/instructor/courses/${e}/publish`)).data}},ie=$x.create({baseURL:vr.apiUrl,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});ie.interceptors.request.use(e=>{var o;console.log("API Request:",{method:(o=e.method)==null?void 0:o.toUpperCase(),url:e.url,baseURL:e.baseURL,fullURL:`${e.baseURL}${e.url}`,data:e.data});const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.data instanceof FormData&&delete e.headers["Content-Type"],e},e=>(console.error("API Request Error:",e),Promise.reject(e)));ie.interceptors.response.use(e=>(console.log("API Response Success:",{status:e.status,url:e.config.url,data:e.data}),e),e=>{var t,o,r,a;if(console.error("API Response Error:",{message:e.message,code:e.code,status:(t=e.response)==null?void 0:t.status,statusText:(o=e.response)==null?void 0:o.statusText,url:(r=e.config)==null?void 0:r.url,data:(a=e.response)==null?void 0:a.data}),!navigator.onLine)return console.error("You are currently offline. Please check your connection."),Promise.reject(new Error("Offline"));if(e.response){const{status:l,data:n}=e.response;switch(l){case 401:e.config.url.includes("/auth/")||(localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/login");break;case 403:console.error(n.message||"You do not have permission to perform this action");break;case 404:console.error(n.message||"Resource not found");break;case 422:break;case 429:console.error("Too many requests. Please slow down.");break;case 500:console.error("Server error. Please try again later.");break;default:console.error(n.message||"An error occurred. Please try again.")}}else e.request&&console.error("Network error. Please check your connection.");return Promise.reject(e)});ie.interceptors.response.use(e=>e,async e=>{const{config:t,response:o}=e;return(o==null?void 0:o.status)>=500&&t&&!t._retry?(t._retry=!0,await new Promise(r=>setTimeout(r,1e3)),ie(t)):Promise.reject(e)});const qs={register:e=>ie.post("/register",e),login:e=>ie.post("/login",e),logout:()=>ie.post("/auth/logout"),user:()=>ie.get("/auth/user"),forgotPassword:e=>ie.post("/auth/forgot-password",{email:e}),resetPassword:(e,t,o)=>ie.post("/auth/reset-password",{token:e,password:t,password_confirmation:o}),verifyEmail:(e,t)=>ie.post("/auth/verify-email",{token:e,email:t}),sendOTP:e=>ie.post("/auth/send-otp",{email:e}),verifyOTP:(e,t)=>ie.post("/auth/verify-otp",{email:e,otp:t}),resetPasswordWithOTP:(e,t,o,r)=>ie.post("/auth/reset-password-otp",{email:e,otp:t,password:o,password_confirmation:r})},Lt={getAll:(e={})=>ie.get("/courses",{params:e}),getMyCourses:()=>ie.get("/courses/my-courses"),getFeatured:(e={})=>ie.get("/courses/featured",{params:e}),getByCategory:(e,t={})=>ie.get(`/courses/category/${e}`,{params:t}),getById:e=>ie.get(`/courses/${e}`),getReviews:e=>ie.get(`/courses/${e}/reviews`),create:e=>e instanceof FormData?ie.post("/courses",e,{headers:{"Content-Type":void 0}}):ie.post("/courses",e),update:(e,t)=>ie.put(`/courses/${e}`,t),delete:e=>ie.delete(`/courses/${e}`),enroll:e=>ie.post(`/courses/${e}/enroll`),unenroll:e=>ie.delete(`/courses/${e}/enroll`),getLessons:e=>ie.get(`/courses/${e}/lessons`),getProgress:e=>ie.get(`/courses/${e}/progress`),updateProgress:(e,t)=>ie.put(`/courses/${e}/progress`,t),categories:()=>ie.get("/categories"),search:(e,t={})=>ie.get("/courses/search",{params:{q:e,...t}}),getComments:(e,t={})=>ie.get(`/courses/${e}/comments`,{params:t}),createComment:(e,t)=>ie.post(`/courses/${e}/comments`,t),updateComment:(e,t,o)=>ie.put(`/courses/${e}/comments/${t}`,o),deleteComment:(e,t)=>ie.delete(`/courses/${e}/comments/${t}`),getCommentStats:e=>ie.get(`/courses/${e}/comments/stats`),getReviews:(e,t={})=>ie.get(`/courses/${e}/reviews`,{params:t}),createReview:(e,t)=>ie.post(`/courses/${e}/reviews`,t),updateReview:(e,t,o)=>ie.put(`/courses/${e}/reviews/${t}`,o),deleteReview:(e,t)=>ie.delete(`/courses/${e}/reviews/${t}`)},Tt={getTopics:(e={})=>ie.get("/forum/topics",{params:e}),getTopic:e=>ie.get(`/forum/topics/${e}`),createTopic:e=>ie.post("/forum/topics",e),updateTopic:(e,t)=>ie.put(`/forum/topics/${e}`,t),deleteTopic:e=>ie.delete(`/forum/topics/${e}`),getReplies:(e,t={})=>ie.get(`/forum/topics/${e}/replies`,{params:t}),createReply:(e,t)=>ie.post(`/forum/topics/${e}/replies`,t),updateReply:(e,t)=>ie.put(`/forum/replies/${e}`,t),deleteReply:e=>ie.delete(`/forum/replies/${e}`),likeTopic:e=>ie.post(`/forum/topics/${e}/like`),unlikeTopic:e=>ie.delete(`/forum/topics/${e}/like`),searchTopics:(e,t={})=>ie.get("/forum/search",{params:{q:e,...t}}),getAllForums:()=>ie.get("/forums"),getAllTopics:(e={})=>ie.get("/forums/topics",{params:e}),getStandaloneTopic:e=>ie.get(`/forums/topics/${e}`),createStandaloneTopic:e=>ie.post("/forums/topics",e),updateStandaloneTopic:(e,t)=>ie.put(`/forums/topics/${e}`,t),deleteStandaloneTopic:e=>ie.delete(`/forums/topics/${e}`),createStandaloneReply:(e,t)=>ie.post(`/forums/topics/${e}/replies`,t),likeStandaloneTopic:e=>ie.post(`/forums/topics/${e}/like`),likeStandaloneReply:e=>ie.post(`/forums/replies/${e}/like`),pinStandaloneTopic:e=>ie.put(`/forums/topics/${e}/pin`),lockStandaloneTopic:e=>ie.put(`/forums/topics/${e}/lock`),createPoll:(e,t)=>ie.post(`/forums/topics/${e}/polls`,t),votePoll:(e,t,o)=>ie.post(`/forums/topics/${e}/polls/${t}/vote`,o),getPollResults:(e,t)=>ie.get(`/forums/topics/${e}/polls/${t}/results`),uploadAttachment:(e,t)=>ie.post(`/forums/topics/${e}/attachments`,t,{headers:{"Content-Type":"multipart/form-data"}}),deleteAttachment:(e,t)=>ie.delete(`/forums/topics/${e}/attachments/${t}`),getAttachmentInfo:()=>ie.get("/forums/attachments/info"),searchAllTopics:(e,t={})=>ie.get("/forums/search",{params:{q:e,...t}})},ql={getAll:()=>ie.get("/forum-categories"),getById:e=>ie.get(`/forum-categories/${e}`),create:e=>ie.post("/forum-categories",e),update:(e,t)=>ie.put(`/forum-categories/${e}`,t),delete:e=>ie.delete(`/forum-categories/${e}`)},df={getAll:()=>ie.get("/categories"),getById:e=>ie.get(`/categories/${e}`),getCourses:e=>ie.get(`/categories/${e}/courses`),create:e=>ie.post("/categories",e)},jr={getProfile:()=>ie.get("/profile"),updateProfile:e=>ie.put("/profile",e),changePassword:e=>ie.put("/profile/password",e),updateSettings:e=>ie.put("/user/settings",e),deleteAccount:()=>ie.delete("/user/account"),uploadAvatar:e=>ie.post("/profile/avatar",e,{headers:{"Content-Type":"multipart/form-data"}}),getEnrollments:()=>ie.get("/my-enrollments"),getCertificates:()=>ie.get("/my-certificates"),downloadCertificate:e=>ie.get(`/certificates/${e}/download`,{responseType:"blob"})},vm={createPayment:e=>ie.post("/payments",e),processPayment:e=>ie.post(`/payments/${e}/process`),getPaymentHistory:()=>ie.get("/payments"),getPaymentDetails:e=>ie.get(`/payments/${e}`),refundPayment:e=>ie.post(`/payments/${e}/refund`),verifyFlutterwave:e=>ie.post("/payments/flutterwave/verify",e)},Aa={getDashboardStats:()=>ie.get("/dashboard/instructor"),getRecentEnrollments:()=>ie.get("/instructor/students"),getStudents:(e={})=>ie.get("/instructor/students",{params:e}),getAnalytics:(e={})=>ie.get("/instructor/analytics",{params:e}),getCourseAnalytics:e=>ie.get(`/instructor/courses/${e}/analytics`),getStudentProgress:e=>ie.get(`/instructor/courses/${e}/students`),updateCourseStatus:(e,t)=>ie.patch(`/instructor/courses/${e}/status`,{status:t}),getRevenue:(e={})=>ie.get("/instructor/earnings",{params:e})},xi={getDashboardStats:()=>ie.get("/dashboard/student"),getEnrolledCourses:()=>ie.get("/my-enrollments"),getRecentActivity:()=>Promise.resolve({data:[]}),getCertificates:()=>ie.get("/my-certificates"),downloadCertificate:e=>ie.get(`/certificates/${e}/download`,{responseType:"blob"}),getLearningPath:()=>ie.get("/student/learning-path"),getAchievements:()=>ie.get("/student/achievements")},Ar={getDashboardStats:()=>ie.get("/dashboard/admin"),getAllUsers:(e={})=>ie.get("/admin/users",{params:e}),updateUserRole:(e,t)=>ie.patch(`/admin/users/${e}/role`,{role:t}),getAllCourses:(e={})=>ie.get("/admin/courses/all",{params:e}),getPendingCourses:()=>ie.get("/admin/courses/pending"),approveCourse:e=>ie.put(`/admin/courses/${e}/approve`),rejectCourse:(e,t)=>ie.put(`/admin/courses/${e}/reject`,{reason:t}),bulkApproveCourses:e=>ie.post("/admin/courses/approve",e),getCategories:()=>ie.get("/admin/categories"),createCategory:e=>ie.post("/admin/categories",e),updateCategory:(e,t)=>ie.put(`/admin/categories/${e}`,t),deleteCategory:e=>ie.delete(`/admin/categories/${e}`),getOverviewReport:()=>ie.get("/admin/reports/overview"),getCourseReport:()=>ie.get("/admin/reports/courses"),getRevenueReport:(e=30)=>ie.get(`/admin/reports/revenue?days=${e}`),getSalesReport:(e=30)=>ie.get(`/admin/reports/sales?days=${e}`),getEngagementReport:()=>ie.get("/admin/reports/engagement"),getUserReport:()=>ie.get("/admin/reports/users"),getAlumni:(e={})=>ie.get("/admin/alumni",{params:e}),createAlumni:e=>ie.post("/admin/alumni",e),updateAlumni:(e,t)=>ie.put(`/admin/alumni/${e}`,t),deleteAlumni:e=>ie.delete(`/admin/alumni/${e}`),inviteToAlumni:e=>ie.post("/admin/alumni/invite",e),getEligibleUsers:(e={})=>ie.get("/admin/alumni/eligible-users",{params:e})},Qs={getAll:(e={})=>ie.get("/notifications",{params:e}),markAsRead:e=>ie.put(`/notifications/${e}/read`),markAllAsRead:()=>ie.put("/notifications/mark-all-read"),deleteNotification:e=>ie.delete(`/notifications/${e}`),getUnreadCount:()=>ie.get("/notifications/unread-count")},xq={acceptInvitation:e=>ie.post(`/alumni/${e}/accept`)};var Rx=Object.defineProperty,uf=Object.getOwnPropertySymbols,Mx=Object.prototype.hasOwnProperty,Ix=Object.prototype.propertyIsEnumerable,cf=(e,t,o)=>t in e?Rx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,hm=(e,t)=>{for(var o in t||(t={}))Mx.call(t,o)&&cf(e,o,t[o]);if(uf)for(var o of uf(t))Ix.call(t,o)&&cf(e,o,t[o]);return e},Yl=e=>typeof e=="function",Xl=e=>typeof e=="string",ym=e=>Xl(e)&&e.trim().length>0,Ox=e=>typeof e=="number",ir=e=>typeof e>"u",Qn=e=>typeof e=="object"&&e!==null,Dx=e=>eo(e,"tag")&&ym(e.tag),xm=e=>window.TouchEvent&&e instanceof TouchEvent,bm=e=>eo(e,"component")&&wm(e.component),jx=e=>Yl(e)||Qn(e),wm=e=>!ir(e)&&(Xl(e)||jx(e)||bm(e)),ff=e=>Qn(e)&&["height","width","right","left","top","bottom"].every(t=>Ox(e[t])),eo=(e,t)=>(Qn(e)||Yl(e))&&t in e,Lx=(e=>()=>e++)(0);function bi(e){return xm(e)?e.targetTouches[0].clientX:e.clientX}function pf(e){return xm(e)?e.targetTouches[0].clientY:e.clientY}var Fx=e=>{ir(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},da=e=>bm(e)?da(e.component):Dx(e)?Ds({render(){return e}}):typeof e=="string"?e:ct(mt(e)),Nx=e=>{if(typeof e=="string")return e;const t=eo(e,"props")&&Qn(e.props)?e.props:{},o=eo(e,"listeners")&&Qn(e.listeners)?e.listeners:{};return{component:da(e),props:t,listeners:o}},Bx=()=>typeof window<"u",Qd=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const o=this.getHandlers(e);o.push(t),this.allHandlers[e]=o}off(e,t){const o=this.getHandlers(e);o.splice(o.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach(r=>r(t))}},Ux=e=>["on","off","emit"].every(t=>eo(e,t)&&Yl(e[t])),$s;(function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"})($s||($s={}));var pl;(function(e){e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"})(pl||(pl={}));var Ss;(function(e){e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults"})(Ss||(Ss={}));var Us="Vue-Toastification",Ns={type:{type:String,default:$s.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},_m={type:Ns.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Ha={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:Ns.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},id={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},Cm={transition:{type:[Object,String],default:`${Us}__bounce`}},Vx={position:{type:String,default:pl.TOP_RIGHT},draggable:Ns.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:Ns.trueBoolean,pauseOnHover:Ns.trueBoolean,closeOnClick:Ns.trueBoolean,timeout:id.timeout,hideProgressBar:id.hideProgressBar,toastClassName:Ns.classNames,bodyClassName:Ns.classNames,icon:_m.customIcon,closeButton:Ha.component,closeButtonClassName:Ha.classNames,showCloseButtonOnHover:Ha.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new Qd}},Hx={id:{type:[String,Number],required:!0,default:0},type:Ns.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},zx={container:{type:[Object,Function],default:()=>document.body},newestOnTop:Ns.trueBoolean,maxToasts:{type:Number,default:20},transition:Cm.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:Ns.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},ho={CORE_TOAST:Vx,TOAST:Hx,CONTAINER:zx,PROGRESS_BAR:id,ICON:_m,TRANSITION:Cm,CLOSE_BUTTON:Ha},km=Ds({name:"VtProgressBar",props:ho.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${Us}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Wx(e,t){return p(),v("div",{style:ns(e.style),class:ue(e.cpClass)},null,6)}km.render=Wx;var Kx=km,$m=Ds({name:"VtCloseButton",props:ho.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?da(this.component):"button"},classes(){const e=[`${Us}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),Gx=de("  ");function qx(e,t){return p(),wt(Jo(e.buttonComponent),ra({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:ke(()=>[Gx]),_:1},16,["aria-label","class"])}$m.render=qx;var Yx=$m,Sm={},Xx={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Jx=s("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),Qx=[Jx];function Zx(e,t){return p(),v("svg",Xx,Qx)}Sm.render=Zx;var eb=Sm,Em={},tb={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},sb=s("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),ob=[sb];function rb(e,t){return p(),v("svg",tb,ob)}Em.render=rb;var mf=Em,Am={},nb={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ab=s("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),lb=[ab];function ib(e,t){return p(),v("svg",nb,lb)}Am.render=ib;var db=Am,Tm={},ub={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},cb=s("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),fb=[cb];function pb(e,t){return p(),v("svg",ub,fb)}Tm.render=pb;var mb=Tm,Pm=Ds({name:"VtIcon",props:ho.ICON,computed:{customIconChildren(){return eo(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Xl(this.customIcon)?this.trimValue(this.customIcon):eo(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return eo(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:wm(this.customIcon)?da(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[$s.DEFAULT]:mf,[$s.INFO]:mf,[$s.SUCCESS]:eb,[$s.ERROR]:mb,[$s.WARNING]:db}[this.type]},iconClasses(){const e=[`${Us}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return ym(e)?e.trim():t}}});function gb(e,t){return p(),wt(Jo(e.component),{class:ue(e.iconClasses)},{default:ke(()=>[de(E(e.customIconChildren),1)]),_:1},8,["class"])}Pm.render=gb;var vb=Pm,Rm=Ds({name:"VtToast",components:{ProgressBar:Kx,CloseButton:Yx,Icon:vb},inheritAttrs:!1,props:Object.assign({},ho.CORE_TOAST,ho.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const e=[`${Us}__toast`,`${Us}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${Us}__toast--rtl`),e},bodyClasses(){return[`${Us}__toast-${Xl(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return ff(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:eo,getVueComponentFromObj:da,closeToast(){this.eventBus.emit(Ss.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:bi(e),y:pf(e)},this.dragStart=bi(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:bi(e),y:pf(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,ff(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),hb=["role"];function yb(e,t){const o=lt("Icon"),r=lt("CloseButton"),a=lt("ProgressBar");return p(),v("div",{class:ue(e.classes),style:ns(e.draggableStyle),onClick:t[0]||(t[0]=(...l)=>e.clickHandler&&e.clickHandler(...l)),onMouseenter:t[1]||(t[1]=(...l)=>e.hoverPause&&e.hoverPause(...l)),onMouseleave:t[2]||(t[2]=(...l)=>e.hoverPlay&&e.hoverPlay(...l))},[e.icon?(p(),wt(o,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):N("v-if",!0),s("div",{role:e.accessibility.toastRole||"alert",class:ue(e.bodyClasses)},[typeof e.content=="string"?(p(),v(_e,{key:0},[de(E(e.content),1)],2112)):(p(),wt(Jo(e.getVueComponentFromObj(e.content)),ra({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},k0(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,hb),e.closeButton?(p(),wt(r,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:Ue(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):N("v-if",!0),e.timeout?(p(),wt(a,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):N("v-if",!0)],38)}Rm.render=yb;var xb=Rm,Mm=Ds({name:"VtTransition",props:ho.TRANSITION,emits:["leave"],methods:{hasProp:eo,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function bb(e,t){return p(),wt(Vd,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:ke(()=>[C0(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}Mm.render=bb;var wb=Mm,Im=Ds({name:"VueToastification",devtools:{hide:!0},components:{Toast:xb,VtTransition:wb},props:Object.assign({},ho.CORE_TOAST,ho.CONTAINER,ho.TRANSITION),data(){return{count:0,positions:Object.values(pl),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(Ss.ADD,this.addToast),e.on(Ss.CLEAR,this.clearToasts),e.on(Ss.DISMISS,this.dismissToast),e.on(Ss.UPDATE,this.updateToast),e.on(Ss.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){Yl(e)&&(e=await e()),Fx(this.$el),e.appendChild(this.$el)},setToast(e){ir(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=Nx(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),o=this.defaults.filterBeforeCreate(t,this.toastArray);o&&this.setToast(o)},dismissToast(e){const t=this.toasts[e];!ir(t)&&!ir(t.onClose)&&t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(o=>o.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){ir(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:o}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):o&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${Us}__container`,e].concat(this.defaults.containerClassName)}}});function _b(e,t){const o=lt("Toast"),r=lt("VtTransition");return p(),v("div",null,[(p(!0),v(_e,null,Ee(e.positions,a=>(p(),v("div",{key:a},[pe(r,{transition:e.defaults.transition,class:ue(e.getClasses(a))},{default:ke(()=>[(p(!0),v(_e,null,Ee(e.getPositionToasts(a),l=>(p(),wt(o,ra({key:l.id},l),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}Im.render=_b;var Cb=Im,gf=(e={},t=!0)=>{const o=e.eventBus=e.eventBus||new Qd;t&&so(()=>{const l=qn(Cb,hm({},e)),n=l.mount(document.createElement("div")),i=e.onMounted;if(ir(i)||i(n,l),e.shareAppContext){const d=e.shareAppContext;d===!0?console.warn(`[${Us}] App to share context with was not provided.`):(l._context.components=d._context.components,l._context.directives=d._context.directives,l._context.mixins=d._context.mixins,l._context.provides=d._context.provides,l.config.globalProperties=d.config.globalProperties)}});const r=(l,n)=>{const i=Object.assign({},{id:Lx(),type:$s.DEFAULT},n,{content:l});return o.emit(Ss.ADD,i),i.id};r.clear=()=>o.emit(Ss.CLEAR,void 0),r.updateDefaults=l=>{o.emit(Ss.UPDATE_DEFAULTS,l)},r.dismiss=l=>{o.emit(Ss.DISMISS,l)};function a(l,{content:n,options:i},d=!1){const f=Object.assign({},i,{content:n});o.emit(Ss.UPDATE,{id:l,options:f,create:d})}return r.update=a,r.success=(l,n)=>r(l,Object.assign({},n,{type:$s.SUCCESS})),r.info=(l,n)=>r(l,Object.assign({},n,{type:$s.INFO})),r.error=(l,n)=>r(l,Object.assign({},n,{type:$s.ERROR})),r.warning=(l,n)=>r(l,Object.assign({},n,{type:$s.WARNING})),r},kb=()=>{const e=()=>console.warn(`[${Us}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function dd(e){return Bx()?Ux(e)?gf({eventBus:e},!1):gf(e,!0):kb()}var Om=Symbol("VueToastification"),Dm=new Qd,$b=(e,t)=>{(t==null?void 0:t.shareAppContext)===!0&&(t.shareAppContext=e);const o=dd(hm({eventBus:Dm},t));e.provide(Om,o)},gt=e=>{if(e)return dd(e);const t=cs()?xs(Om,void 0):void 0;return t||dd(Dm)},Sb=$b;const Ot=Ip("auth",()=>{const e=gt(),t=j(null),o=j(localStorage.getItem("auth_token")||null),r=j(!1),a=()=>{const x=localStorage.getItem("user");if(x&&o.value)try{t.value=JSON.parse(x),console.log("Auth store: Initialized user from localStorage:",t.value)}catch(S){console.error("Auth store: Error parsing stored user:",S),localStorage.removeItem("user")}};a();const l=Ne(()=>!!o.value&&!!t.value),n=Ne(()=>{if(!t.value)return null;if(console.log("Auth store: Computing userRole for user:",t.value),console.log("Auth store: User roles property:",t.value.roles),console.log("Auth store: User role property:",t.value.role),Array.isArray(t.value.roles)){const S=t.value.roles.map(h=>typeof h=="string"?h:h.name);if(console.log("Auth store: Extracted role names:",S),S.includes("admin"))return console.log("Auth store: Found admin role"),"admin";if(S.includes("instructor"))return console.log("Auth store: Found instructor role"),"instructor";if(S.includes("student"))return console.log("Auth store: Found student role"),"student";console.log("Auth store: No recognized role found in roles array")}const x=t.value.role||null;return x?(console.log("Auth store: Computing userRole from single role property:",x),x):t.value.name&&t.value.name.toLowerCase().includes("admin")?(console.log('Auth store: Assigning admin role based on name containing "admin"'),"admin"):t.value.email&&t.value.email.toLowerCase().includes("admin")?(console.log('Auth store: Assigning admin role based on email containing "admin"'),"admin"):(console.log("Auth store: No role detected, returning null"),null)}),i=Ne(()=>{const x=n.value==="admin";return console.log("Auth store: Computing isAdmin:",x,"userRole:",n.value),x}),d=Ne(()=>{const x=n.value==="instructor";return console.log("Auth store: Computing isInstructor:",x,"userRole:",n.value),x}),f=Ne(()=>{const x=n.value==="student";return console.log("Auth store: Computing isStudent:",x,"userRole:",n.value),x}),u=async x=>{var S;r.value=!0;try{console.log("Auth store: Attempting login with API");const h=await qs.login(x);console.log("Auth store: API response:",h);const w=((S=h==null?void 0:h.data)==null?void 0:S.data)??(h==null?void 0:h.data)??{},_=w.user,b=w.token;if(!_||!b)throw new Error("Invalid login response");return t.value=_,o.value=b,localStorage.setItem("auth_token",b),localStorage.setItem("user",JSON.stringify(_)),console.log("Auth store: User set to:",_),console.log("Auth store: User roles:",_.roles),console.log("Auth store: Token set to:",b),console.log("Auth store: After setting user, userRole computed is:",n.value),console.log("Auth store: After setting user, isAdmin computed is:",i.value),console.log("Auth store: After setting user, isInstructor computed is:",d.value),console.log("Auth store: After setting user, isStudent computed is:",f.value),e.success("Login successful!"),_}catch(h){if(console.error("Auth store: Login error:",h),h.code==="ERR_NETWORK"||h.message.includes("Network Error")){console.log("Auth store: API not available, creating mock login");let w="student";x.email.includes("admin")?w="admin":x.email.includes("instructor")&&(w="instructor");const _={id:1,name:x.email.split("@")[0],email:x.email,roles:[w],created_at:new Date().toISOString()};console.log("Auth store: Creating mock user with roles:",_.roles);const b="mock_token_"+Date.now();return t.value=_,o.value=b,localStorage.setItem("auth_token",b),localStorage.setItem("user",JSON.stringify(_)),console.log("Auth store: Mock user set to:",_),console.log("Auth store: Mock token set to:",b),console.log("Auth store: After setting user, userRole computed is:",n.value),console.log("Auth store: After setting user, isAdmin computed is:",i.value),console.log("Auth store: After setting user, isStudent computed is:",f.value),console.log("Auth store: After setting user, isInstructor computed is:",d.value),e.success("Login successful! (Mock mode - API not available)"),_}throw h}finally{r.value=!1}},c=async x=>{var S,h,w,_,b,P,R;r.value=!0;try{console.log("Auth store: Attempting registration with API"),console.log("Auth store: Registration data:",x);const M=await qs.register(x);console.log("Auth store: API response:",M);const D=((S=M==null?void 0:M.data)==null?void 0:S.data)??(M==null?void 0:M.data)??{},J=D.user;return console.log("Auth store: Registration successful, email verification required"),{user:J,email_verified:D.email_verified||!1,verification_sent:D.verification_sent||!0}}catch(M){throw console.error("Auth store: Registration error:",M),console.error("Auth store: Error details:",{message:M.message,code:M.code,response:(h=M.response)==null?void 0:h.data,status:(w=M.response)==null?void 0:w.status}),(b=(_=M.response)==null?void 0:_.data)!=null&&b.message?e.error(M.response.data.message):(R=(P=M.response)==null?void 0:P.data)!=null&&R.errors?Object.values(M.response.data.errors).flat().forEach(J=>e.error(J)):e.error("Registration failed. Please try again."),M}finally{r.value=!1}},m=async()=>{try{await qs.logout()}catch(x){console.error("Logout error:",x)}finally{t.value=null,o.value=null,localStorage.removeItem("auth_token"),localStorage.removeItem("user"),e.success("Logged out successfully")}};return{user:t,token:o,loading:r,isAuthenticated:l,userRole:n,isAdmin:i,isInstructor:d,isStudent:f,login:u,register:c,logout:m,fetchUser:async()=>{var x;if(!o.value)return null;try{const S=await qs.user();return t.value=S.data,S.data}catch(S){throw console.error("Error fetching user:",S),((x=S.response)==null?void 0:x.status)===401&&m(),S}},forgotPassword:async x=>{r.value=!0;try{await qs.forgotPassword(x),e.success("Password reset link sent to your email")}catch(S){throw S}finally{r.value=!1}},resetPassword:async(x,S,h)=>{r.value=!0;try{await qs.resetPassword(x,S,h),e.success("Password reset successfully")}catch(w){throw w}finally{r.value=!1}},verifyEmail:async(x,S)=>{r.value=!0;try{await qs.verifyEmail(x,S),e.success("Email verified successfully")}catch(h){throw h}finally{r.value=!1}},sendOTP:async x=>{r.value=!0;try{await qs.sendOTP(x),e.success("Verification code sent to your email")}catch(S){throw S}finally{r.value=!1}},verifyOTP:async(x,S)=>{r.value=!0;try{await qs.verifyOTP(x,S),e.success("Verification code verified successfully")}catch(h){throw h}finally{r.value=!1}},resetPasswordWithOTP:async(x,S,h,w)=>{r.value=!0;try{await qs.resetPasswordWithOTP(x,S,h,w),e.success("Password reset successfully")}catch(_){throw _}finally{r.value=!1}},initializeAuth:a}}),Tr=j([]);let Eb=1;function jm(){const e=(i,d="info",f=5e3)=>{const u=Eb++,c={id:u,message:i,type:d,duration:f,timestamp:Date.now()};return console.log(`Toast: Creating ${d} toast:`,{id:u,message:i,duration:f}),Tr.value.push(c),console.log("Toast: Current toasts array:",Tr.value),setTimeout(()=>{console.log(`Toast: Auto-removing toast ${u}`),l(u)},f),u},t=(i,d)=>e(i,"success",d),o=(i,d)=>e(i,"error",d),r=(i,d)=>e(i,"warning",d),a=(i,d)=>e(i,"info",d),l=i=>{const d=Tr.value.findIndex(f=>f.id===i);d>-1&&Tr.value.splice(d,1)};return{toasts:Tr,show:e,success:t,error:o,warning:r,info:a,remove:l,clear:()=>{Tr.value=[]}}}const ao=Ip("courses",()=>{const e=jm(),t=j([]),o=j([]),r=j([]),a=j([]),l=j(!1),n=j(null),i=j(""),d=j({category:"",level:"",price:"",status:""}),f=j({current_page:1,per_page:12,total:0,last_page:1}),u=Ne(()=>G=>t.value.find(B=>B.id===G)),c=Ne(()=>G=>t.value.find(B=>B.slug===G)),m=Ne(()=>{let G=t.value;if(i.value){const B=i.value.toLowerCase();G=G.filter(X=>{var te;return X.title.toLowerCase().includes(B)||X.description.toLowerCase().includes(B)||((te=X.instructor)==null?void 0:te.name.toLowerCase().includes(B))})}if(d.value.category&&(G=G.filter(B=>B.category_id==d.value.category)),d.value.level&&(G=G.filter(B=>B.level===d.value.level)),d.value.price)switch(d.value.price){case"free":G=G.filter(B=>B.is_free);break;case"paid":G=G.filter(B=>!B.is_free);break;case"under_50":G=G.filter(B=>!B.is_free&&B.price<50);break;case"under_100":G=G.filter(B=>!B.is_free&&B.price<100);break}return d.value.status&&(G=G.filter(B=>B.status===d.value.status)),G}),g=async(G={})=>{var B,X,te,se;l.value=!0;try{const Se=await Lt.getAll({page:f.value.current_page,per_page:f.value.per_page,search:i.value,...d.value,...G});return Se.data&&(t.value=Se.data.data||Se.data,f.value={current_page:((B=Se.data.pagination)==null?void 0:B.current_page)||1,per_page:((X=Se.data.pagination)==null?void 0:X.per_page)||12,total:((te=Se.data.pagination)==null?void 0:te.total)||0,last_page:((se=Se.data.pagination)==null?void 0:se.last_page)||1}),Se.data||Se}catch(Se){throw console.error("Error fetching courses:",Se),Se}finally{l.value=!1}},y=async()=>{var G;l.value=!0;try{const B=Ot();let X;B.isInstructor?X=await ie.get("/instructor/courses"):X=await ie.get("/my-enrollments");const te=X.data||X;return(G=te==null?void 0:te.data)!=null&&G.data?o.value=te.data.data:Array.isArray(te==null?void 0:te.data)?o.value=te.data:Array.isArray(te)?o.value=te:o.value=[],te}catch(B){throw console.error("Error fetching my courses:",B),B}finally{l.value=!1}},k=async()=>{try{const G=await Lt.getFeatured();return G.data&&(r.value=G.data.data||G.data),G.data||G}catch(G){throw console.error("Error fetching featured courses:",G),G}},C=async()=>{var G,B,X;try{console.log("CourseStore: fetchCategories called"),console.log("CourseStore: Making API call to courseAPI.categories()...");const te=await df.getAll();return console.log("CourseStore: API response received:",te),te.data?(console.log("CourseStore: Response has data, updating categories"),console.log("CourseStore: Response data:",te.data),console.log("CourseStore: Response data.data:",te.data.data),a.value=te.data.data||te.data,console.log("CourseStore: Categories updated, new value:",a.value),console.log("CourseStore: Categories length:",(G=a.value)==null?void 0:G.length)):console.log("CourseStore: Response has no data, response:",te),te.data||te}catch(te){throw console.error("CourseStore: Error in fetchCategories:",te),console.error("CourseStore: Error response:",te.response),console.error("CourseStore: Error status:",(B=te.response)==null?void 0:B.status),console.error("CourseStore: Error data:",(X=te.response)==null?void 0:X.data),te}};return{courses:t,myCourses:o,featuredCourses:r,categories:a,loading:l,currentCourse:n,searchQuery:i,filters:d,pagination:f,getCourseById:u,getCourseBySlug:c,filteredCourses:m,fetchCourses:g,fetchMyCourses:y,fetchFeaturedCourses:k,fetchCategories:C,fetchCourse:async G=>{var B;l.value=!0;try{const X=await Lt.getById(G);if(X.data){const te=X.data,Se=((B=te==null?void 0:te.data)==null?void 0:B.course)||te.data||te;n.value=Se;const Ve=t.value.findIndex($e=>$e.id===Se.id);return Ve!==-1?t.value[Ve]=Se:t.value.push(Se),Se}return X.data||X}catch(X){throw console.error("Error fetching course:",X),X}finally{l.value=!1}},fetchCourseBySlug:async G=>{var B,X;l.value=!0;try{const te=await Lt.getById(G),se=te.data||te,Se=((B=se==null?void 0:se.data)==null?void 0:B.course)||se.data||se,Ve=((X=se==null?void 0:se.data)==null?void 0:X.is_enrolled)||!1;if(console.log("CourseStore: fetchCourseBySlug response:",{payload:se,course:Se,isEnrolled:Ve,courseId:Se==null?void 0:Se.id}),Se){Se.is_enrolled=Ve,console.log("CourseStore: Set course.is_enrolled to:",Ve),n.value=Se;const $e=t.value.findIndex(ze=>ze.id===Se.id);$e!==-1?t.value[$e]=Se:t.value.push(Se)}return Se}catch(te){throw console.error("Error fetching course by slug:",te),te}finally{l.value=!1}},createCourse:async G=>{var B,X,te;try{l.value=!0;const se=await Lt.create(G);return console.log("Course created:",se),((X=(B=se.data)==null?void 0:B.data)==null?void 0:X.status)==="approved"&&t.value.unshift(se.data.data),(te=se.data)!=null&&te.data&&o.value.unshift(se.data.data),se.data}catch(se){throw console.error("Error creating course:",se),se}finally{l.value=!1}},createCategory:async G=>{try{l.value=!0;const B=await df.create(G);console.log("Category created:",B);try{await C()}catch(X){console.warn("Failed to refresh categories list:",X)}return B.data}catch(B){throw console.error("Error creating category:",B),B}finally{l.value=!1}},updateCourse:async(G,B)=>{var X,te;l.value=!0;try{const se=await Lt.update(G,B),Se=((X=se.data)==null?void 0:X.data)||se.data||se,Ve=$e=>{const ze=$e.findIndex(ge=>ge.id===G);ze!==-1&&($e[ze]=Se)};return Ve(t.value),Ve(o.value),((te=n.value)==null?void 0:te.id)===G&&(n.value=Se),e.success("Course updated successfully!"),Se}catch(se){throw console.error("Error updating course:",se),se}finally{l.value=!1}},deleteCourse:async G=>{var B;try{await Lt.delete(G),t.value=t.value.filter(X=>X.id!==G),o.value=o.value.filter(X=>X.id!==G),((B=n.value)==null?void 0:B.id)===G&&(n.value=null),e.success("Course deleted successfully!")}catch(X){throw console.error("Error deleting course:",X),X}},enrollInCourse:async G=>{var B,X,te;try{console.log("CourseStore: Attempting to enroll in course ID:",G);const se=await Lt.enroll(G);return console.log("CourseStore: Enrollment response:",se),e.success("Successfully enrolled in course!"),se.data||se}catch(se){throw console.error("CourseStore: Error enrolling in course:",se),console.error("CourseStore: Error response:",se.response),console.error("CourseStore: Error data:",(B=se.response)==null?void 0:B.data),((te=(X=se.response)==null?void 0:X.data)==null?void 0:te.message)!=="Already enrolled in this course"&&e.error("Failed to enroll in course"),se}},fetchCourseReviews:async G=>{var B;try{const X=await Lt.getReviews(G);return((B=X.data)==null?void 0:B.data)||X.data||[]}catch(X){return console.error("Fetch course reviews error:",X),[]}},updateFilters:G=>{d.value={...d.value,...G},f.value.current_page=1},updateSearchQuery:G=>{i.value=G,f.value.current_page=1},setPage:G=>{f.value.current_page=G},clearFilters:()=>{d.value={category:"",level:"",price:"",status:""},i.value="",f.value.current_page=1},testBackendConnection:async()=>{try{const G=await Lt.testConnection();return console.log("Backend connection test successful:",G),G}catch(G){throw console.error("Backend connection test failed:",G),G}},testArrayProcessing:async G=>{try{const B=await Lt.testArrayProcessing(G);return console.log("Array processing test successful:",B),B}catch(B){throw console.error("Array processing test failed:",B),B}}}}),Ab={class:"min-h-screen"},Tb={class:"relative bg-gradient-to-r from-primary-600 to-primary-800 overflow-hidden"},Pb={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24"},Rb={class:"text-center"},Mb={class:"flex flex-col sm:flex-row gap-4 justify-center"},Ib={class:"py-16 bg-white"},Ob={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Db={class:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center"},jb={class:"text-3xl font-bold text-primary-600 mb-2"},Lb={class:"text-3xl font-bold text-primary-600 mb-2"},Fb={class:"text-3xl font-bold text-primary-600 mb-2"},Nb={class:"text-3xl font-bold text-primary-600 mb-2"},Bb={class:"py-16 bg-gray-50"},Ub={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Vb={key:0,class:"flex justify-center py-12"},Hb={key:1,class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-8"},zb={class:"relative h-48 bg-gray-200"},Wb=["src","alt"],Kb={key:1,class:"w-full h-full flex items-center justify-center"},Gb={class:"absolute top-2 right-2"},qb={class:"p-6"},Yb={class:"text-lg font-medium text-gray-900 mb-2"},Xb={class:"text-sm text-gray-600 mb-4 line-clamp-2"},Jb={class:"flex items-center justify-between mb-4"},Qb={class:"flex items-center space-x-2"},Zb={class:"flex items-center"},e4={class:"text-sm text-gray-600 ml-1"},t4={class:"text-sm text-gray-500"},s4={class:"text-sm text-gray-500"},o4={class:"flex items-center justify-between"},r4={class:"flex items-center space-x-2"},n4={class:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center"},a4={class:"text-sm font-medium text-gray-600"},l4={class:"text-sm text-gray-600"},i4={key:2,class:"text-center py-12"},d4={class:"py-16 bg-white"},u4={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},c4={key:0,class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6"},f4=["onClick"],p4={class:"bg-gray-50 rounded-lg p-6 text-center hover:bg-primary-50 transition-colors duration-200"},m4={class:"text-lg font-medium text-gray-900 mb-2"},g4={class:"text-sm text-gray-600"},v4={key:1,class:"text-center py-12"},h4={class:"py-16 bg-primary-600"},y4={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center"},x4={class:"flex flex-col sm:flex-row gap-4 justify-center"},b4={__name:"Home",setup(e){const t=kt();ao(),gt();const o=j(!1),r=j([]),a=j([]),l=j({courses:1e3,students:5e4,instructors:500,certificates:25e3}),n=async()=>{o.value=!0;try{console.log(" Fetching featured courses...");const f=await Lt.getFeatured();if(console.log(" Featured courses response:",f),f.data&&f.data.status==="success"&&f.data.data)r.value=f.data.data,console.log(" Featured courses loaded:",r.value.length);else{console.warn(" No featured courses found, trying to fetch recent approved courses...");try{const u=await Lt.getAll({per_page:6,sort_by:"created_at",sort_order:"desc"});if(u.data&&(u.data.data||u.data)){const c=u.data.data||u.data;r.value=Array.isArray(c)?c.slice(0,6):[],console.log(" Fallback courses loaded:",r.value.length)}else r.value=[],console.warn(" No fallback courses found either")}catch(u){console.error(" Error fetching fallback courses:",u),r.value=[]}}}catch(f){console.error(" Error fetching featured courses:",f);try{console.log(" Trying fallback courses due to error...");const u=await Lt.getAll({per_page:6,sort_by:"created_at",sort_order:"desc"});if(u.data&&(u.data.data||u.data)){const c=u.data.data||u.data;r.value=Array.isArray(c)?c.slice(0,6):[],console.log(" Fallback courses loaded after error:",r.value.length);return}else r.value=[]}catch(u){console.error(" Error fetching fallback courses:",u),r.value=[]}console.log(" No featured courses available")}finally{o.value=!1}},i=async()=>{var f,u,c,m,g,y,k,C;try{console.log(" Fetching categories...");const A=await Lt.categories();console.log(" Categories response:",A),console.log(" Categories response.data:",A.data),console.log(" Categories response.data.status:",(f=A.data)==null?void 0:f.status),console.log(" Categories response.data.data:",(u=A.data)==null?void 0:u.data),A.data&&A.data.status==="success"&&A.data.data?(a.value=A.data.data,console.log(" Categories loaded successfully:",a.value.length),console.log(" Categories data:",a.value)):(console.warn(" No categories found or invalid response format"),console.warn(" Response structure:",{hasData:!!A.data,status:(c=A.data)==null?void 0:c.status,dataExists:!!((m=A.data)!=null&&m.data),dataLength:(y=(g=A.data)==null?void 0:g.data)==null?void 0:y.length}),a.value=[])}catch(A){console.error(" Error fetching categories:",A),console.error(" Error response:",A.response),console.error(" Error status:",(k=A.response)==null?void 0:k.status),console.error(" Error data:",(C=A.response)==null?void 0:C.data);try{console.log(" Trying direct fetch to /api/categories...");const T=await fetch("/api/categories"),$=await T.json();console.log(" Direct fetch response:",T.status,$),T.ok&&$.status==="success"&&$.data?(a.value=$.data,console.log(" Categories loaded via direct fetch:",a.value.length)):(console.warn(" Direct fetch also failed"),a.value=[])}catch(T){console.error(" Direct fetch also failed:",T),a.value=[]}console.log(" No categories available")}},d=f=>{t.push({path:"/courses",query:{category:f.id}})};return it(async()=>{console.log(" Home component mounted, fetching data..."),await Promise.all([n(),i()]),console.log(" Home component data loaded:",{featuredCourses:r.value.length,categories:a.value.length})}),(f,u)=>{const c=lt("router-link");return p(),v("div",Ab,[s("section",Tb,[u[4]||(u[4]=s("div",{class:"absolute inset-0 bg-black opacity-10"},null,-1)),s("div",Pb,[s("div",Rb,[u[2]||(u[2]=s("h1",{class:"text-4xl md:text-6xl font-bold text-white mb-6"}," Learn Without Limits ",-1)),u[3]||(u[3]=s("p",{class:"text-xl md:text-2xl text-primary-100 mb-8 max-w-3xl mx-auto"}," Start, switch, or advance your career with thousands of courses from world-class universities and companies. ",-1)),s("div",Mb,[pe(c,{to:"/courses",class:"inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-primary-600 bg-white hover:bg-gray-50 transition-colors duration-200"},{default:ke(()=>u[0]||(u[0]=[de(" Browse Courses ",-1)])),_:1,__:[0]}),pe(c,{to:"/register",class:"inline-flex items-center justify-center px-8 py-3 border border-white text-base font-medium rounded-md text-white hover:bg-primary-700 transition-colors duration-200"},{default:ke(()=>u[1]||(u[1]=[de(" Join for Free ",-1)])),_:1,__:[1]})])])])]),s("section",Ib,[s("div",Ob,[s("div",Db,[s("div",null,[s("div",jb,E(l.value.courses)+"+",1),u[5]||(u[5]=s("div",{class:"text-gray-600"},"Online Courses",-1))]),s("div",null,[s("div",Lb,E(l.value.students)+"+",1),u[6]||(u[6]=s("div",{class:"text-gray-600"},"Active Students",-1))]),s("div",null,[s("div",Fb,E(l.value.instructors)+"+",1),u[7]||(u[7]=s("div",{class:"text-gray-600"},"Expert Instructors",-1))]),s("div",null,[s("div",Nb,E(l.value.certificates)+"+",1),u[8]||(u[8]=s("div",{class:"text-gray-600"},"Certificates Issued",-1))])])])]),s("section",Bb,[s("div",Ub,[u[16]||(u[16]=s("div",{class:"text-center mb-12"},[s("h2",{class:"text-3xl font-bold text-gray-900 mb-4"},"Featured Courses"),s("p",{class:"text-lg text-gray-600 max-w-2xl mx-auto"}," Discover the most popular courses chosen by our community ")],-1)),o.value?(p(),v("div",Vb,u[9]||(u[9]=[s("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)]))):r.value.length>0?(p(),v("div",Hb,[(p(!0),v(_e,null,Ee(r.value,m=>{var g,y,k,C;return p(),v("div",{key:m.id,class:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow duration-200"},[s("div",zb,[m.image?(p(),v("img",{key:0,src:m.image,alt:m.title,class:"w-full h-full object-cover"},null,8,Wb)):(p(),v("div",Kb,u[10]||(u[10]=[s("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)]))),s("div",Gb,[s("span",{class:ue(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",m.price===0?"bg-green-100 text-green-800":"bg-primary-100 text-primary-800"])},E(m.price===0||m.price===null||m.price===void 0?"Free":`$${m.price}`),3)])]),s("div",qb,[s("h3",Yb,E(m.title),1),s("p",Xb,E(m.short_description||m.description),1),s("div",Jb,[s("div",Qb,[s("div",Zb,[u[11]||(u[11]=s("svg",{class:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),s("span",e4,E(m.average_rating||0),1)]),s("span",t4,"("+E(m.reviews_count||0)+")",1)]),s("span",s4,E(m.lessons_count||0)+" lessons",1)]),s("div",o4,[s("div",r4,[s("div",n4,[s("span",a4,E(((k=(y=(g=m.instructor)==null?void 0:g.name)==null?void 0:y.charAt(0))==null?void 0:k.toUpperCase())||"I"),1)]),s("span",l4,E(((C=m.instructor)==null?void 0:C.name)||"Instructor"),1)]),pe(c,{to:`/courses/${m.slug}`,class:ue(["inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md transition-colors duration-200",m.is_enrolled?"bg-green-600 hover:bg-green-700 text-white":"bg-primary-600 hover:bg-primary-700 text-white"])},{default:ke(()=>[de(E(m.is_enrolled?"Enrolled":"View Course"),1)]),_:2},1032,["to","class"])])])])}),128))])):(p(),v("div",i4,[u[13]||(u[13]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),u[14]||(u[14]=s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No featured courses",-1)),u[15]||(u[15]=s("p",{class:"mt-1 text-sm text-gray-500"},"Check back later for featured courses.",-1)),pe(c,{to:"/courses",class:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 transition-colors duration-200"},{default:ke(()=>u[12]||(u[12]=[de(" View All Courses ",-1)])),_:1,__:[12]})]))])]),s("section",d4,[s("div",u4,[u[19]||(u[19]=s("div",{class:"text-center mb-12"},[s("h2",{class:"text-3xl font-bold text-gray-900 mb-4"},"Explore Categories"),s("p",{class:"text-lg text-gray-600 max-w-2xl mx-auto"}," Find courses in your area of interest ")],-1)),a.value.length>0?(p(),v("div",c4,[(p(!0),v(_e,null,Ee(a.value,m=>(p(),v("div",{key:m.id,class:"group cursor-pointer",onClick:g=>d(m)},[s("div",p4,[u[17]||(u[17]=s("div",{class:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4 group-hover:bg-primary-200 transition-colors duration-200"},[s("svg",{class:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),s("h3",m4,E(m.name),1),s("p",g4,E(m.courses_count||0)+" courses",1)])],8,f4))),128))])):(p(),v("div",v4,u[18]||(u[18]=[s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No categories available",-1),s("p",{class:"mt-1 text-sm text-gray-500"},"Categories will appear here once added.",-1)])))])]),s("section",h4,[s("div",y4,[u[22]||(u[22]=s("h2",{class:"text-3xl font-bold text-white mb-4"},"Ready to Start Learning?",-1)),u[23]||(u[23]=s("p",{class:"text-xl text-primary-100 mb-8 max-w-2xl mx-auto"}," Join thousands of learners and start your journey today ",-1)),s("div",x4,[pe(c,{to:"/register",class:"inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-primary-600 bg-white hover:bg-gray-50 transition-colors duration-200"},{default:ke(()=>u[20]||(u[20]=[de(" Get Started ",-1)])),_:1,__:[20]}),pe(c,{to:"/courses",class:"inline-flex items-center justify-center px-8 py-3 border border-white text-base font-medium rounded-md text-white hover:bg-primary-700 transition-colors duration-200"},{default:ke(()=>u[21]||(u[21]=[de(" Browse Courses ",-1)])),_:1,__:[21]})])])])])}}},w4={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},_4={class:"max-w-md w-full space-y-8"},C4={class:"mt-2 text-center text-sm text-gray-600"},k4={class:"space-y-4"},$4={class:"mt-1"},S4={key:0,class:"mt-2 text-sm text-red-600"},E4={class:"mt-1"},A4={key:0,class:"mt-2 text-sm text-red-600"},T4={class:"flex items-center justify-between"},P4={class:"flex items-center"},R4={class:"text-sm"},M4=["disabled"],I4={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},O4={class:"flex items-center justify-center"},D4={class:"text-sm"},j4={__name:"Login",setup(e){const t=kt(),o=Ot(),r=gt(),a=j(!1),l=Ye({email:"",password:"",remember:!1}),n=Ye({}),i=()=>(n.value={},l.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)?l.password?l.password.length<6?(n.password="Password must be at least 6 characters",!1):!0:(n.password="Password is required",!1):(n.email="Please enter a valid email address",!1):(n.email="Email is required",!1)),d=async()=>{var f,u,c,m;if(i()){a.value=!0,n.value={};try{console.log("Attempting login with:",{email:l.email,password:l.password});const g=await o.login({email:l.email,password:l.password,remember:l.remember});console.log("Login result:",g),console.log("User role:",o.userRole),console.log("Is instructor:",o.isInstructor),console.log("Is student:",o.isStudent),console.log("Login successful, redirecting..."),console.log("User role:",o.userRole),console.log("Is instructor:",o.isInstructor),console.log("Is student:",o.isStudent),console.log("User object:",o.user),await so(),console.log("After nextTick - User role:",o.userRole),console.log("After nextTick - Is instructor:",o.isInstructor),console.log("After nextTick - Is student:",o.isStudent),o.isAdmin?(console.log("Redirecting to admin dashboard"),t.push("/admin")):o.isInstructor?(console.log("Redirecting to instructor dashboard"),t.push("/instructor")):o.isStudent?(console.log("Redirecting to student dashboard"),t.push("/student-dashboard")):(console.log("Redirecting to general dashboard"),t.push("/dashboard"))}catch(g){console.error("Login error:",g),(u=(f=g.response)==null?void 0:f.data)!=null&&u.errors?n.value=g.response.data.errors:(m=(c=g.response)==null?void 0:c.data)!=null&&m.message?r.error(g.response.data.message):r.error("Login failed. Please check your credentials.")}finally{a.value=!1}}};return(f,u)=>{const c=lt("router-link");return p(),v("div",w4,[s("div",_4,[s("div",null,[u[5]||(u[5]=s("div",{class:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100"},[s("svg",{class:"h-6 w-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),u[6]||(u[6]=s("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Sign in to your account ",-1)),s("p",C4,[u[4]||(u[4]=de(" Or ",-1)),pe(c,{to:"/register",class:"font-medium text-primary-600 hover:text-primary-500"},{default:ke(()=>u[3]||(u[3]=[de(" create a new account ",-1)])),_:1,__:[3]})])]),s("form",{class:"mt-8 space-y-6",onSubmit:Ue(d,["prevent"])},[s("div",k4,[s("div",null,[u[7]||(u[7]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email address ",-1)),s("div",$4,[xe(s("input",{id:"email","onUpdate:modelValue":u[0]||(u[0]=m=>l.email=m),name:"email",type:"email",autocomplete:"email",required:"",class:ue(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",{"border-red-500":n.email}]),placeholder:"Enter your email address"},null,2),[[Pe,l.email]])]),n.email?(p(),v("p",S4,E(n.email),1)):N("",!0)]),s("div",null,[u[8]||(u[8]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1)),s("div",E4,[xe(s("input",{id:"password","onUpdate:modelValue":u[1]||(u[1]=m=>l.password=m),name:"password",type:"password",autocomplete:"current-password",required:"",class:ue(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",{"border-red-500":n.password}]),placeholder:"Enter your password"},null,2),[[Pe,l.password]])]),n.password?(p(),v("p",A4,E(n.password),1)):N("",!0)])]),s("div",T4,[s("div",P4,[xe(s("input",{"onUpdate:modelValue":u[2]||(u[2]=m=>l.remember=m),id:"remember",name:"remember",type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[bs,l.remember]]),u[9]||(u[9]=s("label",{for:"remember",class:"ml-2 block text-sm text-gray-900"}," Remember me ",-1))]),s("div",R4,[pe(c,{to:"/forgot-password",class:"font-medium text-primary-600 hover:text-primary-500"},{default:ke(()=>u[10]||(u[10]=[de(" Forgot your password? ",-1)])),_:1,__:[10]})])]),s("div",null,[s("button",{type:"submit",disabled:a.value,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[a.value?(p(),v("span",I4,u[11]||(u[11]=[s("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):N("",!0),de(" "+E(a.value?"Signing in...":"Sign in"),1)],8,M4)]),s("div",O4,[s("div",D4,[u[13]||(u[13]=s("span",{class:"text-gray-600"},"Don't have an account?",-1)),pe(c,{to:"/register",class:"font-medium text-primary-600 hover:text-primary-500 ml-1"},{default:ke(()=>u[12]||(u[12]=[de(" Sign up ",-1)])),_:1,__:[12]})])])],32)])])}}},zo=[{code:"AF",name:"Afghanistan",dialCode:"+93",flag:""},{code:"AL",name:"Albania",dialCode:"+355",flag:""},{code:"DZ",name:"Algeria",dialCode:"+213",flag:""},{code:"AS",name:"American Samoa",dialCode:"+1",flag:""},{code:"AD",name:"Andorra",dialCode:"+376",flag:""},{code:"AO",name:"Angola",dialCode:"+244",flag:""},{code:"AI",name:"Anguilla",dialCode:"+1",flag:""},{code:"AQ",name:"Antarctica",dialCode:"+672",flag:""},{code:"AG",name:"Antigua and Barbuda",dialCode:"+1",flag:""},{code:"AR",name:"Argentina",dialCode:"+54",flag:""},{code:"AM",name:"Armenia",dialCode:"+374",flag:""},{code:"AW",name:"Aruba",dialCode:"+297",flag:""},{code:"AU",name:"Australia",dialCode:"+61",flag:""},{code:"AT",name:"Austria",dialCode:"+43",flag:""},{code:"AZ",name:"Azerbaijan",dialCode:"+994",flag:""},{code:"BS",name:"Bahamas",dialCode:"+1",flag:""},{code:"BH",name:"Bahrain",dialCode:"+973",flag:""},{code:"BD",name:"Bangladesh",dialCode:"+880",flag:""},{code:"BB",name:"Barbados",dialCode:"+1",flag:""},{code:"BY",name:"Belarus",dialCode:"+375",flag:""},{code:"BE",name:"Belgium",dialCode:"+32",flag:""},{code:"BZ",name:"Belize",dialCode:"+501",flag:""},{code:"BJ",name:"Benin",dialCode:"+229",flag:""},{code:"BM",name:"Bermuda",dialCode:"+1",flag:""},{code:"BT",name:"Bhutan",dialCode:"+975",flag:""},{code:"BO",name:"Bolivia",dialCode:"+591",flag:""},{code:"BA",name:"Bosnia and Herzegovina",dialCode:"+387",flag:""},{code:"BW",name:"Botswana",dialCode:"+267",flag:""},{code:"BR",name:"Brazil",dialCode:"+55",flag:""},{code:"IO",name:"British Indian Ocean Territory",dialCode:"+246",flag:""},{code:"BN",name:"Brunei Darussalam",dialCode:"+673",flag:""},{code:"BG",name:"Bulgaria",dialCode:"+359",flag:""},{code:"BF",name:"Burkina Faso",dialCode:"+226",flag:""},{code:"BI",name:"Burundi",dialCode:"+257",flag:""},{code:"KH",name:"Cambodia",dialCode:"+855",flag:""},{code:"CM",name:"Cameroon",dialCode:"+237",flag:""},{code:"CA",name:"Canada",dialCode:"+1",flag:""},{code:"CV",name:"Cape Verde",dialCode:"+238",flag:""},{code:"KY",name:"Cayman Islands",dialCode:"+1",flag:""},{code:"CF",name:"Central African Republic",dialCode:"+236",flag:""},{code:"TD",name:"Chad",dialCode:"+235",flag:""},{code:"CL",name:"Chile",dialCode:"+56",flag:""},{code:"CN",name:"China",dialCode:"+86",flag:""},{code:"CX",name:"Christmas Island",dialCode:"+61",flag:""},{code:"CC",name:"Cocos (Keeling) Islands",dialCode:"+61",flag:""},{code:"CO",name:"Colombia",dialCode:"+57",flag:""},{code:"KM",name:"Comoros",dialCode:"+269",flag:""},{code:"CG",name:"Congo",dialCode:"+242",flag:""},{code:"CD",name:"Congo, Democratic Republic of the",dialCode:"+243",flag:""},{code:"CK",name:"Cook Islands",dialCode:"+682",flag:""},{code:"CR",name:"Costa Rica",dialCode:"+506",flag:""},{code:"CI",name:"Cte d'Ivoire",dialCode:"+225",flag:""},{code:"HR",name:"Croatia",dialCode:"+385",flag:""},{code:"CU",name:"Cuba",dialCode:"+53",flag:""},{code:"CY",name:"Cyprus",dialCode:"+357",flag:""},{code:"CZ",name:"Czech Republic",dialCode:"+420",flag:""},{code:"DK",name:"Denmark",dialCode:"+45",flag:""},{code:"DJ",name:"Djibouti",dialCode:"+253",flag:""},{code:"DM",name:"Dominica",dialCode:"+1",flag:""},{code:"DO",name:"Dominican Republic",dialCode:"+1",flag:""},{code:"EC",name:"Ecuador",dialCode:"+593",flag:""},{code:"EG",name:"Egypt",dialCode:"+20",flag:""},{code:"SV",name:"El Salvador",dialCode:"+503",flag:""},{code:"GQ",name:"Equatorial Guinea",dialCode:"+240",flag:""},{code:"ER",name:"Eritrea",dialCode:"+291",flag:""},{code:"EE",name:"Estonia",dialCode:"+372",flag:""},{code:"ET",name:"Ethiopia",dialCode:"+251",flag:""},{code:"FK",name:"Falkland Islands (Malvinas)",dialCode:"+500",flag:""},{code:"FO",name:"Faroe Islands",dialCode:"+298",flag:""},{code:"FJ",name:"Fiji",dialCode:"+679",flag:""},{code:"FI",name:"Finland",dialCode:"+358",flag:""},{code:"FR",name:"France",dialCode:"+33",flag:""},{code:"GF",name:"French Guiana",dialCode:"+594",flag:""},{code:"PF",name:"French Polynesia",dialCode:"+689",flag:""},{code:"TF",name:"French Southern Territories",dialCode:"+262",flag:""},{code:"GA",name:"Gabon",dialCode:"+241",flag:""},{code:"GM",name:"Gambia",dialCode:"+220",flag:""},{code:"GE",name:"Georgia",dialCode:"+995",flag:""},{code:"DE",name:"Germany",dialCode:"+49",flag:""},{code:"GH",name:"Ghana",dialCode:"+233",flag:""},{code:"GI",name:"Gibraltar",dialCode:"+350",flag:""},{code:"GR",name:"Greece",dialCode:"+30",flag:""},{code:"GL",name:"Greenland",dialCode:"+299",flag:""},{code:"GD",name:"Grenada",dialCode:"+1",flag:""},{code:"GP",name:"Guadeloupe",dialCode:"+590",flag:""},{code:"GU",name:"Guam",dialCode:"+1",flag:""},{code:"GT",name:"Guatemala",dialCode:"+502",flag:""},{code:"GG",name:"Guernsey",dialCode:"+44",flag:""},{code:"GN",name:"Guinea",dialCode:"+224",flag:""},{code:"GW",name:"Guinea-Bissau",dialCode:"+245",flag:""},{code:"GY",name:"Guyana",dialCode:"+592",flag:""},{code:"HT",name:"Haiti",dialCode:"+509",flag:""},{code:"HM",name:"Heard Island and McDonald Islands",dialCode:"+672",flag:""},{code:"VA",name:"Holy See (Vatican City State)",dialCode:"+379",flag:""},{code:"HN",name:"Honduras",dialCode:"+504",flag:""},{code:"HK",name:"Hong Kong",dialCode:"+852",flag:""},{code:"HU",name:"Hungary",dialCode:"+36",flag:""},{code:"IS",name:"Iceland",dialCode:"+354",flag:""},{code:"IN",name:"India",dialCode:"+91",flag:""},{code:"ID",name:"Indonesia",dialCode:"+62",flag:""},{code:"IR",name:"Iran, Islamic Republic of",dialCode:"+98",flag:""},{code:"IQ",name:"Iraq",dialCode:"+964",flag:""},{code:"IE",name:"Ireland",dialCode:"+353",flag:""},{code:"IM",name:"Isle of Man",dialCode:"+44",flag:""},{code:"IL",name:"Israel",dialCode:"+972",flag:""},{code:"IT",name:"Italy",dialCode:"+39",flag:""},{code:"JM",name:"Jamaica",dialCode:"+1",flag:""},{code:"JP",name:"Japan",dialCode:"+81",flag:""},{code:"JE",name:"Jersey",dialCode:"+44",flag:""},{code:"JO",name:"Jordan",dialCode:"+962",flag:""},{code:"KZ",name:"Kazakhstan",dialCode:"+7",flag:""},{code:"KE",name:"Kenya",dialCode:"+254",flag:""},{code:"KI",name:"Kiribati",dialCode:"+686",flag:""},{code:"KP",name:"Korea, Democratic People's Republic of",dialCode:"+850",flag:""},{code:"KR",name:"Korea, Republic of",dialCode:"+82",flag:""},{code:"KW",name:"Kuwait",dialCode:"+965",flag:""},{code:"KG",name:"Kyrgyzstan",dialCode:"+996",flag:""},{code:"LA",name:"Lao People's Democratic Republic",dialCode:"+856",flag:""},{code:"LV",name:"Latvia",dialCode:"+371",flag:""},{code:"LB",name:"Lebanon",dialCode:"+961",flag:""},{code:"LS",name:"Lesotho",dialCode:"+266",flag:""},{code:"LR",name:"Liberia",dialCode:"+231",flag:""},{code:"LY",name:"Libya",dialCode:"+218",flag:""},{code:"LI",name:"Liechtenstein",dialCode:"+423",flag:""},{code:"LT",name:"Lithuania",dialCode:"+370",flag:""},{code:"LU",name:"Luxembourg",dialCode:"+352",flag:""},{code:"MO",name:"Macao",dialCode:"+853",flag:""},{code:"MK",name:"Macedonia, the former Yugoslav Republic of",dialCode:"+389",flag:""},{code:"MG",name:"Madagascar",dialCode:"+261",flag:""},{code:"MW",name:"Malawi",dialCode:"+265",flag:""},{code:"MY",name:"Malaysia",dialCode:"+60",flag:""},{code:"MV",name:"Maldives",dialCode:"+960",flag:""},{code:"ML",name:"Mali",dialCode:"+223",flag:""},{code:"MT",name:"Malta",dialCode:"+356",flag:""},{code:"MH",name:"Marshall Islands",dialCode:"+692",flag:""},{code:"MQ",name:"Martinique",dialCode:"+596",flag:""},{code:"MR",name:"Mauritania",dialCode:"+222",flag:""},{code:"MU",name:"Mauritius",dialCode:"+230",flag:""},{code:"YT",name:"Mayotte",dialCode:"+262",flag:""},{code:"MX",name:"Mexico",dialCode:"+52",flag:""},{code:"FM",name:"Micronesia, Federated States of",dialCode:"+691",flag:""},{code:"MD",name:"Moldova, Republic of",dialCode:"+373",flag:""},{code:"MC",name:"Monaco",dialCode:"+377",flag:""},{code:"MN",name:"Mongolia",dialCode:"+976",flag:""},{code:"ME",name:"Montenegro",dialCode:"+382",flag:""},{code:"MS",name:"Montserrat",dialCode:"+1",flag:""},{code:"MA",name:"Morocco",dialCode:"+212",flag:""},{code:"MZ",name:"Mozambique",dialCode:"+258",flag:""},{code:"MM",name:"Myanmar",dialCode:"+95",flag:""},{code:"NA",name:"Namibia",dialCode:"+264",flag:""},{code:"NR",name:"Nauru",dialCode:"+674",flag:""},{code:"NP",name:"Nepal",dialCode:"+977",flag:""},{code:"NL",name:"Netherlands",dialCode:"+31",flag:""},{code:"NC",name:"New Caledonia",dialCode:"+687",flag:""},{code:"NZ",name:"New Zealand",dialCode:"+64",flag:""},{code:"NI",name:"Nicaragua",dialCode:"+505",flag:""},{code:"NE",name:"Niger",dialCode:"+227",flag:""},{code:"NG",name:"Nigeria",dialCode:"+234",flag:""},{code:"NU",name:"Niue",dialCode:"+683",flag:""},{code:"NF",name:"Norfolk Island",dialCode:"+672",flag:""},{code:"MP",name:"Northern Mariana Islands",dialCode:"+1",flag:""},{code:"NO",name:"Norway",dialCode:"+47",flag:""},{code:"OM",name:"Oman",dialCode:"+968",flag:""},{code:"PK",name:"Pakistan",dialCode:"+92",flag:""},{code:"PW",name:"Palau",dialCode:"+680",flag:""},{code:"PS",name:"Palestinian Territory, Occupied",dialCode:"+970",flag:""},{code:"PA",name:"Panama",dialCode:"+507",flag:""},{code:"PG",name:"Papua New Guinea",dialCode:"+675",flag:""},{code:"PY",name:"Paraguay",dialCode:"+595",flag:""},{code:"PE",name:"Peru",dialCode:"+51",flag:""},{code:"PH",name:"Philippines",dialCode:"+63",flag:""},{code:"PN",name:"Pitcairn",dialCode:"+64",flag:""},{code:"PL",name:"Poland",dialCode:"+48",flag:""},{code:"PT",name:"Portugal",dialCode:"+351",flag:""},{code:"PR",name:"Puerto Rico",dialCode:"+1",flag:""},{code:"QA",name:"Qatar",dialCode:"+974",flag:""},{code:"RE",name:"Runion",dialCode:"+262",flag:""},{code:"RO",name:"Romania",dialCode:"+40",flag:""},{code:"RU",name:"Russian Federation",dialCode:"+7",flag:""},{code:"RW",name:"Rwanda",dialCode:"+250",flag:""},{code:"BL",name:"Saint Barthlemy",dialCode:"+590",flag:""},{code:"SH",name:"Saint Helena, Ascension and Tristan da Cunha",dialCode:"+290",flag:""},{code:"KN",name:"Saint Kitts and Nevis",dialCode:"+1",flag:""},{code:"LC",name:"Saint Lucia",dialCode:"+1",flag:""},{code:"MF",name:"Saint Martin (French part)",dialCode:"+590",flag:""},{code:"PM",name:"Saint Pierre and Miquelon",dialCode:"+508",flag:""},{code:"VC",name:"Saint Vincent and the Grenadines",dialCode:"+1",flag:""},{code:"WS",name:"Samoa",dialCode:"+685",flag:""},{code:"SM",name:"San Marino",dialCode:"+378",flag:""},{code:"ST",name:"Sao Tome and Principe",dialCode:"+239",flag:""},{code:"SA",name:"Saudi Arabia",dialCode:"+966",flag:""},{code:"SN",name:"Senegal",dialCode:"+221",flag:""},{code:"RS",name:"Serbia",dialCode:"+381",flag:""},{code:"SC",name:"Seychelles",dialCode:"+248",flag:""},{code:"SL",name:"Sierra Leone",dialCode:"+232",flag:""},{code:"SG",name:"Singapore",dialCode:"+65",flag:""},{code:"SX",name:"Sint Maarten (Dutch part)",dialCode:"+1",flag:""},{code:"SK",name:"Slovakia",dialCode:"+421",flag:""},{code:"SI",name:"Slovenia",dialCode:"+386",flag:""},{code:"SB",name:"Solomon Islands",dialCode:"+677",flag:""},{code:"SO",name:"Somalia",dialCode:"+252",flag:""},{code:"ZA",name:"South Africa",dialCode:"+27",flag:""},{code:"GS",name:"South Georgia and the South Sandwich Islands",dialCode:"+500",flag:""},{code:"SS",name:"South Sudan",dialCode:"+211",flag:""},{code:"ES",name:"Spain",dialCode:"+34",flag:""},{code:"LK",name:"Sri Lanka",dialCode:"+94",flag:""},{code:"SD",name:"Sudan",dialCode:"+249",flag:""},{code:"SR",name:"Suriname",dialCode:"+597",flag:""},{code:"SJ",name:"Svalbard and Jan Mayen",dialCode:"+47",flag:""},{code:"SZ",name:"Swaziland",dialCode:"+268",flag:""},{code:"SE",name:"Sweden",dialCode:"+46",flag:""},{code:"CH",name:"Switzerland",dialCode:"+41",flag:""},{code:"SY",name:"Syrian Arab Republic",dialCode:"+963",flag:""},{code:"TW",name:"Taiwan, Province of China",dialCode:"+886",flag:""},{code:"TJ",name:"Tajikistan",dialCode:"+992",flag:""},{code:"TZ",name:"Tanzania, United Republic of",dialCode:"+255",flag:""},{code:"TH",name:"Thailand",dialCode:"+66",flag:""},{code:"TL",name:"Timor-Leste",dialCode:"+670",flag:""},{code:"TG",name:"Togo",dialCode:"+228",flag:""},{code:"TK",name:"Tokelau",dialCode:"+690",flag:""},{code:"TO",name:"Tonga",dialCode:"+676",flag:""},{code:"TT",name:"Trinidad and Tobago",dialCode:"+1",flag:""},{code:"TN",name:"Tunisia",dialCode:"+216",flag:""},{code:"TR",name:"Turkey",dialCode:"+90",flag:""},{code:"TM",name:"Turkmenistan",dialCode:"+993",flag:""},{code:"TC",name:"Turks and Caicos Islands",dialCode:"+1",flag:""},{code:"TV",name:"Tuvalu",dialCode:"+1",flag:""},{code:"UG",name:"Uganda",dialCode:"+256",flag:""},{code:"UA",name:"Ukraine",dialCode:"+380",flag:""},{code:"AE",name:"United Arab Emirates",dialCode:"+971",flag:""},{code:"GB",name:"United Kingdom",dialCode:"+44",flag:""},{code:"US",name:"United States",dialCode:"+1",flag:""},{code:"UM",name:"United States Minor Outlying Islands",dialCode:"+1",flag:""},{code:"UY",name:"Uruguay",dialCode:"+598",flag:""},{code:"UZ",name:"Uzbekistan",dialCode:"+996",flag:""},{code:"VU",name:"Vanuatu",dialCode:"+678",flag:""},{code:"VE",name:"Venezuela, Bolivarian Republic of",dialCode:"+58",flag:""},{code:"VN",name:"Viet Nam",dialCode:"+84",flag:""},{code:"VG",name:"Virgin Islands, British",dialCode:"+1",flag:""},{code:"VI",name:"Virgin Islands, U.S.",dialCode:"+1",flag:""},{code:"WF",name:"Wallis and Futuna",dialCode:"+681",flag:""},{code:"EH",name:"Western Sahara",dialCode:"+212",flag:""},{code:"YE",name:"Yemen",dialCode:"+967",flag:""},{code:"ZM",name:"Zambia",dialCode:"+260",flag:""},{code:"ZW",name:"Zimbabwe",dialCode:"+263",flag:""}],L4=zo.find(e=>e.code==="US")||zo[0],F4=e=>zo.find(t=>t.code===e),N4=(e,t)=>{const o=F4(e);if(!o)return t;const r=t.replace(/\D/g,"");return`${o.dialCode} ${r}`};const Kt=(e,t)=>{const o=e.__vccOpts||e;for(const[r,a]of t)o[r]=a;return o},B4={class:"phone-input-container"},U4={key:0,class:"text-red-500"},V4={class:"relative"},H4={class:"text-lg"},z4={class:"text-sm font-medium text-gray-700"},W4=["placeholder","required","disabled"],K4={key:0,class:"absolute z-50 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto"},G4={class:"p-2 border-b border-gray-200"},q4={class:"max-h-48 overflow-auto"},Y4=["onClick"],X4={class:"text-lg"},J4={class:"flex-1 text-sm font-medium"},Q4={class:"text-sm text-gray-500"},Z4={key:1,class:"mt-1 text-sm text-red-600"},ew={key:2,class:"mt-1 text-sm text-gray-500"},tw={key:3,class:"mt-1 text-xs text-gray-500"},sw={__name:"PhoneInput",props:{modelValue:{type:Object,default:()=>({countryCode:"",phoneNumber:""})},label:{type:String,default:""},placeholder:{type:String,default:"Enter phone number"},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:String,default:""},helpText:{type:String,default:""},showFormatted:{type:Boolean,default:!1},defaultCountryCode:{type:String,default:"US"}},emits:["update:modelValue","change","blur","focus"],setup(e,{emit:t}){const o=e,r=t,a=`phone-input-${Math.random().toString(36).substr(2,9)}`,l=j(!1),n=j(""),i=j(""),d=j(L4);it(()=>{if(o.modelValue.countryCode){const A=zo.find(T=>T.code===o.modelValue.countryCode);A&&(d.value=A)}else if(o.defaultCountryCode){const A=zo.find(T=>T.code===o.defaultCountryCode);A&&(d.value=A)}i.value=o.modelValue.phoneNumber||""});const f=Ne(()=>{if(!n.value)return zo;const A=n.value.toLowerCase();return zo.filter(T=>T.name.toLowerCase().includes(A)||T.dialCode.includes(A)||T.code.toLowerCase().includes(A))}),u=Ne(()=>!i.value||!d.value?"":N4(d.value.code,i.value));xt([i,d],()=>{const A={countryCode:d.value.code,phoneNumber:i.value,dialCode:d.value.dialCode,formatted:u.value};r("update:modelValue",A),r("change",A)},{deep:!0});const c=()=>{o.disabled||(l.value=!l.value,l.value&&(n.value=""))},m=A=>{d.value=A,l.value=!1,n.value=""},g=A=>{let T=A.target.value;if(T.startsWith("+")){const $=T.split(" ")[0],x=zo.find(S=>S.dialCode===$);if(x){d.value=x,i.value=T.replace($,"").trim();return}}i.value=T.replace(/\D/g,"")},y=A=>{r("blur",A)},k=A=>{r("focus",A)},C=A=>{A.target.closest(".phone-input-container")||(l.value=!1)};return it(()=>{document.addEventListener("click",C)}),no(()=>{document.removeEventListener("click",C)}),(A,T)=>(p(),v("div",B4,[e.label?(p(),v("label",{key:0,for:a,class:"block text-sm font-medium text-gray-700 mb-1"},[de(E(e.label)+" ",1),e.required?(p(),v("span",U4,"*")):N("",!0)])):N("",!0),s("div",V4,[s("button",{type:"button",onClick:c,class:ue(["absolute left-0 top-0 h-full px-3 py-2 border border-r-0 border-gray-300 rounded-l-md bg-white hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 flex items-center space-x-2 min-w-[120px]",e.error?"border-red-500":""])},[s("span",H4,E(d.value.flag),1),s("span",z4,E(d.value.dialCode),1),(p(),v("svg",{class:ue(["w-4 h-4 text-gray-400",{"rotate-180":l.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},T[3]||(T[3]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],2),xe(s("input",{id:a,name:a,"onUpdate:modelValue":T[0]||(T[0]=$=>i.value=$),type:"tel",autocomplete:"tel",placeholder:e.placeholder,required:e.required,disabled:e.disabled,class:ue(["block w-full pl-32 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",e.error?"border-red-500":""]),onInput:g,onBlur:y,onFocus:k},null,42,W4),[[Pe,i.value]]),l.value?(p(),v("div",K4,[s("div",G4,[T[4]||(T[4]=s("label",{for:"country-search",class:"sr-only"},"Search countries",-1)),xe(s("input",{id:"country-search",name:"country-search","onUpdate:modelValue":T[1]||(T[1]=$=>n.value=$),type:"text",placeholder:"Search countries...",class:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",onClick:T[2]||(T[2]=Ue(()=>{},["stop"]))},null,512),[[Pe,n.value]])]),s("div",q4,[(p(!0),v(_e,null,Ee(f.value,$=>(p(),v("button",{key:$.code,type:"button",onClick:x=>m($),class:ue(["w-full px-3 py-2 text-left hover:bg-gray-100 focus:outline-none focus:bg-gray-100 flex items-center space-x-3",d.value.code===$.code?"bg-primary-50 text-primary-700":"text-gray-900"])},[s("span",X4,E($.flag),1),s("span",J4,E($.name),1),s("span",Q4,E($.dialCode),1)],10,Y4))),128))])])):N("",!0)]),e.error?(p(),v("p",Z4,E(e.error),1)):e.helpText?(p(),v("p",ew,E(e.helpText),1)):N("",!0),e.showFormatted&&u.value?(p(),v("div",tw," Formatted: "+E(u.value),1)):N("",!0)]))}},ow=Kt(sw,[["__scopeId","data-v-230d7a85"]]),rw={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},nw={class:"max-w-md w-full space-y-8"},aw={class:"mt-2 text-center text-sm text-gray-600"},lw={class:"space-y-4"},iw={class:"mt-1"},dw={key:0,class:"mt-2 text-sm text-red-600"},uw={class:"mt-1"},cw={key:0,class:"mt-2 text-sm text-red-600"},fw={class:"mt-1"},pw={key:0,class:"mt-2 text-sm text-red-600"},mw={class:"mt-1"},gw={key:0,class:"mt-2 text-sm text-red-600"},vw={class:"mt-1"},hw={key:0,class:"mt-2 text-sm text-red-600"},yw={class:"flex items-center"},xw=["disabled"],bw={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},ww={class:"flex items-center justify-center"},_w={class:"text-sm"},Cw={__name:"Register",setup(e){const t=kt(),o=Ot(),r=gt(),a=j(!1),l=Ye({name:"",email:"",phone:{countryCode:"",phoneNumber:"",dialCode:"",formatted:""},role:"",password:"",password_confirmation:"",agree_to_terms:!1}),n=Ye({}),i=()=>(n.value={},l.name?l.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)?l.phone.phoneNumber&&!/^[0-9]{7,15}$/.test(l.phone.phoneNumber)?(n.phone="Please enter a valid phone number (7-15 digits)",!1):l.role?l.password?l.password.length<8?(n.password="Password must be at least 8 characters",!1):l.password_confirmation?l.password!==l.password_confirmation?(n.password_confirmation="Passwords do not match",!1):l.agree_to_terms?!0:(r.error("Please agree to the Terms of Service and Privacy Policy"),!1):(n.password_confirmation="Please confirm your password",!1):(n.password="Password is required",!1):(n.role="Please select your role",!1):(n.email="Please enter a valid email address",!1):(n.email="Email is required",!1):(n.name="Full name is required",!1)),d=u=>{l.phone=u},f=async()=>{var u,c,m,g;if(i()){a.value=!0,n.value={};try{console.log("Registration data being sent:",{name:l.name,email:l.email,phone:l.phone.formatted||null,role:l.role,password:l.password,password_confirmation:l.password_confirmation});const y=await o.register({name:l.name,email:l.email,phone:l.phone.formatted||null,role:l.role,password:l.password,password_confirmation:l.password_confirmation});console.log("Registration result:",y),y.email_verified===!1?t.push({name:"EmailVerification",query:{email:l.email}}):y.user.roles&&y.user.roles.includes("instructor")?t.push("/instructor"):y.user.roles&&y.user.roles.includes("student")?t.push("/student-dashboard"):t.push("/dashboard")}catch(y){console.error("Registration error details:",y),console.error("Error response:",y.response),console.error("Error message:",y.message),(c=(u=y.response)==null?void 0:u.data)!=null&&c.errors?(n.value=y.response.data.errors,console.log("Validation errors:",y.response.data.errors)):(g=(m=y.response)==null?void 0:m.data)!=null&&g.message?(r.error(y.response.data.message),console.log("API error message:",y.response.data.message)):y.code==="ERR_NETWORK"?(r.error("Network error. Please check if the server is running."),console.log("Network error - server might be down")):(r.error("Registration failed. Please try again."),console.log("Unknown error:",y))}finally{a.value=!1}}};return(u,c)=>{const m=lt("router-link");return p(),v("div",rw,[s("div",nw,[s("div",null,[c[9]||(c[9]=s("div",{class:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100"},[s("svg",{class:"h-6 w-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})])],-1)),c[10]||(c[10]=s("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Create your account ",-1)),s("p",aw,[c[8]||(c[8]=de(" Or ",-1)),pe(m,{to:"/login",class:"font-medium text-primary-600 hover:text-primary-500"},{default:ke(()=>c[7]||(c[7]=[de(" sign in to your existing account ",-1)])),_:1,__:[7]})])]),s("form",{class:"mt-8 space-y-6",onSubmit:Ue(f,["prevent"])},[s("div",lw,[s("div",null,[c[11]||(c[11]=s("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Full Name ",-1)),s("div",iw,[xe(s("input",{id:"name","onUpdate:modelValue":c[0]||(c[0]=g=>l.name=g),name:"name",type:"text",autocomplete:"name",required:"",class:ue(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",{"border-red-500":n.name}]),placeholder:"Enter your full name"},null,2),[[Pe,l.name]])]),n.name?(p(),v("p",dw,E(n.name),1)):N("",!0)]),s("div",null,[c[12]||(c[12]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email address ",-1)),s("div",uw,[xe(s("input",{id:"email","onUpdate:modelValue":c[1]||(c[1]=g=>l.email=g),name:"email",type:"email",autocomplete:"email",required:"",class:ue(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",{"border-red-500":n.email}]),placeholder:"Enter your email address"},null,2),[[Pe,l.email]])]),n.email?(p(),v("p",cw,E(n.email),1)):N("",!0)]),pe(ow,{modelValue:l.phone,"onUpdate:modelValue":c[2]||(c[2]=g=>l.phone=g),label:"Phone Number (Optional)",placeholder:"Enter your phone number",error:n.phone,"help-text":"Select your country and enter your phone number","show-formatted":!0,onChange:d},null,8,["modelValue","error"]),s("div",null,[c[14]||(c[14]=s("label",{for:"role",class:"block text-sm font-medium text-gray-700"}," I want to ",-1)),s("div",fw,[xe(s("select",{id:"role","onUpdate:modelValue":c[3]||(c[3]=g=>l.role=g),name:"role",required:"",class:ue(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",{"border-red-500":n.role}])},c[13]||(c[13]=[s("option",{value:""},"Select your role",-1),s("option",{value:"student"},"Learn courses as a student",-1),s("option",{value:"instructor"},"Create and teach courses",-1)]),2),[[_t,l.role]])]),n.role?(p(),v("p",pw,E(n.role),1)):N("",!0)]),s("div",null,[c[15]||(c[15]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1)),s("div",mw,[xe(s("input",{id:"password","onUpdate:modelValue":c[4]||(c[4]=g=>l.password=g),name:"password",type:"password",autocomplete:"new-password",required:"",class:ue(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",{"border-red-500":n.password}]),placeholder:"Create a password"},null,2),[[Pe,l.password]])]),n.password?(p(),v("p",gw,E(n.password),1)):N("",!0)]),s("div",null,[c[16]||(c[16]=s("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700"}," Confirm Password ",-1)),s("div",vw,[xe(s("input",{id:"password_confirmation","onUpdate:modelValue":c[5]||(c[5]=g=>l.password_confirmation=g),name:"password_confirmation",type:"password",autocomplete:"new-password",required:"",class:ue(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",{"border-red-500":n.password_confirmation}]),placeholder:"Confirm your password"},null,2),[[Pe,l.password_confirmation]])]),n.password_confirmation?(p(),v("p",hw,E(n.password_confirmation),1)):N("",!0)])]),s("div",yw,[xe(s("input",{"onUpdate:modelValue":c[6]||(c[6]=g=>l.agree_to_terms=g),id:"agree_to_terms",name:"agree_to_terms",type:"checkbox",required:"",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[bs,l.agree_to_terms]]),c[17]||(c[17]=s("label",{for:"agree_to_terms",class:"ml-2 block text-sm text-gray-900"},[de(" I agree to the "),s("a",{href:"#",class:"text-primary-600 hover:text-primary-500"},"Terms of Service"),de(" and "),s("a",{href:"#",class:"text-primary-600 hover:text-primary-500"},"Privacy Policy")],-1))]),s("div",null,[s("button",{type:"submit",disabled:a.value,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[a.value?(p(),v("span",bw,c[18]||(c[18]=[s("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):N("",!0),de(" "+E(a.value?"Creating account...":"Create account"),1)],8,xw)]),s("div",ww,[s("div",_w,[c[20]||(c[20]=s("span",{class:"text-gray-600"},"Already have an account?",-1)),pe(m,{to:"/login",class:"font-medium text-primary-600 hover:text-primary-500 ml-1"},{default:ke(()=>c[19]||(c[19]=[de(" Sign in ",-1)])),_:1,__:[19]})])])],32)])])}}},kw={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},$w={class:"max-w-md w-full space-y-8"},Sw={class:"mt-1"},Ew={key:0,class:"mt-2 text-sm text-red-600"},Aw=["disabled"],Tw={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},Pw={class:"text-center"},Rw={__name:"ForgotPassword",setup(e){const t=kt(),o=Ot(),r=gt(),a=j(!1),l=Ye({email:""}),n=Ye({}),i=()=>(n.value={},l.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)?!0:(n.email="Please enter a valid email address",!1):(n.email="Email is required",!1)),d=async()=>{var f,u;if(i()){a.value=!0,n.value={};try{await o.sendOTP(l.email),r.success("Verification code sent to your email"),t.push({name:"VerifyOTP",query:{email:l.email}})}catch(c){(u=(f=c.response)==null?void 0:f.data)!=null&&u.errors?n.value=c.response.data.errors:r.error("Failed to send verification code. Please try again.")}finally{a.value=!1}}};return(f,u)=>{const c=lt("router-link");return p(),v("div",kw,[s("div",$w,[u[4]||(u[4]=ft('<div><div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100"><svg class="h-6 w-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900"> Forgot your password? </h2><p class="mt-2 text-center text-sm text-gray-600"> Enter your email address and we&#39;ll send you a verification code to reset your password. </p></div>',1)),s("form",{class:"mt-8 space-y-6",onSubmit:Ue(d,["prevent"])},[s("div",null,[u[1]||(u[1]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email address ",-1)),s("div",Sw,[xe(s("input",{id:"email","onUpdate:modelValue":u[0]||(u[0]=m=>l.email=m),name:"email",type:"email",autocomplete:"email",required:"",class:ue(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",{"border-red-500":n.email}]),placeholder:"Enter your email address"},null,2),[[Pe,l.email]])]),n.email?(p(),v("p",Ew,E(n.email),1)):N("",!0)]),s("div",null,[s("button",{type:"submit",disabled:a.value,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[a.value?(p(),v("span",Tw,u[2]||(u[2]=[s("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):N("",!0),de(" "+E(a.value?"Sending...":"Send verification code"),1)],8,Aw)]),s("div",Pw,[pe(c,{to:"/login",class:"font-medium text-primary-600 hover:text-primary-500"},{default:ke(()=>u[3]||(u[3]=[de(" Back to login ",-1)])),_:1,__:[3]})])],32)])])}}},Mw={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},Iw={class:"max-w-md w-full space-y-8"},Ow={key:0,class:"mt-1 text-center text-sm text-gray-500"},Dw={key:1,class:"mt-2 text-center"},jw={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800"},Lw={key:2,class:"mt-2 text-center"},Fw={class:"space-y-4"},Nw={class:"mt-1"},Bw={key:0,class:"mt-2 text-sm text-red-600"},Uw=["disabled"],Vw={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},Hw={class:"flex items-center justify-between"},zw={class:"text-sm"},Ww=["disabled"],Kw={key:0},Gw={key:1},qw={key:2},Yw={key:3},Xw={class:"flex items-center justify-center"},Jw={class:"text-sm"},Qw={__name:"VerifyOTP",setup(e){const t=kt(),o=fs(),r=Ot(),a=gt(),l=j(!1),n=j(!1),i=j(0),d=j(60),f=j(""),u=Ye({otp:""}),c=Ye({});it(()=>{f.value=o.query.email||"",f.value?k():(a.error("Email address is required"),t.push("/forgot-password"))});let m=null,g=null;const y=S=>{const h=Math.floor(S/60),w=S%60;return`${h}:${w.toString().padStart(2,"0")}`},k=()=>{g=setInterval(()=>{d.value--,d.value<=0&&(clearInterval(g),g=null)},1e3)};no(()=>{m&&clearInterval(m),g&&clearInterval(g)});const C=S=>{let h=S.target.value.replace(/\D/g,"");h.length>6&&(h=h.substring(0,6)),u.otp=h,S.target.value=h},A=S=>{const h=String.fromCharCode(S.which);/[0-9]/.test(h)||S.preventDefault()},T=()=>(c.value={},u.otp?u.otp.length!==6?(c.otp="Verification code must be 6 digits",!1):/^\d{6}$/.test(u.otp)?!0:(c.otp="Verification code must contain only numbers",!1):(c.otp="Verification code is required",!1)),$=async()=>{var S,h,w,_;if(T()){l.value=!0,c.value={};try{console.log("Verifying OTP:",{email:f.value,otp:u.otp}),await r.verifyOTP(f.value,u.otp),console.log("OTP verified successfully"),a.success("Code verified successfully!"),t.push({path:"/reset-password",query:{email:f.value,otp:u.otp}})}catch(b){console.error("OTP verification error:",b),(h=(S=b.response)==null?void 0:S.data)!=null&&h.errors?c.value=b.response.data.errors:(_=(w=b.response)==null?void 0:w.data)!=null&&_.message?a.error(b.response.data.message):b.code==="ERR_NETWORK"?a.error("Network error. Please check your connection."):a.error("Verification failed. Please try again.")}finally{l.value=!1}}},x=async()=>{var S,h;if(!(i.value>0||d.value>0)){n.value=!0;try{await r.sendOTP(f.value),a.success("New verification code sent to your email"),d.value=60,k(),i.value=60,m=setInterval(()=>{i.value--,i.value<=0&&(clearInterval(m),m=null)},1e3)}catch(w){console.error("Resend OTP error:",w),(h=(S=w.response)==null?void 0:S.data)!=null&&h.message?a.error(w.response.data.message):a.error("Failed to resend code. Please try again.")}finally{n.value=!1}}};return(S,h)=>{const w=lt("router-link");return p(),v("div",Mw,[s("div",Iw,[s("div",null,[h[3]||(h[3]=ft('<div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100"><svg class="h-6 w-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"></path></svg></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900"> Verify OTP Code </h2><p class="mt-2 text-center text-sm text-gray-600"> Enter the 6-digit code sent to your email </p>',3)),f.value?(p(),v("p",Ow,E(f.value),1)):N("",!0),d.value>0?(p(),v("div",Dw,[s("span",jw,[h[1]||(h[1]=s("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1)),de(" Code expires in "+E(y(d.value)),1)])])):(p(),v("div",Lw,h[2]||(h[2]=[s("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800"},[s("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})]),de(" Code has expired ")],-1)])))]),s("form",{class:"mt-8 space-y-6",onSubmit:Ue($,["prevent"])},[s("div",Fw,[s("div",null,[s("div",Nw,[xe(s("input",{id:"otp","onUpdate:modelValue":h[0]||(h[0]=_=>u.otp=_),name:"otp",type:"text",maxlength:"6",required:"",autocomplete:"one-time-code",class:ue(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm text-center text-2xl tracking-widest",{"border-red-500":c.otp}]),placeholder:"000000",onInput:C,onKeypress:A},null,34),[[Pe,u.otp]])]),c.otp?(p(),v("p",Bw,E(c.otp),1)):N("",!0)])]),s("div",null,[s("button",{type:"submit",disabled:l.value||u.otp.length!==6,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[l.value?(p(),v("span",Vw,h[4]||(h[4]=[s("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):N("",!0),de(" "+E(l.value?"Verifying...":"Verify Code"),1)],8,Uw)]),s("div",Hw,[s("div",zw,[h[5]||(h[5]=s("span",{class:"text-gray-600"},"Didn't receive the code?",-1)),s("button",{type:"button",onClick:x,disabled:n.value||i.value>0||d.value>0,class:"font-medium text-primary-600 hover:text-primary-500 ml-1 disabled:opacity-50 disabled:cursor-not-allowed"},[n.value?(p(),v("span",Kw,"Sending...")):i.value>0?(p(),v("span",Gw,"Resend in "+E(i.value)+"s",1)):d.value>0?(p(),v("span",qw,"Wait for expiry")):(p(),v("span",Yw,"Resend Code"))],8,Ww)])]),s("div",Xw,[s("div",Jw,[h[7]||(h[7]=s("span",{class:"text-gray-600"},"Remember your password?",-1)),pe(w,{to:"/login",class:"font-medium text-primary-600 hover:text-primary-500 ml-1"},{default:ke(()=>h[6]||(h[6]=[de(" Sign in ",-1)])),_:1,__:[6]})])])],32)])])}}},Zw={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},e5={class:"max-w-md w-full space-y-8"},t5={key:0,class:"mt-1 text-center text-xs text-gray-500"},s5={class:"space-y-4"},o5={class:"mt-1"},r5={key:0,class:"mt-2 text-sm text-red-600"},n5={class:"mt-1"},a5={key:0,class:"mt-2 text-sm text-red-600"},l5=["disabled"],i5={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},d5={class:"text-center"},u5={key:0,class:"rounded-md bg-green-50 p-4"},c5={key:1,class:"rounded-md bg-red-50 p-4"},f5={__name:"ResetPassword",setup(e){const t=fs(),o=kt(),r=Ot(),a=gt(),l=j(!1),n=j(!1),i=j(!1),d=j(""),f=Ye({password:"",password_confirmation:""}),u=Ye({}),c=()=>(u.value={},f.password?f.password.length<8?(u.password="Password must be at least 8 characters",!1):f.password!==f.password_confirmation?(u.password_confirmation="Passwords do not match",!1):!0:(u.password="Password is required",!1)),m=async()=>{var g,y,k;if(c()){l.value=!0,u.value={},i.value=!1;try{await r.resetPasswordWithOTP(d.value,"",f.password,f.password_confirmation),n.value=!0,setTimeout(()=>{o.push("/login")},2e3)}catch(C){((g=C.response)==null?void 0:g.status)===422?(y=C.response.data)!=null&&y.errors&&(u.value=C.response.data.errors):((k=C.response)==null?void 0:k.status)===400?(i.value=!0,a.error("Invalid or expired verification code")):a.error("Failed to reset password. Please try again.")}finally{l.value=!1}}};return it(()=>{d.value=t.query.email||"",d.value||(i.value=!0,a.error("No email provided. Please request a new verification code."))}),(g,y)=>{const k=lt("router-link");return p(),v("div",Zw,[s("div",e5,[s("div",null,[y[2]||(y[2]=ft('<div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100"><svg class="h-6 w-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"></path></svg></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900"> Reset your password </h2><p class="mt-2 text-center text-sm text-gray-600"> Enter the verification code and your new password </p>',3)),d.value?(p(),v("p",t5," Code sent to: "+E(d.value),1)):N("",!0)]),s("form",{class:"mt-8 space-y-6",onSubmit:Ue(m,["prevent"])},[s("div",s5,[s("div",null,[y[3]||(y[3]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," New Password ",-1)),s("div",o5,[xe(s("input",{id:"password","onUpdate:modelValue":y[0]||(y[0]=C=>f.password=C),name:"password",type:"password",autocomplete:"new-password",required:"",class:ue(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",{"border-red-500":u.password}]),placeholder:"Enter your new password"},null,2),[[Pe,f.password]])]),u.password?(p(),v("p",r5,E(u.password),1)):N("",!0)]),s("div",null,[y[4]||(y[4]=s("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700"}," Confirm New Password ",-1)),s("div",n5,[xe(s("input",{id:"password_confirmation","onUpdate:modelValue":y[1]||(y[1]=C=>f.password_confirmation=C),name:"password_confirmation",type:"password",autocomplete:"new-password",required:"",class:ue(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",{"border-red-500":u.password_confirmation}]),placeholder:"Confirm your new password"},null,2),[[Pe,f.password_confirmation]])]),u.password_confirmation?(p(),v("p",a5,E(u.password_confirmation),1)):N("",!0)])]),s("div",null,[s("button",{type:"submit",disabled:l.value,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[l.value?(p(),v("span",i5,y[5]||(y[5]=[s("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):N("",!0),de(" "+E(l.value?"Resetting...":"Reset Password"),1)],8,l5)]),s("div",d5,[pe(k,{to:"/login",class:"font-medium text-primary-600 hover:text-primary-500"},{default:ke(()=>y[6]||(y[6]=[de(" Back to login ",-1)])),_:1,__:[6]})])],32),n.value?(p(),v("div",u5,y[7]||(y[7]=[ft('<div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><p class="text-sm font-medium text-green-800"> Password reset successfully! </p><p class="mt-1 text-sm text-green-700"> You can now login with your new password. </p></div></div>',1)]))):N("",!0),i.value?(p(),v("div",c5,y[8]||(y[8]=[ft('<div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><p class="text-sm font-medium text-red-800"> Invalid or expired verification code </p><p class="mt-1 text-sm text-red-700"> Please request a new verification code. </p></div></div>',1)]))):N("",!0)])])}}},p5={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},m5={class:"max-w-md w-full space-y-8"},g5={class:"mt-2 text-center text-sm text-gray-600"},v5={class:"text-primary-600"},h5={class:"mt-8 space-y-6"},y5={class:"text-center"},x5=["disabled"],b5={key:0},w5={key:1},_5={key:2},C5={class:"text-center"},k5={__name:"EmailVerification",setup(e){const t=fs(),o=kt();Ot();const r=gt(),a=j(""),l=j(!1),n=j(0);let i=null;it(()=>{a.value=t.query.email||"",a.value||(r.error("Email address is required"),o.push("/register"))}),no(()=>{i&&clearInterval(i)});const d=async()=>{if(!(n.value>0)){l.value=!0;try{r.success("Verification email sent!"),n.value=60,i=setInterval(()=>{n.value--,n.value<=0&&(clearInterval(i),i=null)},1e3)}catch(f){console.error("Resend verification error:",f),r.error("Failed to resend verification email. Please try again.")}finally{l.value=!1}}};return(f,u)=>{const c=lt("router-link");return p(),v("div",p5,[s("div",m5,[s("div",null,[u[2]||(u[2]=s("div",{class:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100"},[s("svg",{class:"h-6 w-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),u[3]||(u[3]=s("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Check your email ",-1)),s("p",g5,[u[0]||(u[0]=de(" We have sent a verification mail to ",-1)),s("strong",v5,E(a.value),1),u[1]||(u[1]=de(". Click the link in that mail to verify your email address on E-Learning Platform. ",-1))]),u[4]||(u[4]=s("p",{class:"mt-4 text-center text-sm text-gray-500"}," Do you not see the email? Check your spam folder. ",-1))]),s("div",h5,[s("div",y5,[s("button",{onClick:d,disabled:l.value||n.value>0,class:"font-medium text-primary-600 hover:text-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[l.value?(p(),v("span",b5,"Sending...")):n.value>0?(p(),v("span",w5,"Resend in "+E(n.value)+"s",1)):(p(),v("span",_5,"Resend verification email"))],8,x5)]),s("div",C5,[pe(c,{to:"/login",class:"font-medium text-primary-600 hover:text-primary-500"},{default:ke(()=>u[5]||(u[5]=[de(" Go to login ",-1)])),_:1,__:[5]})])])])])}}},$5={class:"min-h-screen bg-gray-50 py-8"},S5={class:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8"},E5={class:"bg-white rounded-lg shadow-sm mb-6"},A5={class:"p-6"},T5={class:"flex items-center space-x-3"},P5={class:"bg-white rounded-lg shadow-sm"},R5={class:"p-4 space-y-3"},M5={class:"text-xs text-gray-600"},I5={class:"text-xs text-gray-600"},O5={class:"text-xs text-gray-600"},D5={class:"text-xs text-gray-600"},j5={class:"text-xs text-gray-600"},L5={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},F5={class:"bg-white rounded-lg shadow-xl max-w-md w-full overflow-hidden"},N5={class:"p-5 space-y-4"},B5={class:"w-full px-3 py-2 border border-gray-200 rounded-md bg-gray-50 text-gray-700"},U5={key:0,class:"mt-1 text-xs text-gray-500"},V5={key:1,class:"mt-2 text-xs text-gray-700 bg-gray-50 border border-gray-200 rounded p-2"},H5={key:2,class:"mt-1 text-xs text-red-600"},z5={class:"flex items-center justify-between text-sm text-gray-600"},W5={class:"font-medium"},K5={class:"px-5 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3"},G5=["disabled"],q5={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2 inline-block"},Y5={__name:"PaymentForm",setup(e){const t=fs(),o=kt(),r=ao(),a=Ot(),l=gt(),n=j(null),i=j(!1);j("clickpesa");const d=j(0),f=j("TZS"),u=j(!1),c=j("VODACOM"),m=j(""),g=j(null),y=j(!1),k=j("");j(!1),Ye({}),Ye({number:"",expiry:"",cvv:"",name:""});const C=Ye({first_name:"",last_name:"",address:"",city:"",postal_code:"",country:""}),A=Ne(()=>{var w;return Number(((w=n.value)==null?void 0:w.price)??0)});Ne(()=>(A.value*.08).toFixed(2)),Ne(()=>(A.value*.029+.3).toFixed(2)),Ne(()=>d.value.toFixed(2)),it(async()=>{var w,_;try{const b=await r.fetchCourseBySlug(t.params.slug);n.value=b,d.value=Number((b==null?void 0:b.price)??0),f.value=((b==null?void 0:b.currency)||"TZS").toUpperCase();const P=a.user;P&&(C.first_name=((w=P.name)==null?void 0:w.split(" ")[0])||"",C.last_name=((_=P.name)==null?void 0:_.split(" ").slice(1).join(" "))||"")}catch(b){console.error("Error loading course:",b),l.error("Failed to load course information")}});const T=w=>{c.value=w,u.value=!0,g.value=null,k.value=""},$=()=>{u.value=!1},x=async()=>{var w,_,b,P,R,M,D,J;i.value=!0;try{const{clickpesaAPI:G}=await Nt(()=>import("./clickpesa-e9aabedc.js"),[]),B=G.testCredentials();if(console.log("Credentials Test Result:",B),!B.hasCredentials){l.error("ClickPesa credentials not configured properly"),i.value=!1;return}const X=`ORD-${(w=n.value)==null?void 0:w.id}-${Date.now()}`,te="TZS",se=String(m.value||"").replace(/\D/g,""),Se=c.value==="TIGO"?"TIGO-PESA":c.value==="AIRTEL"?"AIRTEL-MONEY":"M-PESA";await G.previewUssdPush({amount:String(d.value),currency:te,orderReference:X,phoneNumber:se,fetchSenderDetails:!1});const Ve=await G.initiateUssdPush({amount:String(d.value),currency:te,orderReference:X,phoneNumber:se,paymentMethod:Se}),$e=((_=Ve.data)==null?void 0:_.id)||((b=Ve.data)==null?void 0:b.paymentId)||((P=Ve.data)==null?void 0:P.payment_id);l.info("Payment request sent. Approve on your phone..."),u.value=!1;const{clickpesaAPI:ze}=await Nt(()=>import("./clickpesa-e9aabedc.js"),[]),ge=Date.now(),q=setInterval(async()=>{var we;try{const be=(((we=(await ze.getPaymentStatus($e)).data)==null?void 0:we.status)||"").toUpperCase();["SUCCESS","COMPLETED"].includes(be)?(clearInterval(q),i.value=!1,l.success("Payment successful!"),o.push(`/courses/${n.value.slug}`)):["FAILED","CANCELED"].includes(be)?(clearInterval(q),i.value=!1,l.error("Payment failed or canceled")):Date.now()-ge>18e4&&(clearInterval(q),i.value=!1,l.error("Payment timeout. Please try again."))}catch{clearInterval(q),i.value=!1,l.error("Could not verify payment")}},5e3)}catch(G){i.value=!1;const B=((M=(R=G.response)==null?void 0:R.data)==null?void 0:M.message)||((J=(D=G.response)==null?void 0:D.data)==null?void 0:J.error)||G.message||"Failed to initiate payment";l.error(B)}},S=async()=>{var w,_,b;i.value=!0;try{window.FlutterwaveCheckout||await new Promise((D,J)=>{const G=document.createElement("script");G.src="https://checkout.flutterwave.com/v3.js",G.onload=D,G.onerror=J,document.body.appendChild(G)});const P=`TX-${Date.now()}-${Math.floor(Math.random()*1e3)}`,R=parseFloat(d.value),M=({}.VITE_FLW_PUBLIC_KEY||"").trim();if(!M){l.error("Missing Flutterwave Public Key"),i.value=!1;return}window.FlutterwaveCheckout({public_key:M,tx_ref:P,amount:R,currency:f.value,customer:{email:((w=a.user)==null?void 0:w.email)||"",name:((_=a.user)==null?void 0:_.name)||""},customizations:{title:((b=n.value)==null?void 0:b.title)||"Course Payment"},callback:async()=>{i.value=!1,l.success("Card payment successful!"),o.push(`/courses/${n.value.slug}`)},onclose:()=>{i.value=!1}})}catch{i.value=!1,l.error("Failed to start card payment")}},h=async()=>{const w=`
Bank Transfer Instructions

Account Name: E-Learning Ltd
Account No: 000123456789
Bank: NMB (TZ)
Reference: COURSE-${t.params.slug}-${Date.now()}
Amount: ${d.value} ${f.value}
`;await navigator.clipboard.writeText(w).catch(()=>{}),l.info("Bank transfer instructions copied. After paying, contact support with receipt.")};return(w,_)=>(p(),v("div",$5,[s("div",S5,[_[15]||(_[15]=s("h1",{class:"text-3xl font-bold text-gray-900 mb-6"},"Complete Payment",-1)),s("div",E5,[_[8]||(_[8]=s("div",{class:"px-6 py-4 border-b border-gray-200 flex items-center space-x-2"},[s("span",{class:"w-6 h-6 rounded-full bg-yellow-100 text-yellow-800 flex items-center justify-center text-sm font-semibold"},"1"),s("h2",{class:"text-lg font-medium text-gray-900"},"Amount To Pay")],-1)),s("div",A5,[_[7]||(_[7]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Amount",-1)),s("div",T5,[xe(s("input",{"onUpdate:modelValue":_[0]||(_[0]=b=>d.value=b),type:"number",min:"1",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[Pe,d.value,void 0,{number:!0}]]),xe(s("select",{"onUpdate:modelValue":_[1]||(_[1]=b=>f.value=b),class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},_[6]||(_[6]=[s("option",{value:"TZS"},"TZS",-1),s("option",{value:"USD"},"USD",-1)]),512),[[_t,f.value]])])])]),s("div",P5,[_[14]||(_[14]=s("div",{class:"px-6 py-4 border-b border-gray-200 flex items-center space-x-2"},[s("span",{class:"w-6 h-6 rounded-full bg-yellow-100 text-yellow-800 flex items-center justify-center text-sm font-semibold"},"2"),s("h2",{class:"text-lg font-medium text-gray-900"},"Select Payment Method")],-1)),s("div",R5,[s("button",{onClick:_[2]||(_[2]=b=>T("AIRTEL")),class:"w-full p-4 bg-white border rounded-lg flex items-center justify-between hover:border-primary-400"},[_[9]||(_[9]=ft('<div class="flex items-center space-x-3"><svg class="w-8 h-8 text-red-500" viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="10"></circle></svg><div class="text-left"><div class="font-medium text-gray-900">AirtelMoney</div><div class="text-xs text-gray-500">Pay with Mobile via Airtel Money</div></div></div>',1)),s("div",M5,E(f.value),1)]),s("button",{onClick:_[3]||(_[3]=b=>T("TIGO")),class:"w-full p-4 bg-white border rounded-lg flex items-center justify-between hover:border-primary-400"},[_[10]||(_[10]=ft('<div class="flex items-center space-x-3"><svg class="w-8 h-8 text-blue-500" viewBox="0 0 24 24" fill="currentColor"><rect x="4" y="4" width="16" height="16" rx="4"></rect></svg><div class="text-left"><div class="font-medium text-gray-900">TigoPesa</div><div class="text-xs text-gray-500">Pay with Mobile via TIGOPESA</div></div></div>',1)),s("div",I5,E(f.value),1)]),s("button",{onClick:_[4]||(_[4]=b=>T("VODACOM")),class:"w-full p-4 bg-white border rounded-lg flex items-center justify-between hover:border-primary-400"},[_[11]||(_[11]=ft('<div class="flex items-center space-x-3"><svg class="w-8 h-8 text-red-600" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2a10 10 0 100 20 10 10 0 000-20z"></path></svg><div class="text-left"><div class="font-medium text-gray-900">Vodacom Mpesa</div><div class="text-xs text-gray-500">Pay with Mobile via M-PESA</div></div></div>',1)),s("div",O5,E(f.value),1)]),s("button",{onClick:S,class:"w-full p-4 bg-white border rounded-lg flex items-center justify-between hover:border-primary-400"},[_[12]||(_[12]=ft('<div class="flex items-center space-x-3"><div class="flex -space-x-1"><svg class="w-8 h-8 text-blue-700" viewBox="0 0 24 24" fill="currentColor"><rect x="3" y="6" width="18" height="12" rx="2"></rect></svg><svg class="w-8 h-8 text-yellow-500" viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="8"></circle></svg></div><div class="text-left"><div class="font-medium text-gray-900">Visa / Mastercard</div><div class="text-xs text-gray-500">Pay with VISA, MasterCard, or UnionPay</div></div></div>',1)),s("div",D5,E(f.value),1)]),s("button",{class:"w-full p-4 bg-white border rounded-lg flex items-center justify-between hover:border-primary-400",onClick:h},[_[13]||(_[13]=ft('<div class="flex items-center space-x-3"><svg class="w-8 h-8 text-yellow-600" viewBox="0 0 24 24" fill="currentColor"><path d="M12 3l9 6H3l9-6zM4 10h16v9H4z"></path></svg><div class="text-left"><div class="font-medium text-gray-900">Bank Transfer</div><div class="text-xs text-gray-500">Deposit cash via Bank/Agent or Online Transfer</div></div></div>',1)),s("div",j5,E(f.value),1)])])])]),u.value?(p(),v("div",L5,[s("div",F5,[s("div",{class:"px-5 py-4 border-b border-gray-200 flex items-center justify-between"},[_[17]||(_[17]=s("h3",{class:"text-lg font-semibold text-gray-900"},"Mobile Money Payment",-1)),s("button",{onClick:$,class:"text-gray-400 hover:text-gray-600"},_[16]||(_[16]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("div",N5,[s("div",null,[_[18]||(_[18]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Provider",-1)),s("div",B5,E(c.value==="VODACOM"?"Vodacom (M-PESA)":c.value==="AIRTEL"?"AirtelMoney":"TigoPesa"),1)]),s("div",null,[_[22]||(_[22]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Mobile Number (MSISDN)",-1)),xe(s("input",{"onUpdate:modelValue":_[5]||(_[5]=b=>m.value=b),type:"tel",placeholder:"2557XXXXXXXX",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[Pe,m.value]]),y.value?(p(),v("p",U5,"Verifying number")):g.value?(p(),v("div",V5,[s("div",null,[_[19]||(_[19]=s("span",{class:"font-medium"},"Name:",-1)),de(" "+E(g.value.accountName),1)]),s("div",null,[_[20]||(_[20]=s("span",{class:"font-medium"},"Account:",-1)),de(" "+E(g.value.accountNumber),1)]),s("div",null,[_[21]||(_[21]=s("span",{class:"font-medium"},"Provider:",-1)),de(" "+E(g.value.accountProvider),1)])])):k.value?(p(),v("p",H5,E(k.value),1)):N("",!0)]),s("div",z5,[_[23]||(_[23]=s("span",null,"Amount",-1)),s("span",W5,E(d.value)+" "+E(f.value),1)])]),s("div",K5,[s("button",{onClick:$,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"},"Cancel"),s("button",{onClick:x,disabled:i.value||!m.value,class:"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 disabled:opacity-50"},[i.value?(p(),v("span",q5)):N("",!0),de(" Pay "+E(d.value)+" "+E(f.value),1)],8,G5)])])])):N("",!0)]))}},X5={class:"min-h-screen bg-gray-50 py-8"},J5={class:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8"},Q5={class:"bg-white rounded-lg shadow-sm p-6 mb-6"},Z5={key:0,class:"flex justify-center py-8"},e3={key:1,class:"space-y-4"},t3={class:"grid grid-cols-2 gap-4"},s3={class:"text-sm text-gray-900"},o3={class:"text-sm text-gray-900"},r3={class:"text-sm text-gray-900"},n3={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},a3={class:"border-t border-gray-200 pt-4"},l3={class:"flex items-center space-x-4"},i3={class:"w-16 h-12 bg-gray-200 rounded-lg flex items-center justify-center"},d3=["src","alt"],u3={key:1,class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c3={class:"flex-1"},f3={class:"font-medium text-gray-900"},p3={class:"text-sm text-gray-500"},m3={class:"text-sm text-gray-500"},g3={class:"text-right"},v3={class:"font-medium text-gray-900"},h3={class:"border-t border-gray-200 pt-4"},y3={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},x3={class:"text-sm text-gray-900"},b3={class:"text-sm text-gray-900"},w3={key:0,class:"md:col-span-2"},_3={class:"text-sm text-gray-900"},C3={class:"border-t border-gray-200 pt-4"},k3={class:"space-y-2"},$3={class:"flex justify-between"},S3={class:"text-sm text-gray-900"},E3={key:0,class:"flex justify-between"},A3={class:"text-sm text-green-600"},T3={class:"flex justify-between border-t border-gray-200 pt-2"},P3={class:"font-medium text-gray-900"},R3={key:2,class:"text-center py-8"},M3={class:"flex flex-col sm:flex-row gap-4"},I3={__name:"PaymentSuccess",setup(e){const t=fs(),o=gt(),r=j(!1),a=j(null),l=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),n=async()=>{r.value=!0;try{const i=t.params.orderId||t.query.order_id;if(!i){o.error("Order ID not found");return}const d=await vm.getOrderDetails(i);a.value=d.data}catch(i){console.error("Error fetching order details:",i),o.error("Failed to load order details")}finally{r.value=!1}};return it(()=>{n()}),(i,d)=>{var u,c,m,g,y,k,C,A;const f=lt("router-link");return p(),v("div",X5,[s("div",J5,[d[19]||(d[19]=ft('<div class="text-center mb-8"><div class="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4"><svg class="h-8 w-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><h1 class="text-3xl font-bold text-gray-900 mb-2">Payment Successful!</h1><p class="text-lg text-gray-600">Thank you for your purchase. Your order has been confirmed.</p></div>',1)),s("div",Q5,[d[16]||(d[16]=s("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Order Details",-1)),r.value?(p(),v("div",Z5,d[0]||(d[0]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):a.value?(p(),v("div",e3,[s("div",t3,[s("div",null,[d[1]||(d[1]=s("p",{class:"text-sm font-medium text-gray-500"},"Order ID",-1)),s("p",s3,E(a.value.id),1)]),s("div",null,[d[2]||(d[2]=s("p",{class:"text-sm font-medium text-gray-500"},"Date",-1)),s("p",o3,E(l(a.value.created_at)),1)]),s("div",null,[d[3]||(d[3]=s("p",{class:"text-sm font-medium text-gray-500"},"Payment Method",-1)),s("p",r3,E(a.value.payment_method),1)]),s("div",null,[d[4]||(d[4]=s("p",{class:"text-sm font-medium text-gray-500"},"Status",-1)),s("span",n3,E(a.value.status),1)])]),s("div",a3,[d[6]||(d[6]=s("h3",{class:"text-lg font-medium text-gray-900 mb-3"},"Course Details",-1)),s("div",l3,[s("div",i3,[(u=a.value.course)!=null&&u.image?(p(),v("img",{key:0,src:a.value.course.image,alt:a.value.course.title,class:"w-full h-full object-cover rounded-lg"},null,8,d3)):(p(),v("svg",u3,d[5]||(d[5]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},null,-1)])))]),s("div",c3,[s("h4",f3,E((c=a.value.course)==null?void 0:c.title),1),s("p",p3,E((g=(m=a.value.course)==null?void 0:m.instructor)==null?void 0:g.name),1),s("p",m3,E((y=a.value.course)==null?void 0:y.total_duration)+" hours",1)]),s("div",g3,[s("p",v3,"$"+E(a.value.amount),1)])])]),s("div",h3,[d[10]||(d[10]=s("h3",{class:"text-lg font-medium text-gray-900 mb-3"},"Billing Details",-1)),s("div",y3,[s("div",null,[d[7]||(d[7]=s("p",{class:"text-sm font-medium text-gray-500"},"Name",-1)),s("p",x3,E(a.value.billing_name),1)]),s("div",null,[d[8]||(d[8]=s("p",{class:"text-sm font-medium text-gray-500"},"Email",-1)),s("p",b3,E(a.value.billing_email),1)]),a.value.billing_address?(p(),v("div",w3,[d[9]||(d[9]=s("p",{class:"text-sm font-medium text-gray-500"},"Address",-1)),s("p",_3,E(a.value.billing_address),1)])):N("",!0)])]),s("div",C3,[d[14]||(d[14]=s("h3",{class:"text-lg font-medium text-gray-900 mb-3"},"Payment Summary",-1)),s("div",k3,[s("div",$3,[d[11]||(d[11]=s("span",{class:"text-sm text-gray-600"},"Course Price",-1)),s("span",S3,"$"+E(((k=a.value.course)==null?void 0:k.price)||0),1)]),a.value.discount_amount>0?(p(),v("div",E3,[d[12]||(d[12]=s("span",{class:"text-sm text-gray-600"},"Discount",-1)),s("span",A3,"-$"+E(a.value.discount_amount),1)])):N("",!0),s("div",T3,[d[13]||(d[13]=s("span",{class:"font-medium text-gray-900"},"Total Paid",-1)),s("span",P3,"$"+E(a.value.amount),1)])])])])):(p(),v("div",R3,d[15]||(d[15]=[s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Order not found",-1),s("p",{class:"mt-1 text-sm text-gray-500"},"Unable to load order details.",-1)])))]),d[20]||(d[20]=ft('<div class="bg-white rounded-lg shadow-sm p-6 mb-6"><h2 class="text-xl font-semibold text-gray-900 mb-4">What&#39;s Next?</h2><div class="space-y-4"><div class="flex items-start space-x-3"><div class="flex-shrink-0 w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center"><span class="text-primary-600 text-sm font-medium">1</span></div><div><h3 class="font-medium text-gray-900">Access Your Course</h3><p class="text-sm text-gray-600">You can now access your course from your dashboard.</p></div></div><div class="flex items-start space-x-3"><div class="flex-shrink-0 w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center"><span class="text-primary-600 text-sm font-medium">2</span></div><div><h3 class="font-medium text-gray-900">Start Learning</h3><p class="text-sm text-gray-600">Begin your learning journey with the course content.</p></div></div><div class="flex items-start space-x-3"><div class="flex-shrink-0 w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center"><span class="text-primary-600 text-sm font-medium">3</span></div><div><h3 class="font-medium text-gray-900">Track Progress</h3><p class="text-sm text-gray-600">Monitor your progress and complete lessons at your own pace.</p></div></div></div></div>',1)),s("div",M3,[pe(f,{to:`/courses/${(A=(C=a.value)==null?void 0:C.course)==null?void 0:A.slug}`,class:"flex-1 btn btn-primary"},{default:ke(()=>d[17]||(d[17]=[s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1),de(" Start Learning ",-1)])),_:1,__:[17]},8,["to"]),pe(f,{to:"/my-courses",class:"flex-1 btn btn-secondary"},{default:ke(()=>d[18]||(d[18]=[s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),de(" My Courses ",-1)])),_:1,__:[18]})]),d[21]||(d[21]=s("div",{class:"mt-8 text-center"},[s("p",{class:"text-sm text-gray-500"}," A confirmation email has been sent to your email address. "),s("p",{class:"text-sm text-gray-500 mt-1"}," If you have any questions, please contact our support team. ")],-1))])])}}},O3={class:"min-h-screen bg-gray-50 py-8"},D3={class:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8"},j3={class:"bg-white rounded-lg shadow-sm p-6 mb-6"},L3={key:0,class:"flex justify-center py-8"},F3={key:1,class:"space-y-4"},N3={class:"grid grid-cols-2 gap-4"},B3={class:"text-sm text-gray-900"},U3={class:"text-sm text-gray-900"},V3={class:"text-sm text-gray-900"},H3={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},z3={class:"border-t border-gray-200 pt-4"},W3={class:"flex items-center space-x-4"},K3={class:"w-16 h-12 bg-gray-200 rounded-lg flex items-center justify-center"},G3=["src","alt"],q3={key:1,class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Y3={class:"flex-1"},X3={class:"font-medium text-gray-900"},J3={class:"text-sm text-gray-500"},Q3={class:"text-sm text-gray-500"},Z3={class:"text-right"},e6={class:"font-medium text-gray-900"},t6={key:0,class:"border-t border-gray-200 pt-4"},s6={class:"bg-red-50 border border-red-200 rounded-md p-4"},o6={class:"text-sm text-red-800"},r6={key:2,class:"text-center py-8"},n6={class:"flex flex-col sm:flex-row gap-4 mb-6"},a6=["disabled"],l6={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},i6={key:1,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},d6={__name:"PaymentFailed",setup(e){const t=fs(),o=kt(),r=gt(),a=j(!1),l=j(!1),n=j(null),i=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),d=async()=>{a.value=!0;try{const u=t.params.paymentId||t.query.payment_id;if(!u){r.error("Payment ID not found");return}const c=await vm.getPaymentDetails(u);n.value=c.data}catch(u){console.error("Error fetching payment details:",u),r.error("Failed to load payment details")}finally{a.value=!1}},f=async()=>{var u;if(!n.value){r.error("No payment details available");return}l.value=!0;try{o.push({path:`/payment/${(u=n.value.course)==null?void 0:u.slug}`,query:{retry:"true",payment_id:n.value.id}})}catch(c){console.error("Error retrying payment:",c),r.error("Failed to retry payment")}finally{l.value=!1}};return it(()=>{d()}),(u,c)=>{var g,y,k,C,A,T,$;const m=lt("router-link");return p(),v("div",O3,[s("div",D3,[c[12]||(c[12]=ft('<div class="text-center mb-8"><div class="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4"><svg class="h-8 w-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></div><h1 class="text-3xl font-bold text-gray-900 mb-2">Payment Failed</h1><p class="text-lg text-gray-600">We couldn&#39;t process your payment. Please try again or contact support.</p></div>',1)),s("div",j3,[c[9]||(c[9]=s("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Payment Details",-1)),a.value?(p(),v("div",L3,c[0]||(c[0]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):n.value?(p(),v("div",F3,[s("div",N3,[s("div",null,[c[1]||(c[1]=s("p",{class:"text-sm font-medium text-gray-500"},"Payment ID",-1)),s("p",B3,E(n.value.id),1)]),s("div",null,[c[2]||(c[2]=s("p",{class:"text-sm font-medium text-gray-500"},"Date",-1)),s("p",U3,E(i(n.value.created_at)),1)]),s("div",null,[c[3]||(c[3]=s("p",{class:"text-sm font-medium text-gray-500"},"Payment Method",-1)),s("p",V3,E(n.value.payment_method),1)]),s("div",null,[c[4]||(c[4]=s("p",{class:"text-sm font-medium text-gray-500"},"Status",-1)),s("span",H3,E(n.value.status),1)])]),s("div",z3,[c[6]||(c[6]=s("h3",{class:"text-lg font-medium text-gray-900 mb-3"},"Course Details",-1)),s("div",W3,[s("div",K3,[(g=n.value.course)!=null&&g.image?(p(),v("img",{key:0,src:n.value.course.image,alt:n.value.course.title,class:"w-full h-full object-cover rounded-lg"},null,8,G3)):(p(),v("svg",q3,c[5]||(c[5]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},null,-1)])))]),s("div",Y3,[s("h4",X3,E((y=n.value.course)==null?void 0:y.title),1),s("p",J3,E((C=(k=n.value.course)==null?void 0:k.instructor)==null?void 0:C.name),1),s("p",Q3,E((A=n.value.course)==null?void 0:A.total_duration)+" hours",1)]),s("div",Z3,[s("p",e6,"$"+E(n.value.amount),1)])])]),n.value.error_message?(p(),v("div",t6,[c[7]||(c[7]=s("h3",{class:"text-lg font-medium text-gray-900 mb-3"},"Error Details",-1)),s("div",s6,[s("p",o6,E(n.value.error_message),1)])])):N("",!0)])):(p(),v("div",r6,c[8]||(c[8]=[s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Payment not found",-1),s("p",{class:"mt-1 text-sm text-gray-500"},"Unable to load payment details.",-1)])))]),c[13]||(c[13]=ft('<div class="bg-white rounded-lg shadow-sm p-6 mb-6"><h2 class="text-xl font-semibold text-gray-900 mb-4">Common Issues</h2><div class="space-y-4"><div class="flex items-start space-x-3"><div class="flex-shrink-0 w-6 h-6 bg-red-100 rounded-full flex items-center justify-center"><svg class="w-4 h-4 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div><h3 class="font-medium text-gray-900">Insufficient Funds</h3><p class="text-sm text-gray-600">Make sure your account has sufficient funds to complete the transaction.</p></div></div><div class="flex items-start space-x-3"><div class="flex-shrink-0 w-6 h-6 bg-red-100 rounded-full flex items-center justify-center"><svg class="w-4 h-4 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div><h3 class="font-medium text-gray-900">Card Declined</h3><p class="text-sm text-gray-600">Your bank may have declined the transaction. Contact your bank for more information.</p></div></div><div class="flex items-start space-x-3"><div class="flex-shrink-0 w-6 h-6 bg-red-100 rounded-full flex items-center justify-center"><svg class="w-4 h-4 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div><h3 class="font-medium text-gray-900">Invalid Card Details</h3><p class="text-sm text-gray-600">Double-check your card number, expiry date, and CVV code.</p></div></div><div class="flex items-start space-x-3"><div class="flex-shrink-0 w-6 h-6 bg-red-100 rounded-full flex items-center justify-center"><svg class="w-4 h-4 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div><h3 class="font-medium text-gray-900">Network Issues</h3><p class="text-sm text-gray-600">Temporary network issues may have caused the failure. Try again in a few minutes.</p></div></div></div></div>',1)),s("div",n6,[s("button",{onClick:f,disabled:l.value,class:"flex-1 btn btn-primary"},[l.value?(p(),v("span",l6)):(p(),v("svg",i6,c[10]||(c[10]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))),de(" "+E(l.value?"Processing...":"Try Again"),1)],8,a6),pe(m,{to:`/payment/${($=(T=n.value)==null?void 0:T.course)==null?void 0:$.slug}`,class:"flex-1 btn btn-secondary"},{default:ke(()=>c[11]||(c[11]=[s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})],-1),de(" Use Different Method ",-1)])),_:1,__:[11]},8,["to"])]),c[14]||(c[14]=ft('<div class="bg-blue-50 rounded-lg p-6"><div class="flex items-start space-x-3"><div class="flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center"><svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div><h3 class="font-medium text-blue-900">Need Help?</h3><p class="text-sm text-blue-700 mt-1"> If you continue to experience issues, please contact our support team. We&#39;re here to help you complete your purchase. </p><div class="mt-3 flex flex-col sm:flex-row gap-2"><a href="mailto:support@elearning.com" class="inline-flex items-center text-sm text-blue-600 hover:text-blue-800"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg> support@elearning.com </a><a href="tel:+1234567890" class="inline-flex items-center text-sm text-blue-600 hover:text-blue-800"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg> +1 (234) 567-890 </a></div></div></div></div>',1))])])}}};const u6={class:"min-h-screen bg-gray-50 py-4 sm:py-8"},c6={class:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8"},f6={class:"flex flex-col lg:flex-row gap-4 sm:gap-8"},p6={class:"hidden lg:block w-full lg:w-64 flex-shrink-0"},m6={class:"sticky top-4 bg-white rounded-lg shadow-sm p-4 sm:p-6"},g6={class:"grid grid-cols-1 gap-2 sm:gap-3"},v6=["onClick"],h6={class:"flex items-center space-x-2 sm:space-x-3"},y6={class:"min-w-0 flex-1"},x6={class:"font-medium text-gray-900 text-sm sm:text-base truncate"},b6={class:"text-xs sm:text-sm text-gray-500 whitespace-nowrap"},w6={class:"flex-1 min-w-0"},_6={class:"mb-4 sm:mb-8"},C6={class:"flex flex-col sm:flex-row sm:items-start justify-between gap-4"},k6={class:"flex flex-row gap-2 sm:gap-3 items-center"},$6={class:"mb-4 sm:mb-6"},S6={class:"border-b border-gray-200"},E6={class:"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto"},A6={class:"bg-white rounded-lg shadow-sm mb-4 sm:mb-6"},T6={class:"p-4 sm:p-6"},P6={class:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4"},R6={class:"col-span-2 lg:col-span-2"},M6={class:"relative"},I6={class:"col-span-1 lg:col-span-1"},O6=["value"],D6={class:"col-span-1 lg:col-span-1"},j6={key:0,class:"flex justify-center py-12"},L6={key:1,class:"space-y-3 sm:space-y-4"},F6={class:"p-4 sm:p-6"},N6={class:"flex items-start space-x-3 sm:space-x-4"},B6={class:"flex-shrink-0"},U6={class:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-primary-100 flex items-center justify-center overflow-hidden"},V6=["src","alt"],H6={key:1,class:"text-primary-600 font-medium text-xs sm:text-sm"},z6={class:"flex-1 min-w-0"},W6={class:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2 mb-2"},K6={class:"flex flex-wrap gap-1 sm:gap-2"},G6={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 whitespace-nowrap"},q6={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 whitespace-nowrap"},Y6={class:"text-xs sm:text-sm text-gray-600 mb-3 line-clamp-2"},X6={key:0,class:"mb-3 p-2 sm:p-3 bg-blue-50 rounded-lg border border-blue-200"},J6={class:"flex items-center space-x-2 mb-2"},Q6={class:"text-xs sm:text-sm font-medium text-blue-800"},Z6={class:"space-y-2"},e_=["onClick"],t_={class:"flex items-center space-x-2 flex-1"},s_=["type","name","value","checked","disabled","onClick"],o_={class:"text-sm text-blue-800 flex-1"},r_={key:0,class:"flex items-center"},n_={class:"flex items-center space-x-2 ml-3"},a_={class:"text-xs text-blue-600 font-medium"},l_={class:"w-16 h-2 bg-blue-200 rounded-full overflow-hidden"},i_={key:1,class:"mb-3 p-2 sm:p-3 bg-gray-50 rounded-lg border border-gray-200"},d_={class:"flex items-center space-x-2 mb-3"},u_={class:"text-xs sm:text-sm font-medium text-gray-800"},c_={key:0,class:"mb-3"},f_={class:"flex flex-wrap gap-1 max-w-md sm:max-w-lg"},p_=["onClick"],m_=["src","alt"],g_=["onClick"],v_=["src","alt"],h_={class:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center"},y_={class:"text-white text-center"},x_={class:"text-sm font-bold"},b_={key:1,class:"mb-3"},w_={class:"flex flex-wrap gap-1 max-w-md sm:max-w-lg"},__=["onClick"],C_=["src","alt"],k_=["onClick"],$_=["src","alt"],S_={class:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center"},E_={class:"text-white text-center"},A_={class:"text-sm font-bold"},T_={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3"},P_=["onClick"],R_=["src"],M_={class:"absolute bottom-2 left-2 bg-black bg-opacity-70 text-white text-sm px-3 py-1 rounded"},I_={key:3,class:"space-y-2"},O_={class:"flex-1 min-w-0"},D_={class:"text-sm font-medium text-gray-900 truncate"},j_={class:"text-xs text-gray-500"},L_=["onClick"],F_={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 text-xs sm:text-sm text-gray-500"},N_={class:"flex flex-wrap items-center gap-2 sm:gap-4"},B_={class:"hidden sm:inline"},U_={class:"sm:hidden"},V_=["onClick"],H_={class:"flex items-center space-x-1"},z_={class:"flex items-center space-x-1"},W_=["onClick"],K_=["fill"],G_={class:"flex flex-wrap items-center gap-2"},q_=["onClick"],Y_=["onClick"],X_={key:0,class:"flex justify-center mt-8"},J_={class:"flex items-center space-x-2"},Q_=["disabled"],Z_=["onClick"],e8=["disabled"],t8={key:2,class:"text-center py-12"},s8={class:"mt-1 text-sm text-gray-500"},o8={class:"mt-6"},r8={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},n8={class:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"},a8={class:"flex items-center justify-between mb-6"},l8={key:0,class:"mt-1 text-sm text-red-600"},i8=["value"],d8={key:0,class:"mt-1 text-sm text-red-600"},u8={key:0,class:"mt-1 text-sm text-red-600"},c8={class:"flex justify-end space-x-3 pt-4"},f8=["disabled"],p8={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},m8={class:"mt-3"},g8={class:"flex items-center justify-between mb-4"},v8={class:"text-lg font-medium text-gray-900"},h8={class:"mb-6 p-4 bg-gray-50 rounded-lg border"},y8={class:"flex items-start space-x-3"},x8={class:"flex-shrink-0"},b8={class:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center overflow-hidden"},w8=["src","alt"],_8={key:1,class:"text-sm font-medium text-primary-600"},C8={class:"flex-1 min-w-0"},k8={class:"flex items-center space-x-2 mb-1"},$8={class:"text-sm font-medium text-gray-900"},S8={class:"text-xs text-gray-500"},E8={class:"text-sm text-gray-700"},A8={class:"flex items-center space-x-1 mt-2"},T8={class:"text-xs text-gray-500"},P8={class:"mb-6 max-h-96 overflow-y-auto"},R8={key:0,class:"text-center py-4"},M8={key:1,class:"text-center py-8 text-gray-500"},I8={key:2,class:"space-y-4"},O8={class:"flex items-start space-x-3"},D8={class:"flex-shrink-0"},j8={class:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center overflow-hidden"},L8=["src","alt"],F8={key:1,class:"text-sm font-medium text-primary-600"},N8={class:"flex-1 min-w-0"},B8={class:"flex items-center space-x-2 mb-1"},U8={class:"text-sm font-medium text-gray-900"},V8={class:"text-xs text-gray-500"},H8={class:"text-sm text-gray-700 mb-2"},z8={class:"flex items-center space-x-4"},W8=["onClick"],K8=["onClick","disabled","title"],G8={key:0,class:"mt-4 p-4 bg-yellow-100 border-2 border-red-500 rounded-lg shadow-xl relative z-50",style:{"background-color":"#fef3c7 !important",border:"3px solid #ef4444 !important","min-height":"200px"}},q8={class:"text-xs text-gray-500 mb-2"},Y8={class:"text-sm font-medium text-gray-900 mb-2"},X8={key:0,class:"mt-1 text-xs text-red-600"},J8={class:"flex justify-end space-x-2 mt-2"},Q8=["disabled"],Z8={key:0,class:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-1 inline-block"},eC={key:1,class:"mt-2"},tC=["onClick"],sC={key:2,class:"mt-2 ml-4 space-y-2"},oC={class:"p-3 bg-blue-50 border border-blue-200 rounded-lg ml-2"},rC={class:"flex items-start space-x-3"},nC={class:"flex-shrink-0"},aC={class:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center overflow-hidden"},lC=["src","alt"],iC={key:1,class:"text-xs font-medium text-blue-600"},dC={class:"flex-1 min-w-0"},uC={class:"flex items-center space-x-2 mb-1"},cC={class:"text-xs font-medium text-blue-900"},fC={class:"text-xs text-blue-600"},pC={class:"text-xs text-blue-800 mb-2"},mC={class:"flex items-center space-x-3"},gC=["onClick"],vC=["onClick","disabled","title"],hC=["onClick"],yC={key:0,class:"mt-4 p-4 bg-yellow-100 border-2 border-red-500 rounded-lg shadow-xl relative z-50",style:{"background-color":"#fef3c7 !important",border:"3px solid #ef4444 !important","min-height":"200px"}},xC={class:"text-xs text-gray-500 mb-2"},bC={class:"text-sm font-medium text-gray-900 mb-2"},wC={key:0,class:"mt-1 text-xs text-red-600"},_C={class:"flex justify-end space-x-2 mt-2"},CC=["disabled"],kC={key:0,class:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-1 inline-block"},$C={key:1,class:"mt-2 space-y-2"},SC={class:"p-3 bg-green-50 border border-green-200 rounded-lg"},EC={class:"flex items-start space-x-3"},AC={class:"flex-shrink-0"},TC={class:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center overflow-hidden"},PC=["src","alt"],RC={key:1,class:"text-xs font-medium text-green-600"},MC={class:"flex-1 min-w-0"},IC={class:"flex items-center space-x-2 mb-1"},OC={class:"text-xs font-medium text-green-900"},DC={class:"text-xs text-green-600"},jC={class:"text-xs text-green-800 mb-2"},LC={class:"flex items-center space-x-3"},FC=["onClick"],NC=["onClick","disabled","title"],BC={key:0,class:"mt-4 p-4 bg-yellow-100 border-2 border-red-500 rounded-lg shadow-xl relative z-50",style:{"background-color":"#fef3c7 !important",border:"3px solid #ef4444 !important","min-height":"200px"}},UC={class:"text-xs text-gray-500 mb-2"},VC={class:"text-sm font-medium text-gray-900 mb-2"},HC={key:0,class:"mt-1 text-xs text-red-600"},zC={class:"flex justify-end space-x-2 mt-2"},WC=["disabled"],KC={class:"bg-gray-100 p-2 text-xs border rounded mb-4"},GC={key:3,class:"border-t pt-4"},qC={key:0,class:"mt-1 text-sm text-red-600"},YC={class:"flex justify-end space-x-3 mt-3"},XC=["disabled"],JC={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2 inline-block"},QC={key:4,class:"border-t pt-4"},ZC={class:"mt-3"},ek={class:"mb-6 p-4 bg-gray-50 rounded-lg border"},tk={class:"flex items-start space-x-3"},sk={class:"flex-shrink-0"},ok={class:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center overflow-hidden"},rk=["src","alt"],nk={key:1,class:"text-sm font-medium text-primary-600"},ak={class:"flex-1 min-w-0"},lk={class:"flex items-center space-x-2 mb-1"},ik={class:"text-sm font-medium text-gray-900"},dk={class:"text-xs text-gray-500"},uk={class:"text-sm text-gray-700"},ck={class:"flex items-center space-x-1 mt-2"},fk={class:"text-xs text-gray-500"},pk={key:0,class:"mb-6"},mk={class:"max-h-48 overflow-y-auto space-y-3"},gk={class:"flex items-start space-x-3"},vk={class:"flex-shrink-0"},hk={class:"w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center overflow-hidden"},yk=["src","alt"],xk={key:1,class:"text-xs font-medium text-primary-600"},bk={class:"flex-1 min-w-0"},wk={class:"flex items-center space-x-2 mb-1"},_k={class:"text-xs font-medium text-gray-900"},Ck={class:"text-xs text-gray-500"},kk={class:"text-xs text-gray-700 mb-2"},$k={class:"flex items-center space-x-3"},Sk=["onClick"],Ek=["onClick","disabled","title"],Ak={key:1,class:"border-t pt-4"},Tk={key:0,class:"mt-1 text-sm text-red-600"},Pk={class:"flex justify-end space-x-3 mt-3"},Rk=["disabled"],Mk={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2 inline-block"},Ik={key:2,class:"border-t pt-4"},Ok={class:"bg-white rounded-lg overflow-hidden"},Dk={class:"flex items-center justify-between p-4 border-b"},jk={class:"text-lg font-medium text-gray-900"},Lk={key:0,class:"text-sm text-gray-500 ml-2"},Fk={class:"relative p-4"},Nk=["disabled"],Bk=["disabled"],Uk=["src","alt"],Vk={key:0,class:"p-4 border-t bg-gray-50"},Hk={class:"flex justify-center space-x-2 overflow-x-auto"},zk=["onClick"],Wk=["src","alt"],Kk={class:"flex items-center justify-between p-4 border-t bg-gray-50"},Gk={class:"text-sm text-gray-500"},qk={class:"bg-white rounded-lg overflow-hidden"},Yk={class:"flex items-center justify-between p-4 border-b"},Xk={class:"text-lg font-medium text-gray-900"},Jk={class:"p-4"},Qk=["src"],Zk={class:"flex items-center justify-between p-4 border-t bg-gray-50"},e7={class:"text-sm text-gray-500"},t7={__name:"ForumTopics",setup(e){const t=kt(),o=Ot(),r=gt(),a=j(!1),l=j(!1),n=j(!1),i=j([]),d=j(null),f=j(""),u=j(""),c=j("latest"),m=j(1),g=j("trending"),y=j([{value:"",name:"All Categories",color:"bg-gray-400",count:0}]),k=Ye({title:"",category:"",content:""}),C=Ye({}),A=j(!1),T=j(null),$=j([]),x=j(!1),S=j(!1),h=Ye({content:""}),w=Ye({}),_=j(!1),b=j(null),P=Ye({content:"",parent_id:null}),R=Ye({}),M=j(!1),D=j(!1),J=j(null),G=Ye({content:"",parent_id:null}),B=Ye({}),X=j(!1),te=j({}),se=Ne(()=>{let Q=i.value;return u.value&&(Q=Q.filter(O=>O.category===u.value)),Q.sort((O,je)=>{if(O.is_pinned&&!je.is_pinned)return-1;if(!O.is_pinned&&je.is_pinned)return 1;switch(c.value){case"popular":return(je.replies_count||0)-(O.replies_count||0);case"replies":return(je.replies_count||0)-(O.replies_count||0);case"views":return(je.views||0)-(O.views||0);case"latest":default:return new Date(je.created_at)-new Date(O.created_at)}}),Q}),Se=Ne(()=>{if(!d.value)return[];const Q=[],O=Math.max(1,d.value.current_page-2),je=Math.min(d.value.last_page,d.value.current_page+2);for(let nt=O;nt<=je;nt++)Q.push(nt);return Q}),Ve=Ne(()=>vr.apiUrl),$e=Ne(()=>vr.baseUrl),ze=Q=>({general:"bg-blue-100 text-blue-800",technical:"bg-green-100 text-green-800","course-specific":"bg-purple-100 text-purple-800",feedback:"bg-orange-100 text-orange-800"})[Q]||"bg-gray-100 text-gray-800",ge=Q=>new Date(Q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),q=Q=>new Date(Q).toLocaleDateString("en-US",{month:"short",day:"numeric"}),we=Q=>{if(Q===0)return"0 Bytes";const O=1024,je=["Bytes","KB","MB","GB","TB"],nt=Math.floor(Math.log(Q)/Math.log(O));return parseFloat((Q/Math.pow(O,nt)).toFixed(2))+" "+je[nt]},Z=(Q,O)=>Q.poll_votes&&Array.isArray(Q.poll_votes)&&Q.poll_votes[O]||0,be=j({}),Ce=Q=>{Q.forEach(O=>{O.poll_options&&(be.value[O.id]=O.poll_options.map((je,nt)=>Z(O,nt)))})},Oe=(Q,O)=>be.value[Q.id]?be.value[Q.id][O]||0:Z(Q,O),Xe=(Q,O,je=!0)=>{be.value[Q.id]||(be.value[Q.id]=Q.poll_options.map((nt,Ze)=>Z(Q,Ze))),je?be.value[Q.id][O]=(be.value[Q.id][O]||0)+1:be.value[Q.id][O]=Math.max(0,(be.value[Q.id][O]||0)-1)},st=(Q,O)=>{var Ze;const je=Oe(Q,O),nt=((Ze=Q.poll_options)==null?void 0:Ze.reduce((Te,dt,ps)=>Te+Oe(Q,ps),0))||1;return nt>0?Math.round(je/nt*100):0},I=(Q,O)=>{const je=`poll_${Q.id}_option_${O}`;return localStorage.getItem(je)==="true"},F=Q=>{const O=`poll_${Q.id}_voted`;return localStorage.getItem(O)==="true"},ne=async(Q,O)=>{if(!Q.poll_is_multiple_choice&&F(Q)){r.warning("You have already voted in this poll");return}try{const je=`poll_${Q.id}_option_${O}`;if(I(Q,O))if(Q.poll_is_multiple_choice)localStorage.removeItem(je),Xe(Q,O,!1),r.success("Vote removed!");else{r.warning("You have already voted for this option");return}else{if(localStorage.setItem(je,"true"),Xe(Q,O,!0),!Q.poll_is_multiple_choice){const Ze=`poll_${Q.id}_voted`,Te=`poll_${Q.id}_voted_option`;localStorage.setItem(Ze,"true"),localStorage.setItem(Te,O.toString())}r.success("Vote recorded successfully!")}}catch{r.error("Failed to record vote")}},me=Q=>`${$e.value}/storage/${Q}`,ce=Q=>!Q||!Array.isArray(Q)?[]:Q.filter(O=>O.is_image===!0),W=Q=>!Q||!Array.isArray(Q)?[]:Q.filter(O=>O.is_video===!0),H=Q=>!Q||!Array.isArray(Q)?[]:Q.filter(O=>O.is_image!==!0&&O.is_video!==!0),K=j(!1),L=j(!1),ae=j(null),ee=j([]),le=j(0),ye=j([]),Re=Q=>{ae.value=Q,K.value=!0;const O=i.value.find(je=>je.attachments&&je.attachments.some(nt=>nt.filename===Q.filename));if(O){const je=ce(O.attachments);ee.value=je,ye.value=je;const nt=je.findIndex(Ze=>Ze.filename===Q.filename);le.value=nt>=0?nt:0}else ee.value=[Q],le.value=0},Fe=Q=>{ae.value=Q,L.value=!0},he=()=>{K.value=!1,L.value=!1,ae.value=null,ee.value=[],le.value=0,ye.value=[]},U=()=>{le.value<ee.value.length-1&&(le.value++,ae.value=ee.value[le.value])},Y=()=>{le.value>0&&(le.value--,ae.value=ee.value[le.value])},re=Q=>{Q>=0&&Q<ee.value.length&&(le.value=Q,ae.value=ee.value[Q])},ve=Q=>{const O=document.createElement("a");O.href=me(Q.file_path),O.download=Q.original_filename,O.target="_blank",document.body.appendChild(O),O.click(),document.body.removeChild(O)},z=Q=>{Q.target.style.display="none"},V=Q=>{Q.target.style.display="none"},Me=Q=>{var O;return((O=o.user)==null?void 0:O.id)===Q.user_id||o.isInstructor},De=Q=>{var O;return((O=o.user)==null?void 0:O.id)===Q.user_id||o.isInstructor},Ke=async()=>{try{const Q=await ql.getAll();if(Q.data.status==="success"){const O=Q.data.data.map(je=>({value:je.slug,name:je.name,color:je.color,count:je.topics_count||0}));y.value=[{value:"",name:"All Categories",color:"#9CA3AF",count:0},...O]}}catch(Q){console.error("Error fetching categories:",Q)}},Ae=async(Q=1)=>{a.value=!0;try{const O={page:Q,per_page:20,category:u.value||void 0,sort:c.value},je=await Tt.getAllTopics(O);je.data.status==="success"?je.data.data.data?(i.value=je.data.data.data,d.value=je.data.data,Ce(je.data.data.data)):(i.value=je.data.data,d.value=null,Ce(je.data.data)):(i.value=[],d.value=null),fa()}catch{r.error("Failed to load topics"),i.value=[],d.value=null}finally{a.value=!1}},Le=async()=>{var Q,O;if(!o.isAuthenticated){r.info("Please log in to create topics"),t.push("/auth/login");return}l.value=!0,C.value={};try{const je=await Tt.createStandaloneTopic(k);if(je.data.status==="success"){const nt=je.data.data;i.value.unshift(nt),k.title="",k.category="",k.content="",n.value=!1,r.success("Topic created successfully!"),await Ae(m.value)}}catch(je){(O=(Q=je.response)==null?void 0:Q.data)!=null&&O.errors?C.value=je.response.data.errors:r.error("Failed to create topic")}finally{l.value=!1}},We=Q=>{if(!o.isAuthenticated){r.info("Please log in to edit topics"),t.push("/auth/login");return}t.push(`/forum/topics/${Q.id}/edit`)},ot=async Q=>{if(!o.isAuthenticated){r.info("Please log in to delete topics"),t.push("/auth/login");return}if(confirm("Are you sure you want to delete this topic?"))try{await Tt.deleteStandaloneTopic(Q),i.value=i.value.filter(O=>O.id!==Q),r.success("Topic deleted successfully!"),await Ae(m.value)}catch{r.error("Failed to delete topic")}},rt=async Q=>{Q<1||d.value&&Q>d.value.last_page||(m.value=Q,await Ae(Q))},zt=async()=>{if(!f.value.trim()){await Ae(1);return}a.value=!0;try{const Q=await Tt.searchAllTopics(f.value);Q.data.status==="success"?Q.data.data.data?(i.value=Q.data.data.data,d.value=Q.data.data):(i.value=Q.data.data,d.value=null):(i.value=[],d.value=null)}catch{r.error("Search failed"),i.value=[],d.value=null}finally{a.value=!1}};xt([u,c],()=>{m.value=1,Ae(1)}),xt(f,Q=>{if(Q.trim().length>=2){const O=setTimeout(()=>{zt()},500);return()=>clearTimeout(O)}else Q.trim().length===0&&Ae(1)});const So=async Q=>{if(!o.isAuthenticated){r.info("Please log in to like topics"),t.push("/auth/login");return}try{const O=await Tt.likeStandaloneTopic(Q.id);O.data.status==="success"&&(Q.is_liked=O.data.data.is_liked,Q.likes_count=O.data.data.likes_count,r.success(O.data.message))}catch{r.error("Failed to like topic")}},Eo=Q=>{switch(g.value=Q,Q){case"trending":c.value="popular";break;case"all":c.value="latest";break;case"new":c.value="latest";break}m.value=1,Ae(1)},lo=Q=>{u.value=Q,m.value=1,Ae(1)},fa=()=>{y.value.forEach(Q=>{Q.value===""?Q.count=i.value.length:Q.count=i.value.filter(O=>O.category===Q.value).length})},pa=async Q=>{T.value=Q,A.value=!0,x.value=!0,$.value=[],h.content="",w.value={};try{const O=await Tt.getStandaloneTopic(Q.id);O.data.status==="success"&&($.value=O.data.data.replies||[])}catch{r.error("Failed to load replies")}finally{x.value=!1}},xr=()=>{A.value=!1,T.value=null,$.value=[],h.content="",w.value={}},ma=async()=>{var Q,O,je,nt;if(!o.isAuthenticated){r.info("Please log in to reply"),t.push("/auth/login");return}if(!h.content||h.content.trim().length===0){w.value={content:"Reply cannot be empty"},r.error("Reply cannot be empty");return}S.value=!0,w.value={};try{if((await Tt.createStandaloneReply(T.value.id,h)).data.status==="success"){await wr(),h.content="",r.success("Reply posted successfully!");const Te=i.value.findIndex(dt=>dt.id===T.value.id);Te!==-1&&(i.value[Te].replies_count=(i.value[Te].replies_count||0)+1)}else r.error("Failed to post reply")}catch(Ze){(O=(Q=Ze.response)==null?void 0:Q.data)!=null&&O.errors?(w.value=Ze.response.data.errors,r.error("Validation error: "+Object.values(Ze.response.data.errors).flat().join(", "))):(nt=(je=Ze.response)==null?void 0:je.data)!=null&&nt.message?r.error(Ze.response.data.message):r.error("Failed to post reply: "+(Ze.message||"Unknown error"))}finally{S.value=!1}},Qo=async Q=>{if(!o.isAuthenticated){r.info("Please log in to like replies");return}try{const O=await Tt.likeStandaloneReply(Q.id);if(O.data.status==="success"){const je=$.value.findIndex(nt=>nt.id===Q.id);je!==-1&&($.value[je].is_liked=O.data.data.is_liked,$.value[je].upvotes=O.data.data.upvotes)}}catch{r.error("Failed to like reply")}},Zo=Q=>{console.log("openReplyModal called with reply:",Q),console.log("Current showInlineReplyForm:",D.value),console.log("Current inlineReplyParent:",J.value),D.value=!1,J.value=Q.id,D.value=!0,G.content="",G.parent_id=Q.id,B.value={},console.log("After setting - showInlineReplyForm:",D.value),console.log("After setting - inlineReplyParent:",J.value)},er=()=>{_.value=!1,b.value=null,P.content="",P.parent_id=null,R.value={}},ga=async()=>{var Q,O,je,nt;if(!o.isAuthenticated){r.info("Please log in to reply"),t.push("/auth/login");return}if(!P.content||P.content.trim().length===0){R.value={content:"Reply cannot be empty"},r.error("Reply cannot be empty");return}M.value=!0,R.value={};try{if((await Tt.createStandaloneReply(T.value.id,P)).data.status==="success"){P.parent_id&&(te.value[P.parent_id]=!0),er(),await wr(),r.success("Reply posted successfully!");const Te=i.value.findIndex(dt=>dt.id===T.value.id);Te!==-1&&(i.value[Te].replies_count=(i.value[Te].replies_count||0)+1)}else r.error("Failed to post reply")}catch(Ze){(O=(Q=Ze.response)==null?void 0:Q.data)!=null&&O.errors?(R.value=Ze.response.data.errors,r.error("Validation error: "+Object.values(Ze.response.data.errors).flat().join(", "))):(nt=(je=Ze.response)==null?void 0:je.data)!=null&&nt.message?r.error(Ze.response.data.message):r.error("Failed to post reply: "+(Ze.message||"Unknown error"))}finally{M.value=!1}},Ts=Q=>Q?$.value.filter(O=>O.parent_id===Q):[],br=Q=>{const O=[],je=nt=>{const Ze=$.value.filter(Te=>Te.parent_id===nt);for(const Te of Ze)O.push(Te),je(Te.id)};return je(Q),O},va=()=>$.value.filter(Q=>!Q.parent_id),rn=Q=>{te.value[Q]=!te.value[Q]},io=Q=>!!te.value[Q],ha=Q=>br(Q).length>0,tr=()=>{D.value=!1,J.value=null,G.content="",G.parent_id=null,B.value={}},wr=async()=>{if(!T.value){console.log("No selected topic, cannot refresh");return}try{console.log("Refreshing topic replies for topic ID:",T.value.id);const Q=await Tt.getStandaloneTopic(T.value.id);if(console.log("API response:",Q.data),Q.data.status==="success"){const O=Q.data.data.replies||[];console.log("Old replies count:",$.value.length),console.log("New replies count:",O.length),console.log("New replies data:",O.map(je=>({id:je.id,parent_id:je.parent_id,content:je.content}))),$.value=O,console.log("Replies refreshed successfully:",$.value.length)}else console.error("API returned error status:",Q.data)}catch(Q){console.error("Failed to refresh replies:",Q)}},_r=async()=>{var Q,O,je,nt;if(!o.isAuthenticated){r.info("Please log in to reply"),t.push("/auth/login");return}if(!G.content||G.content.trim().length===0){B.value={content:"Reply cannot be empty"},r.error("Reply cannot be empty");return}X.value=!0,B.value={};try{const Ze=await Tt.createStandaloneReply(T.value.id,G);if(Ze.data.status==="success"){console.log("=== REPLY SUBMITTED SUCCESSFULLY ==="),console.log("New reply data:",Ze.data.data),console.log("Parent ID:",G.parent_id),console.log("Topic Replies before:",$.value.length),G.parent_id&&(te.value[G.parent_id]=!0),tr(),await wr(),console.log("Topic Replies after refresh:",$.value.length),console.log("All replies:",$.value.map(dt=>({id:dt.id,parent_id:dt.parent_id,content:dt.content}))),r.success("Reply posted successfully!");const Te=i.value.findIndex(dt=>dt.id===T.value.id);Te!==-1&&(i.value[Te].replies_count=(i.value[Te].replies_count||0)+1)}else r.error("Failed to post reply")}catch(Ze){(O=(Q=Ze.response)==null?void 0:Q.data)!=null&&O.errors?(B.value=Ze.response.data.errors,r.error("Validation error: "+Object.values(Ze.response.data.errors).flat().join(", "))):(nt=(je=Ze.response)==null?void 0:je.data)!=null&&nt.message?r.error(Ze.response.data.message):r.error("Failed to post reply: "+(Ze.message||"Unknown error"))}finally{X.value=!1}};return it(()=>{Ke(),Ae(1)}),(Q,O)=>{var nt,Ze,Te,dt,ps,Ao,To,Po,Cr,nn,an,ln,dn,kr,ou,ru,nu,au,lu,iu,du,uu,cu,fu,pu,mu,gu,vu,hu,yu,xu,bu,wu,_u,Cu,ku,$u,Su;const je=lt("router-link");return p(),v("div",u6,[s("div",c6,[s("div",f6,[s("div",p6,[s("div",m6,[O[24]||(O[24]=s("h3",{class:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4"},"Categories",-1)),s("div",g6,[(p(!0),v(_e,null,Ee(y.value,oe=>(p(),v("div",{key:oe.value,onClick:_s=>lo(oe.value),class:ue(["p-3 sm:p-4 rounded-lg cursor-pointer transition-all duration-200 hover:shadow-md",u.value===oe.value?"ring-2 ring-primary-500 bg-primary-50":"bg-gray-50 hover:bg-gray-100"])},[s("div",h6,[s("div",{class:"w-2 h-2 sm:w-3 sm:h-3 rounded-full flex-shrink-0",style:ns({backgroundColor:oe.color})},null,4),s("div",y6,[s("h4",x6,E(oe.name),1),s("p",b6,E(oe.count)+" topics",1)])])],10,v6))),128))])])]),s("div",w6,[s("div",_6,[s("div",C6,[O[27]||(O[27]=s("div",null,[s("h1",{class:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900"},"Community Forum"),s("p",{class:"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600"},"Connect with other learners and share your thoughts")],-1)),s("div",k6,[pe(je,{to:"/forum/topics/create",class:"btn btn-primary text-sm sm:text-base px-4 py-2 w-fit"},{default:ke(()=>O[25]||(O[25]=[s("span",{class:"hidden sm:inline"},"Create New Topic",-1),s("span",{class:"sm:hidden"},"+ New Topic",-1)])),_:1,__:[25]}),pe(je,{to:"/forum/search",class:"btn btn-secondary text-sm sm:text-base px-4 py-2 w-fit"},{default:ke(()=>O[26]||(O[26]=[de(" Search Topics ",-1)])),_:1,__:[26]})])])]),s("div",$6,[s("div",S6,[s("nav",E6,[s("button",{onClick:O[0]||(O[0]=oe=>Eo("trending")),class:ue(["py-2 px-1 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200 whitespace-nowrap",g.value==="trending"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," Trending ",2),s("button",{onClick:O[1]||(O[1]=oe=>Eo("all")),class:ue(["py-2 px-1 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200 whitespace-nowrap",g.value==="all"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," All Forum ",2),s("button",{onClick:O[2]||(O[2]=oe=>Eo("new")),class:ue(["py-2 px-1 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200 whitespace-nowrap",g.value==="new"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," New Post ",2)])])]),s("div",A6,[s("div",T6,[s("div",P6,[s("div",R6,[O[29]||(O[29]=s("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},"Search Topics",-1)),s("div",M6,[xe(s("input",{"onUpdate:modelValue":O[3]||(O[3]=oe=>f.value=oe),type:"text",placeholder:"Search topics...",class:"w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 text-sm sm:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[Pe,f.value]]),O[28]||(O[28]=s("svg",{class:"absolute left-2 sm:left-3 top-2.5 h-4 w-4 sm:h-5 sm:w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),s("div",I6,[O[30]||(O[30]=s("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},"Category",-1)),xe(s("select",{"onUpdate:modelValue":O[4]||(O[4]=oe=>u.value=oe),class:"w-full px-2 sm:px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},[(p(!0),v(_e,null,Ee(y.value,oe=>(p(),v("option",{key:oe.value,value:oe.value},E(oe.name),9,O6))),128))],512),[[_t,u.value]])]),s("div",D6,[O[32]||(O[32]=s("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1"},"Sort By",-1)),xe(s("select",{"onUpdate:modelValue":O[5]||(O[5]=oe=>c.value=oe),class:"w-full px-2 sm:px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},O[31]||(O[31]=[s("option",{value:"latest"},"Latest",-1),s("option",{value:"popular"},"Most Popular",-1),s("option",{value:"replies"},"Most Replies",-1),s("option",{value:"views"},"Most Views",-1)]),512),[[_t,c.value]])])])])]),a.value?(p(),v("div",j6,O[33]||(O[33]=[s("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)]))):i.value.length>0?(p(),v("div",L6,[(p(!0),v(_e,null,Ee(se.value,oe=>{var _s,uo,Ro,Mo,Io;return p(),v("div",{key:oe.id,class:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200"},[s("div",F6,[s("div",N6,[s("div",B6,[s("div",U6,[(_s=oe.user)!=null&&_s.avatar?(p(),v("img",{key:0,src:`${$e.value}/storage/${oe.user.avatar}`,alt:oe.user.name,class:"w-full h-full object-cover"},null,8,V6)):(p(),v("span",H6,E((Mo=(Ro=(uo=oe.user)==null?void 0:uo.name)==null?void 0:Ro.charAt(0))==null?void 0:Mo.toUpperCase()),1))])]),s("div",z6,[s("div",W6,[pe(je,{to:`/forum/topics/${oe.id}`,class:"text-base sm:text-lg font-medium text-gray-900 hover:text-primary-600 line-clamp-2 sm:truncate"},{default:ke(()=>[de(E(oe.title),1)]),_:2},1032,["to"]),s("div",K6,[s("span",{class:ue(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap",ze(oe.category)])},E(oe.category),3),oe.is_pinned?(p(),v("span",G6," Pinned ")):N("",!0),oe.is_locked?(p(),v("span",q6," Locked ")):N("",!0)])]),s("p",Y6,E(oe.content),1),oe.poll_question?(p(),v("div",X6,[s("div",J6,[O[34]||(O[34]=s("svg",{class:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),s("span",Q6,"Poll: "+E(oe.poll_question),1)]),s("div",Z6,[(p(!0),v(_e,null,Ee(oe.poll_options,(Je,Rt)=>(p(),v("div",{key:Rt,class:ue(["flex items-center justify-between p-2 rounded-md border transition-all duration-200 cursor-pointer",I(oe,Rt)?"bg-green-50 border-green-300":oe.poll_is_multiple_choice?"bg-blue-50 border-blue-200 hover:bg-blue-100":F(oe)?"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60":"bg-blue-50 border-blue-200 hover:bg-blue-100"]),onClick:Gt=>oe.poll_is_multiple_choice||!F(oe)?ne(oe,Rt):null},[s("div",t_,[s("input",{type:oe.poll_is_multiple_choice?"checkbox":"radio",name:"poll-"+oe.id,value:Je,checked:I(oe,Rt),disabled:!oe.poll_is_multiple_choice&&F(oe)&&!I(oe,Rt),onClick:Ue(Gt=>ne(oe,Rt),["stop"]),class:"w-4 h-4 text-blue-600 focus:ring-blue-500 cursor-pointer"},null,8,s_),s("span",o_,E(Je),1),I(oe,Rt)?(p(),v("div",r_,O[35]||(O[35]=[s("svg",{class:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),s("span",{class:"text-xs text-green-600 font-medium ml-1"},"Your vote",-1)]))):N("",!0)]),s("div",n_,[s("span",a_,E(Oe(oe,Rt))+" votes ",1),s("div",l_,[s("div",{class:"h-full bg-blue-500 transition-all duration-300",style:ns({width:st(oe,Rt)+"%"})},null,4)])])],10,e_))),128))])])):N("",!0),oe.attachments_count>0&&oe.attachments&&oe.attachments.length>0?(p(),v("div",i_,[s("div",d_,[O[36]||(O[36]=s("svg",{class:"w-3 h-3 sm:w-4 sm:h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1)),s("span",u_,E(oe.attachments_count)+" Attachment"+E(oe.attachments_count>1?"s":""),1)]),ce(oe.attachments).length>0?(p(),v("div",c_,[s("div",f_,[(p(!0),v(_e,null,Ee(ce(oe.attachments).slice(0,4),(Je,Rt)=>(p(),v("div",{key:Je.filename,class:ue(["relative group cursor-pointer overflow-hidden rounded-sm",ce(oe.attachments).length===1?"w-full h-80 sm:h-96":"",ce(oe.attachments).length===2?"flex-1 h-48 sm:h-56":"",ce(oe.attachments).length===3?Rt===0?"w-full h-48 sm:h-56 mb-1":"flex-1 h-36 sm:h-40":"",ce(oe.attachments).length>=4?"w-[calc(50%-2px)] h-36 sm:h-40":""]),onClick:Gt=>Re(Je)},[s("img",{src:me(Je.file_path),alt:Je.original_filename,class:ue(["w-full h-full object-cover transition-transform duration-200",ce(oe.attachments).length===1?"":"hover:scale-105"]),onError:z},null,42,m_),O[37]||(O[37]=s("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center"},[s("svg",{class:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})])],-1))],10,p_))),128)),ce(oe.attachments).length>4?(p(),v("div",{key:0,class:"relative group cursor-pointer w-[calc(50%-2px)] h-36 sm:h-40 overflow-hidden rounded-sm",onClick:Je=>Re(ce(oe.attachments)[4])},[s("img",{src:me(ce(oe.attachments)[4].file_path),alt:ce(oe.attachments)[4].original_filename,class:"w-full h-full object-cover",onError:z},null,40,v_),s("div",h_,[s("div",y_,[s("div",x_,"+"+E(ce(oe.attachments).length-4),1),O[38]||(O[38]=s("div",{class:"text-xs"},"more",-1))])]),O[39]||(O[39]=s("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center"},[s("svg",{class:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})])],-1))],8,g_)):N("",!0)])])):oe.attachments&&oe.attachments.some(Je=>Je.is_image===!0)?(p(),v("div",b_,[s("div",w_,[(p(!0),v(_e,null,Ee(oe.attachments.filter(Je=>Je.is_image===!0).slice(0,4),(Je,Rt)=>(p(),v("div",{key:Je.filename,class:ue(["relative group cursor-pointer overflow-hidden rounded-sm",oe.attachments.filter(Gt=>Gt.is_image===!0).length===1?"w-full h-80 sm:h-96":"",oe.attachments.filter(Gt=>Gt.is_image===!0).length===2?"flex-1 h-48 sm:h-56":"",oe.attachments.filter(Gt=>Gt.is_image===!0).length===3?Rt===0?"w-full h-48 sm:h-56 mb-1":"flex-1 h-36 sm:h-40":"",oe.attachments.filter(Gt=>Gt.is_image===!0).length>=4?"w-[calc(50%-2px)] h-36 sm:h-40":""]),onClick:Gt=>Re(Je)},[s("img",{src:me(Je.file_path),alt:Je.original_filename,class:ue(["w-full h-full object-cover transition-transform duration-200",oe.attachments.filter(Gt=>Gt.is_image===!0).length===1?"":"hover:scale-105"]),onError:z},null,42,C_),O[40]||(O[40]=s("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center"},[s("svg",{class:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})])],-1))],10,__))),128)),oe.attachments.filter(Je=>Je.is_image===!0).length>4?(p(),v("div",{key:0,class:"relative group cursor-pointer w-[calc(50%-2px)] h-36 sm:h-40 overflow-hidden rounded-sm",onClick:Je=>Re(oe.attachments.filter(Rt=>Rt.is_image===!0)[4])},[s("img",{src:me(oe.attachments.filter(Je=>Je.is_image===!0)[4].file_path),alt:oe.attachments.filter(Je=>Je.is_image===!0)[4].original_filename,class:"w-full h-full object-cover",onError:z},null,40,$_),s("div",S_,[s("div",E_,[s("div",A_,"+"+E(oe.attachments.filter(Je=>Je.is_image===!0).length-4),1),O[41]||(O[41]=s("div",{class:"text-xs"},"more",-1))])]),O[42]||(O[42]=s("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center"},[s("svg",{class:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})])],-1))],8,k_)):N("",!0)])])):N("",!0),W(oe.attachments).length>0?(p(),v("div",T_,[(p(!0),v(_e,null,Ee(W(oe.attachments),Je=>(p(),v("div",{key:Je.filename,class:"relative group cursor-pointer",onClick:Rt=>Fe(Je)},[s("video",{src:me(Je.file_path),class:"w-full h-48 object-cover rounded-md border border-gray-200 hover:border-gray-300 transition-colors",preload:"metadata",onError:V},null,40,R_),O[43]||(O[43]=s("div",{class:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center rounded-md"},[s("svg",{class:"w-12 h-12 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[s("path",{d:"M8 5v14l11-7z"})])],-1)),s("div",M_,E(we(Je.file_size)),1)],8,P_))),128))])):N("",!0),H(oe.attachments).length>0?(p(),v("div",I_,[(p(!0),v(_e,null,Ee(H(oe.attachments),Je=>(p(),v("div",{key:Je.filename,class:"flex items-center space-x-3 p-2 bg-white rounded-md border border-gray-200 hover:border-gray-300 transition-colors"},[O[45]||(O[45]=s("div",{class:"flex-shrink-0"},[s("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),s("div",O_,[s("p",D_,E(Je.original_filename),1),s("p",j_,E(we(Je.file_size))+"  "+E(Je.file_type.toUpperCase()),1)]),s("button",{onClick:Rt=>ve(Je),class:"p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Download file"},O[44]||(O[44]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)]),8,L_)]))),128))])):N("",!0)])):N("",!0),s("div",F_,[s("div",N_,[s("span",null,"By "+E((Io=oe.user)==null?void 0:Io.name),1),s("span",B_,E(ge(oe.created_at)),1),s("span",U_,E(q(oe.created_at)),1),s("div",{class:"flex items-center space-x-1 cursor-pointer hover:text-primary-600 transition-colors",onClick:Je=>pa(oe)},[O[46]||(O[46]=s("svg",{class:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),s("span",null,E(oe.replies_count||0)+" replies",1)],8,V_),s("div",H_,[O[47]||(O[47]=s("svg",{class:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),s("span",null,E(oe.views||0)+" views",1)]),s("div",z_,[s("button",{onClick:Je=>So(oe),class:ue(["flex items-center space-x-1 transition-colors duration-200",oe.is_liked?"text-red-600":"text-gray-500 hover:text-red-600"])},[(p(),v("svg",{class:"w-3 h-3 sm:w-4 sm:h-4",fill:oe.is_liked?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},O[48]||(O[48]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"},null,-1)]),8,K_)),s("span",null,E(oe.likes_count||0),1)],10,W_)])]),s("div",G_,[pe(je,{to:`/forum/topics/${oe.id}`,class:"btn btn-sm btn-primary text-xs sm:text-sm px-3 py-1"},{default:ke(()=>O[49]||(O[49]=[s("span",{class:"hidden sm:inline"},"View Discussion",-1),s("span",{class:"sm:hidden"},"View",-1)])),_:2,__:[49]},1032,["to"]),Me(oe)?(p(),v("button",{key:0,onClick:Je=>We(oe),class:"btn btn-sm btn-secondary text-xs sm:text-sm px-2 py-1",title:"Edit topic"},O[50]||(O[50]=[s("svg",{class:"w-4 h-4 sm:hidden",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),s("span",{class:"hidden sm:inline"},"Edit",-1)]),8,q_)):N("",!0),De(oe)?(p(),v("button",{key:1,onClick:Je=>ot(oe.id),class:"btn btn-sm btn-danger text-xs sm:text-sm px-2 py-1",title:"Delete topic"},O[51]||(O[51]=[s("svg",{class:"w-4 h-4 sm:hidden",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),s("span",{class:"hidden sm:inline"},"Delete",-1)]),8,Y_)):N("",!0)])])])])])])}),128)),d.value&&d.value.last_page>1?(p(),v("div",X_,[s("nav",J_,[s("button",{onClick:O[6]||(O[6]=oe=>rt(d.value.current_page-1)),disabled:d.value.current_page===1,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Q_),(p(!0),v(_e,null,Ee(Se.value,oe=>(p(),v("button",{key:oe,onClick:_s=>rt(oe),class:ue(["px-3 py-2 text-sm font-medium rounded-md",oe===d.value.current_page?"bg-primary-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"])},E(oe),11,Z_))),128)),s("button",{onClick:O[7]||(O[7]=oe=>rt(d.value.current_page+1)),disabled:d.value.current_page===d.value.last_page,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,e8)])])):N("",!0)])):(p(),v("div",t8,[O[53]||(O[53]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),O[54]||(O[54]=s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No topics found",-1)),s("p",s8,E(f.value?"No topics match your search criteria.":"Be the first to start a discussion!"),1),s("div",o8,[pe(je,{to:"/forum/topics/create",class:"btn btn-primary w-fit"},{default:ke(()=>O[52]||(O[52]=[de(" Create First Topic ",-1)])),_:1,__:[52]})])]))]),n.value?(p(),v("div",r8,[s("div",n8,[s("div",a8,[O[56]||(O[56]=s("h3",{class:"text-lg font-medium text-gray-900"},"Create New Topic",-1)),s("button",{onClick:O[8]||(O[8]=oe=>n.value=!1),class:"text-gray-400 hover:text-gray-600"},O[55]||(O[55]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("form",{onSubmit:Ue(Le,["prevent"]),class:"space-y-4"},[s("div",null,[O[57]||(O[57]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Title *",-1)),xe(s("input",{"onUpdate:modelValue":O[9]||(O[9]=oe=>k.title=oe),type:"text",required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":C.title}]),placeholder:"Enter topic title"},null,2),[[Pe,k.title]]),C.title?(p(),v("p",l8,E(C.title),1)):N("",!0)]),s("div",null,[O[59]||(O[59]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Category *",-1)),xe(s("select",{"onUpdate:modelValue":O[10]||(O[10]=oe=>k.category=oe),required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":C.category}])},[O[58]||(O[58]=s("option",{value:""},"Select Category",-1)),(p(!0),v(_e,null,Ee(y.value.filter(oe=>oe.value!==""),oe=>(p(),v("option",{key:oe.value,value:oe.value},E(oe.name),9,i8))),128))],2),[[_t,k.category]]),C.category?(p(),v("p",d8,E(C.category),1)):N("",!0)]),s("div",null,[O[60]||(O[60]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Content *",-1)),xe(s("textarea",{"onUpdate:modelValue":O[11]||(O[11]=oe=>k.content=oe),rows:"6",required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":C.content}]),placeholder:"Share your thoughts, questions, or start a discussion..."},null,2),[[Pe,k.content]]),C.content?(p(),v("p",u8,E(C.content),1)):N("",!0)]),s("div",c8,[s("button",{type:"button",onClick:O[12]||(O[12]=oe=>n.value=!1),class:"btn btn-secondary w-fit"}," Cancel "),s("button",{type:"submit",disabled:l.value,class:"btn btn-primary w-fit"},[l.value?(p(),v("span",p8)):N("",!0),de(" "+E(l.value?"Creating...":"Create Topic"),1)],8,f8)])],32)])])):N("",!0)])]),A.value?(p(),v("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:xr},[s("div",{class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",onClick:O[17]||(O[17]=Ue(()=>{},["stop"]))},[s("div",m8,[s("div",g8,[s("h3",v8,'Replies to "'+E((nt=T.value)==null?void 0:nt.title)+'"',1),s("button",{onClick:xr,class:"text-gray-400 hover:text-gray-600"},O[61]||(O[61]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("div",h8,[s("div",y8,[s("div",x8,[s("div",b8,[(Te=(Ze=T.value)==null?void 0:Ze.user)!=null&&Te.avatar?(p(),v("img",{key:0,src:`${$e.value}/storage/${T.value.user.avatar}`,alt:T.value.user.name,class:"w-full h-full object-cover"},null,8,w8)):(p(),v("span",_8,E((To=(Ao=(ps=(dt=T.value)==null?void 0:dt.user)==null?void 0:ps.name)==null?void 0:Ao.charAt(0))==null?void 0:To.toUpperCase()),1))])]),s("div",C8,[s("div",k8,[s("span",$8,E((Cr=(Po=T.value)==null?void 0:Po.user)==null?void 0:Cr.name),1),s("span",S8,E(ge((nn=T.value)==null?void 0:nn.created_at)),1)]),s("p",E8,E((an=T.value)==null?void 0:an.content),1),s("div",A8,[O[62]||(O[62]=s("svg",{class:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})],-1)),s("span",T8,E(((ln=T.value)==null?void 0:ln.likes_count)||0),1)])])])]),s("div",P8,[x.value?(p(),v("div",R8,O[63]||(O[63]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"},null,-1),s("p",{class:"text-sm text-gray-500 mt-2"},"Loading replies...",-1)]))):$.value.length===0?(p(),v("div",M8,O[64]||(O[64]=[s("svg",{class:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1),s("p",null,"No replies yet. Be the first to reply!",-1)]))):(p(),v("div",I8,[(p(!0),v(_e,null,Ee(va(),oe=>{var _s,uo,Ro,Mo,Io,Je,Rt,Gt;return p(),v("div",{key:oe.id,class:"p-4 bg-white border rounded-lg"},[s("div",O8,[s("div",D8,[s("div",j8,[(_s=oe.user)!=null&&_s.avatar?(p(),v("img",{key:0,src:`${$e.value}/storage/${oe.user.avatar}`,alt:oe.user.name,class:"w-full h-full object-cover"},null,8,L8)):(p(),v("span",F8,E((Mo=(Ro=(uo=oe.user)==null?void 0:uo.name)==null?void 0:Ro.charAt(0))==null?void 0:Mo.toUpperCase()),1))])]),s("div",N8,[s("div",B8,[s("span",U8,E((Io=oe.user)==null?void 0:Io.name),1),s("span",V8,E(ge(oe.created_at)),1)]),s("p",H8,E(oe.content),1),s("div",z8,[s("button",{onClick:yt=>Qo(oe),class:"flex items-center space-x-1 text-xs text-gray-500 hover:text-red-500 transition-colors"},[(p(),v("svg",{class:ue(["w-4 h-4",oe.is_liked?"text-red-500 fill-current":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},O[65]||(O[65]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)]),2)),s("span",null,E(oe.upvotes||0),1)],8,W8),s("button",{onClick:yt=>Zo(oe),class:"text-xs text-gray-500 hover:text-primary-600 transition-colors",disabled:(Je=T.value)==null?void 0:Je.is_locked,title:(Rt=T.value)!=null&&Rt.is_locked?"This topic is locked":"Reply to this message"}," Reply ",8,K8)]),D.value&&J.value===oe.id?(p(),v("div",G8,[s("div",q8," Debug: showInlineReplyForm="+E(D.value)+", inlineReplyParent="+E(J.value)+", reply.id="+E(oe.id),1),s("h5",Y8,"Reply to "+E((Gt=oe.user)==null?void 0:Gt.name),1),s("form",{onSubmit:Ue(_r,["prevent"])},[xe(s("textarea",{"onUpdate:modelValue":O[13]||(O[13]=yt=>G.content=yt),rows:"3",required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",{"border-red-500":B.content}]),placeholder:"Write your reply..."},null,2),[[Pe,G.content]]),B.content?(p(),v("p",X8,E(B.content),1)):N("",!0),s("div",J8,[s("button",{type:"button",onClick:tr,class:"px-3 py-1 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"}," Cancel "),s("button",{type:"submit",disabled:X.value,class:"px-3 py-1 text-xs font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50"},[X.value?(p(),v("span",Z8)):N("",!0),de(" "+E(X.value?"Posting...":"Post Reply"),1)],8,Q8)])],32)])):N("",!0),ha(oe.id)?(p(),v("div",eC,[s("button",{onClick:yt=>rn(oe.id),class:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center space-x-1 transition-colors duration-200 hover:bg-blue-50 px-2 py-1 rounded"},[(p(),v("svg",{class:ue(["w-3 h-3 transition-transform",{"rotate-90":io(oe.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},O[66]||(O[66]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2)),s("span",null,E(io(oe.id)?"Hide":"View")+" "+E(br(oe.id).length)+" "+E(br(oe.id).length===1?"reply":"replies"),1)],8,tC)])):N("",!0),io(oe.id)&&Ts(oe.id).length>0?(p(),v("div",sC,[(p(!0),v(_e,null,Ee(Ts(oe.id),(yt,hq)=>{var Eu,Au,Tu,Pu,Ru,Mu,Iu,Ou;return p(),v("div",{key:yt.id,class:"relative"},[O[71]||(O[71]=ft('<div class="absolute -left-6 top-3 w-4 h-4 flex items-center justify-center" data-v-a0fd6746><svg class="w-3 h-3 text-gray-400" fill="currentColor" viewBox="0 0 20 20" data-v-a0fd6746><path d="M10 12a2 2 0 100-4 2 2 0 000 4z" data-v-a0fd6746></path><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" data-v-a0fd6746></path></svg></div><div class="absolute -left-6 top-6 w-px h-8 bg-gray-300" data-v-a0fd6746></div>',2)),s("div",oC,[s("div",rC,[s("div",nC,[s("div",aC,[(Eu=yt.user)!=null&&Eu.avatar?(p(),v("img",{key:0,src:`${$e.value}/storage/${yt.user.avatar}`,alt:yt.user.name,class:"w-full h-full object-cover"},null,8,lC)):(p(),v("span",iC,E((Pu=(Tu=(Au=yt.user)==null?void 0:Au.name)==null?void 0:Tu.charAt(0))==null?void 0:Pu.toUpperCase()),1))])]),s("div",dC,[s("div",uC,[s("span",cC,E((Ru=yt.user)==null?void 0:Ru.name),1),s("span",fC,E(ge(yt.created_at)),1)]),s("p",pC,E(yt.content),1),s("div",mC,[s("button",{onClick:Ut=>Qo(yt),class:"flex items-center space-x-1 text-xs text-blue-500 hover:text-red-500 transition-colors"},[(p(),v("svg",{class:ue(["w-3 h-3",yt.is_liked?"text-red-500 fill-current":"text-blue-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},O[67]||(O[67]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)]),2)),s("span",null,E(yt.upvotes||0),1)],8,gC),s("button",{onClick:Ut=>Zo(yt),class:"text-xs text-blue-500 hover:text-blue-700 transition-colors",disabled:(Mu=T.value)==null?void 0:Mu.is_locked,title:(Iu=T.value)!=null&&Iu.is_locked?"This topic is locked":"Reply to this message"}," Reply ",8,vC),Ts(yt.id).length>0?(p(),v("button",{key:0,onClick:Ut=>rn(yt.id),class:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center space-x-1 transition-colors duration-200 hover:bg-blue-50 px-2 py-1 rounded"},[(p(),v("svg",{class:ue(["w-3 h-3 transition-transform",{"rotate-90":io(yt.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},O[68]||(O[68]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2)),s("span",null,E(io(yt.id)?"Hide":"View")+" "+E(Ts(yt.id).length)+" "+E(Ts(yt.id).length===1?"reply":"replies"),1)],8,hC)):N("",!0)]),D.value&&J.value===yt.id?(p(),v("div",yC,[s("div",xC," Debug: showInlineReplyForm="+E(D.value)+", inlineReplyParent="+E(J.value)+", nestedReply.id="+E(yt.id),1),s("h5",bC,"Reply to "+E((Ou=yt.user)==null?void 0:Ou.name),1),s("form",{onSubmit:Ue(_r,["prevent"])},[xe(s("textarea",{"onUpdate:modelValue":O[14]||(O[14]=Ut=>G.content=Ut),rows:"3",required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",{"border-red-500":B.content}]),placeholder:"Write your reply..."},null,2),[[Pe,G.content]]),B.content?(p(),v("p",wC,E(B.content),1)):N("",!0),s("div",_C,[s("button",{type:"button",onClick:tr,class:"px-3 py-1 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"}," Cancel "),s("button",{type:"submit",disabled:X.value,class:"px-3 py-1 text-xs font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50"},[X.value?(p(),v("span",kC)):N("",!0),de(" "+E(X.value?"Posting...":"Post Reply"),1)],8,CC)])],32)])):N("",!0),io(yt.id)&&Ts(yt.id).length>0?(p(),v("div",$C,[(p(!0),v(_e,null,Ee(Ts(yt.id),(Ut,yq)=>{var Du,ju,Lu,Fu,Nu,Bu,Uu,Vu;return p(),v("div",{key:Ut.id,class:"relative"},[O[70]||(O[70]=ft('<div class="absolute -left-6 top-3 w-4 h-4 flex items-center justify-center" data-v-a0fd6746><svg class="w-3 h-3 text-gray-400" fill="currentColor" viewBox="0 0 20 20" data-v-a0fd6746><path d="M10 12a2 2 0 100-4 2 2 0 000 4z" data-v-a0fd6746></path><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" data-v-a0fd6746></path></svg></div><div class="absolute -left-6 top-6 w-px h-8 bg-gray-300" data-v-a0fd6746></div>',2)),s("div",SC,[s("div",EC,[s("div",AC,[s("div",TC,[(Du=Ut.user)!=null&&Du.avatar?(p(),v("img",{key:0,src:`${$e.value}/storage/${Ut.user.avatar}`,alt:Ut.user.name,class:"w-full h-full object-cover"},null,8,PC)):(p(),v("span",RC,E((Fu=(Lu=(ju=Ut.user)==null?void 0:ju.name)==null?void 0:Lu.charAt(0))==null?void 0:Fu.toUpperCase()),1))])]),s("div",MC,[s("div",IC,[s("span",OC,E((Nu=Ut.user)==null?void 0:Nu.name),1),s("span",DC,E(ge(Ut.created_at)),1)]),s("p",jC,E(Ut.content),1),s("div",LC,[s("button",{onClick:Zl=>Qo(Ut),class:"flex items-center space-x-1 text-xs text-green-500 hover:text-red-500 transition-colors"},[(p(),v("svg",{class:ue(["w-3 h-3",Ut.is_liked?"text-red-500 fill-current":"text-green-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},O[69]||(O[69]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)]),2)),s("span",null,E(Ut.upvotes||0),1)],8,FC),s("button",{onClick:Zl=>Zo(Ut),class:"text-xs text-green-500 hover:text-green-700 transition-colors",disabled:(Bu=T.value)==null?void 0:Bu.is_locked,title:(Uu=T.value)!=null&&Uu.is_locked?"This topic is locked":"Reply to this message"}," Reply ",8,NC)])])])]),D.value&&J.value===Ut.id?(p(),v("div",BC,[s("div",UC," Debug: showInlineReplyForm="+E(D.value)+", inlineReplyParent="+E(J.value)+", subReply.id="+E(Ut.id),1),s("h5",VC,"Reply to "+E((Vu=Ut.user)==null?void 0:Vu.name)+" (GREEN LEVEL)",1),s("form",{onSubmit:Ue(_r,["prevent"])},[xe(s("textarea",{"onUpdate:modelValue":O[15]||(O[15]=Zl=>G.content=Zl),rows:"4",required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm resize-none",{"border-red-500":B.content}]),placeholder:"Write your reply to this green level message..."},null,2),[[Pe,G.content]]),B.content?(p(),v("p",HC,E(B.content),1)):N("",!0),s("div",zC,[s("button",{type:"button",onClick:tr,class:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800 transition-colors"}," Cancel "),s("button",{type:"submit",disabled:X.value,class:"px-4 py-1 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},E(X.value?"Posting...":"Post Reply"),9,WC)])],32)])):N("",!0)])}),128))])):N("",!0)])])])])}),128))])):N("",!0)])])])}),128))])),s("div",KC,[O[72]||(O[72]=s("div",null,"Modal Level Debug",-1)),s("div",null,"Show Inline Reply Form: "+E(D.value),1),s("div",null,"Inline Reply Parent: "+E(J.value),1),s("div",null,"Total Replies: "+E($.value.length),1)]),(dn=T.value)!=null&&dn.is_locked?(p(),v("div",QC,O[74]||(O[74]=[ft('<div class="bg-red-50 border border-red-200 rounded-md p-3" data-v-a0fd6746><div class="flex" data-v-a0fd6746><svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-a0fd6746><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z" data-v-a0fd6746></path></svg><div class="ml-3" data-v-a0fd6746><p class="text-sm text-red-800" data-v-a0fd6746>This discussion is locked. You cannot reply to locked topics.</p></div></div></div>',1)]))):(p(),v("div",GC,[O[73]||(O[73]=s("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Your Reply",-1)),s("form",{onSubmit:Ue(ma,["prevent"])},[xe(s("textarea",{"onUpdate:modelValue":O[16]||(O[16]=oe=>h.content=oe),rows:"4",required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":w.content}]),placeholder:"Write your reply..."},null,2),[[Pe,h.content]]),w.content?(p(),v("p",qC,E(w.content),1)):N("",!0),s("div",YC,[s("button",{type:"button",onClick:xr,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"}," Cancel "),s("button",{type:"submit",disabled:S.value,class:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50"},[S.value?(p(),v("span",JC)):N("",!0),de(" "+E(S.value?"Posting...":"Post Reply"),1)],8,XC)])],32)]))])])]),_.value?(p(),v("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:er},[s("div",{class:"relative top-20 mx-auto p-5 border w-11/12 md:w-2/3 lg:w-1/2 shadow-lg rounded-md bg-white",onClick:O[19]||(O[19]=Ue(()=>{},["stop"]))},[s("div",ZC,[s("div",{class:"flex items-center justify-between mb-4"},[O[76]||(O[76]=s("h3",{class:"text-lg font-medium text-gray-900"},"Reply to Message",-1)),s("button",{onClick:er,class:"text-gray-400 hover:text-gray-600"},O[75]||(O[75]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("div",ek,[s("div",tk,[s("div",sk,[s("div",ok,[(ou=(kr=b.value)==null?void 0:kr.user)!=null&&ou.avatar?(p(),v("img",{key:0,src:`${$e.value}/storage/${b.value.user.avatar}`,alt:b.value.user.name,class:"w-full h-full object-cover"},null,8,rk)):(p(),v("span",nk,E((lu=(au=(nu=(ru=b.value)==null?void 0:ru.user)==null?void 0:nu.name)==null?void 0:au.charAt(0))==null?void 0:lu.toUpperCase()),1))])]),s("div",ak,[s("div",lk,[s("span",ik,E((du=(iu=b.value)==null?void 0:iu.user)==null?void 0:du.name),1),s("span",dk,E(ge((uu=b.value)==null?void 0:uu.created_at)),1)]),s("p",uk,E((cu=b.value)==null?void 0:cu.content),1),s("div",ck,[O[77]||(O[77]=s("svg",{class:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})],-1)),s("span",fk,E(((fu=b.value)==null?void 0:fu.upvotes)||0),1)])])])]),Ts((pu=b.value)==null?void 0:pu.id).length>0?(p(),v("div",pk,[O[79]||(O[79]=s("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Replies to this message:",-1)),s("div",mk,[(p(!0),v(_e,null,Ee(Ts((mu=b.value)==null?void 0:mu.id),oe=>{var _s,uo,Ro,Mo,Io,Je,Rt;return p(),v("div",{key:oe.id,class:"p-3 bg-white border rounded-lg"},[s("div",gk,[s("div",vk,[s("div",hk,[(_s=oe.user)!=null&&_s.avatar?(p(),v("img",{key:0,src:`${Ve.value}/storage/${oe.user.avatar}`,alt:oe.user.name,class:"w-full h-full object-cover"},null,8,yk)):(p(),v("span",xk,E((Mo=(Ro=(uo=oe.user)==null?void 0:uo.name)==null?void 0:Ro.charAt(0))==null?void 0:Mo.toUpperCase()),1))])]),s("div",bk,[s("div",wk,[s("span",_k,E((Io=oe.user)==null?void 0:Io.name),1),s("span",Ck,E(ge(oe.created_at)),1)]),s("p",kk,E(oe.content),1),s("div",$k,[s("button",{onClick:Gt=>Qo(oe),class:"flex items-center space-x-1 text-xs text-gray-500 hover:text-red-500 transition-colors"},[(p(),v("svg",{class:ue(["w-3 h-3",oe.is_liked?"text-red-500 fill-current":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},O[78]||(O[78]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)]),2)),s("span",null,E(oe.upvotes||0),1)],8,Sk),s("button",{onClick:Gt=>Zo(oe),class:"text-xs text-gray-500 hover:text-primary-600 transition-colors",disabled:(Je=T.value)==null?void 0:Je.is_locked,title:(Rt=T.value)!=null&&Rt.is_locked?"This topic is locked":"Reply to this message"}," Reply ",8,Ek)])])])])}),128))])])):N("",!0),(gu=T.value)!=null&&gu.is_locked?(p(),v("div",Ik,O[81]||(O[81]=[ft('<div class="bg-red-50 border border-red-200 rounded-md p-3" data-v-a0fd6746><div class="flex" data-v-a0fd6746><svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-a0fd6746><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z" data-v-a0fd6746></path></svg><div class="ml-3" data-v-a0fd6746><p class="text-sm text-red-800" data-v-a0fd6746>This discussion is locked. You cannot reply to locked topics.</p></div></div></div>',1)]))):(p(),v("div",Ak,[O[80]||(O[80]=s("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Your Reply",-1)),s("form",{onSubmit:Ue(ga,["prevent"])},[xe(s("textarea",{"onUpdate:modelValue":O[18]||(O[18]=oe=>P.content=oe),rows:"4",required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":R.content}]),placeholder:"Write your reply..."},null,2),[[Pe,P.content]]),R.content?(p(),v("p",Tk,E(R.content),1)):N("",!0),s("div",Pk,[s("button",{type:"button",onClick:er,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"}," Cancel "),s("button",{type:"submit",disabled:M.value,class:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50"},[M.value?(p(),v("span",Mk)):N("",!0),de(" "+E(M.value?"Posting...":"Post Reply"),1)],8,Rk)])],32)]))])])])):N("",!0)])):N("",!0),K.value?(p(),v("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:he},[s("div",{class:"max-w-6xl max-h-[90vh] w-full mx-4",onClick:O[21]||(O[21]=Ue(()=>{},["stop"]))},[s("div",Ok,[s("div",Dk,[s("h3",jk,[de(E((vu=ae.value)==null?void 0:vu.original_filename)+" ",1),ee.value.length>1?(p(),v("span",Lk," ("+E(le.value+1)+" of "+E(ee.value.length)+") ",1)):N("",!0)]),s("button",{onClick:he,class:"text-gray-400 hover:text-gray-600"},O[82]||(O[82]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("div",Fk,[ee.value.length>1?(p(),v("button",{key:0,onClick:Y,disabled:le.value===0,class:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10 p-2 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-70 disabled:opacity-30 disabled:cursor-not-allowed transition-all"},O[83]||(O[83]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),8,Nk)):N("",!0),ee.value.length>1?(p(),v("button",{key:1,onClick:U,disabled:le.value===ee.value.length-1,class:"absolute right-4 top-1/2 transform -translate-y-1/2 z-10 p-2 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-70 disabled:opacity-30 disabled:cursor-not-allowed transition-all"},O[84]||(O[84]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,Bk)):N("",!0),s("img",{src:me((hu=ae.value)==null?void 0:hu.file_path),alt:(yu=ae.value)==null?void 0:yu.original_filename,class:"max-w-full max-h-[70vh] object-contain mx-auto",onError:z},null,40,Uk)]),ee.value.length>1?(p(),v("div",Vk,[s("div",Hk,[(p(!0),v(_e,null,Ee(ee.value,(oe,_s)=>(p(),v("button",{key:oe.filename,onClick:uo=>re(_s),class:ue(["flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-all",_s===le.value?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"])},[s("img",{src:me(oe.file_path),alt:oe.original_filename,class:"w-full h-full object-cover"},null,8,Wk)],10,zk))),128))])])):N("",!0),s("div",Kk,[s("div",Gk,E(we((xu=ae.value)==null?void 0:xu.file_size))+"  "+E((wu=(bu=ae.value)==null?void 0:bu.file_type)==null?void 0:wu.toUpperCase()),1),s("button",{onClick:O[20]||(O[20]=oe=>ve(ae.value)),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Download ")])])])])):N("",!0),L.value?(p(),v("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:he},[s("div",{class:"max-w-4xl max-h-[90vh] w-full mx-4",onClick:O[23]||(O[23]=Ue(()=>{},["stop"]))},[s("div",qk,[s("div",Yk,[s("h3",Xk,E((_u=ae.value)==null?void 0:_u.original_filename),1),s("button",{onClick:he,class:"text-gray-400 hover:text-gray-600"},O[85]||(O[85]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("div",Jk,[s("video",{src:me((Cu=ae.value)==null?void 0:Cu.file_path),controls:"",class:"max-w-full max-h-[70vh] mx-auto",onError:V}," Your browser does not support the video tag. ",40,Qk)]),s("div",Zk,[s("div",e7,E(we((ku=ae.value)==null?void 0:ku.file_size))+"  "+E((Su=($u=ae.value)==null?void 0:$u.file_type)==null?void 0:Su.toUpperCase()),1),s("button",{onClick:O[22]||(O[22]=oe=>ve(ae.value)),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Download ")])])])])):N("",!0)])}}},s7=Kt(t7,[["__scopeId","data-v-a0fd6746"]]),o7={class:"space-y-3"},r7=["id"],n7={key:0,class:"absolute -left-4 top-2 w-4 h-4 border-l-2 border-t-2 border-gray-400 rounded-tl-md"},a7={key:1,class:"absolute -left-4 top-2 bottom-2 border-l-2 border-gray-200"},l7={class:"flex items-start space-x-3"},i7=["src","alt"],d7={class:"flex-1 min-w-0"},u7={class:"flex items-center justify-between mb-2"},c7={key:0,class:"flex items-center space-x-1"},f7=["onClick"],p7=["onClick"],m7={class:"prose max-w-none"},g7=["innerHTML"],v7={class:"flex items-center justify-between mt-3"},h7=["onClick"],y7=["fill"],x7=["onClick","disabled","title"],b7=["onClick"],w7=["onClick"],_7={key:2,class:"text-xs text-red-600 bg-red-100 p-1 rounded"},C7={class:"text-sm font-medium text-gray-900 mb-2"},k7={key:0,class:"mt-1 text-xs text-red-600"},$7={class:"flex justify-end space-x-2 mt-2"},S7=["disabled"],E7={__name:"ForumReplyThread",props:{replies:{type:Array,required:!0},allReplies:{type:Array,required:!0},level:{type:Number,default:1},expandedNested:{type:Set,required:!0},isTopicLocked:{type:Boolean,default:!1},storageUrl:{type:String,required:!0},topicId:{type:Number,required:!0}},emits:["toggle-replies","like-reply","open-reply-modal","edit-reply","delete-reply","reply-added"],setup(e,{emit:t}){const o=Ot(),r=gt(),a=e,l=t,n=j(!1),i=j(null),d=j(!1),f=j({content:"",parent_id:null}),u=j({}),c=se=>a.allReplies.filter(Se=>Se.parent_id===se),m=()=>{const se=["bg-gray-50 border-gray-200","bg-blue-50 border-blue-200","bg-green-50 border-green-200","bg-yellow-50 border-yellow-200","bg-purple-50 border-purple-200","bg-pink-50 border-pink-200","bg-indigo-50 border-indigo-200","bg-orange-50 border-orange-200"];return se[Math.min(a.level-1,se.length-1)]},g=()=>{const se=["w-8 h-8 bg-primary-100","w-6 h-6 bg-gray-100","w-5 h-5 bg-gray-100","w-4 h-4 bg-gray-100"];return se[Math.min(a.level-1,se.length-1)]},y=()=>{const se=["text-primary-600 text-sm","text-gray-600 text-xs","text-gray-600 text-[10px]","text-gray-600 text-[8px]"];return se[Math.min(a.level-1,se.length-1)]},k=()=>{const se=["text-sm","text-sm","text-xs","text-[10px]"];return se[Math.min(a.level-1,se.length-1)]},C=()=>{const se=["text-xs","text-xs","text-[10px]","text-[8px]"];return se[Math.min(a.level-1,se.length-1)]},A=()=>{const se=["text-sm text-gray-700","text-sm text-gray-700","text-xs text-gray-700","text-[10px] text-gray-700"];return se[Math.min(a.level-1,se.length-1)]},T=()=>{const se=["text-xs","text-xs","text-[11px]","text-[10px]"];return se[Math.min(a.level-1,se.length-1)]},$=()=>{const se=["w-4 h-4","w-3 h-3","w-3 h-3","w-3 h-3"];return se[Math.min(a.level-1,se.length-1)]},x=()=>{const se=["w-4 h-4","w-3 h-3","w-3 h-3","w-3 h-3"];return se[Math.min(a.level-1,se.length-1)]},S=se=>a.expandedNested.has(se),h=se=>c(se).length,w=se=>new Date(se).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=se=>se.replace(/\n/g,"<br>"),b=se=>{console.log("Toggle reply form called for reply:",se,"at level:",a.level),n.value&&i.value===se?(console.log("Closing reply form for:",se),P()):(console.log("Opening reply form for:",se),n.value=!0,i.value=se,f.value={content:"",parent_id:se},u.value={})},P=()=>{n.value=!1,i.value=null,f.value={content:"",parent_id:null},u.value={}},R=se=>{console.log("Force showing reply form for:",se,"at level:",a.level),n.value=!0,i.value=se,f.value={content:"",parent_id:se},u.value={}},M=async()=>{var se,Se,Ve,$e;if(!o.isAuthenticated){r.info("Please log in to reply");return}if(!f.value.content||f.value.content.trim().length===0){u.value={content:"Reply cannot be empty"},r.error("Reply cannot be empty");return}d.value=!0,u.value={};try{const ze=await Tt.createStandaloneReply(a.topicId,f.value);ze.data.status==="success"?(l("reply-added",ze.data.data),P(),r.success("Reply posted successfully!")):r.error("Failed to post reply")}catch(ze){(Se=(se=ze.response)==null?void 0:se.data)!=null&&Se.errors?(u.value=ze.response.data.errors,r.error("Validation error: "+Object.values(ze.response.data.errors).flat().join(", "))):($e=(Ve=ze.response)==null?void 0:Ve.data)!=null&&$e.message?r.error(ze.response.data.message):r.error("Failed to post reply: "+(ze.message||"Unknown error"))}finally{d.value=!1}},D=se=>{l("toggle-replies",se)},J=se=>{l("like-reply",se)},G=se=>{console.log("Reply button clicked for reply:",se.id,"at level:",a.level),l("open-reply-modal",se)},B=se=>{l("edit-reply",se)},X=se=>{l("delete-reply",se)},te=se=>{l("reply-added",se)};return(se,Se)=>{const Ve=lt("ForumReplyThread",!0);return p(),v("div",o7,[s("div",{class:ue(["bg-gray-100 p-2 text-xs border rounded","bg-"+(e.level===1?"gray":e.level===2?"blue":e.level===3?"green":"yellow")+"-100"])},[s("div",null,[s("strong",null,"Level: "+E(e.level),1),de(" ("+E(e.level===1?"Gray":e.level===2?"Blue":e.level===3?"Green":"Yellow")+" messages)",1)]),s("div",null,"Show Reply Form: "+E(n.value),1),s("div",null,"Active Reply ID: "+E(i.value),1),s("div",null,"Total Replies: "+E(e.replies.length),1),s("div",null,"Component Instance ID: "+E(Math.random().toString(36).substr(2,9)),1)],2),(p(!0),v(_e,null,Ee(e.replies,$e=>{var ze,ge,q,we,Z,be;return p(),v("div",{key:$e.id,id:`reply-${$e.id}`,class:"relative"},[e.level>1?(p(),v("div",n7)):N("",!0),e.level>1?(p(),v("div",a7)):N("",!0),s("div",{class:ue(["relative p-3 border rounded-lg",[m(),e.level>1?"ml-2":""]])},[s("div",l7,[s("div",{class:ue(["rounded-full flex items-center justify-center overflow-hidden",g()])},[(ze=$e.user)!=null&&ze.avatar?(p(),v("img",{key:0,src:`${e.storageUrl}/storage/${$e.user.avatar}`,alt:$e.user.name,class:"w-full h-full object-cover"},null,8,i7)):(p(),v("span",{key:1,class:ue(["font-medium",y()])},E((we=(q=(ge=$e.user)==null?void 0:ge.name)==null?void 0:q.charAt(0))==null?void 0:we.toUpperCase()),3))],2),s("div",d7,[s("div",u7,[s("div",null,[s("p",{class:ue(["font-medium text-gray-900",k()])},E((Z=$e.user)==null?void 0:Z.name),3),s("p",{class:ue(["text-gray-500",C()])},E(w($e.created_at)),3)]),(p(),v("div",c7,[s("button",{onClick:Ce=>B($e),class:"text-gray-400 hover:text-gray-600 p-1",title:"Edit reply"},Se[1]||(Se[1]=[s("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,f7),s("button",{onClick:Ce=>X($e.id),class:"text-gray-400 hover:text-red-600 p-1",title:"Delete reply"},Se[2]||(Se[2]=[s("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,p7)]))]),s("div",m7,[s("div",{innerHTML:_($e.content),class:ue(A())},null,10,g7)]),s("div",v7,[s("div",{class:ue(["flex items-center space-x-3 text-gray-500",T()])},[s("button",{onClick:Ce=>J($e),class:ue(["flex items-center space-x-1 transition-colors duration-200",$e.is_liked?"text-red-600":"text-gray-500 hover:text-red-600"])},[(p(),v("svg",{class:ue($()),fill:$e.is_liked?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 20 20"},Se[3]||(Se[3]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"},null,-1)]),10,y7)),s("span",null,E($e.upvotes||0),1)],10,h7),s("button",{onClick:Ce=>b($e.id),disabled:e.isTopicLocked,class:ue(["flex items-center space-x-1 transition-colors duration-200 px-4 py-3 rounded hover:bg-blue-100 min-h-[40px] min-w-[100px] border-2 border-blue-500 hover:border-blue-600",e.isTopicLocked?"text-gray-400 cursor-not-allowed bg-gray-50 border-gray-300":"text-blue-600 bg-blue-50 hover:bg-blue-100"]),title:e.isTopicLocked?"Cannot reply to locked discussion":"Reply to this message (Level: "+e.level+")"},[(p(),v("svg",{class:ue(x()),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Se[4]||(Se[4]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},null,-1)]),2)),s("span",null,"Reply (L"+E(e.level)+")",1)],10,x7),s("button",{onClick:Ce=>R($e.id),class:"flex items-center space-x-1 px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600",title:"Force show reply form (Debug)"},Se[5]||(Se[5]=[s("span",null,"TEST",-1)]),8,b7),c($e.id).length>0?(p(),v("button",{key:0,onClick:Ce=>D($e.id),class:"text-blue-600 hover:text-blue-800 font-medium flex items-center space-x-1 transition-colors duration-200 hover:bg-blue-50 px-2 py-1 rounded"},[(p(),v("svg",{class:ue(["w-3 h-3 transition-transform",{"rotate-90":S($e.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Se[6]||(Se[6]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2)),s("span",null,E(S($e.id)?"Hide":"View")+" "+E(h($e.id))+" "+E(h($e.id)===1?"reply":"replies"),1)],8,w7)):N("",!0)],2)])])])],2),n.value&&i.value===$e.id?(p(),v("div",_7," DEBUG: Form is active for reply "+E($e.id)+" at level "+E(e.level),1)):N("",!0),n.value&&i.value===$e.id?(p(),v("div",{key:3,class:ue(["mt-4 p-4 border-2 border-red-500 rounded-lg bg-yellow-100 shadow-xl relative z-50",e.level>1?"ml-2":""]),style:{"background-color":"#fef3c7 !important",border:"3px solid #ef4444 !important","min-height":"200px"}},[s("h5",C7,"Reply to "+E((be=$e.user)==null?void 0:be.name)+" (Level: "+E(e.level)+", ID: "+E($e.id)+")",1),s("form",{onSubmit:Ue(M,["prevent"])},[xe(s("textarea",{"onUpdate:modelValue":Se[0]||(Se[0]=Ce=>f.value.content=Ce),rows:"4",required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm resize-none",{"border-red-500":u.value.content}]),placeholder:"Write your reply to {{ reply.user?.name }}..."},null,2),[[Pe,f.value.content]]),u.value.content?(p(),v("p",k7,E(u.value.content),1)):N("",!0),s("div",$7,[s("button",{type:"button",onClick:P,class:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800 transition-colors"}," Cancel "),s("button",{type:"submit",disabled:d.value,class:"px-4 py-1 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},E(d.value?"Posting...":"Post Reply"),9,S7)])],32)],2)):N("",!0),S($e.id)?(p(),v("div",{key:4,class:ue(["mt-3",e.level>1?"ml-6":"ml-11"])},[pe(Ve,{replies:c($e.id),"all-replies":e.allReplies,level:e.level+1,"expanded-nested":e.expandedNested,"is-topic-locked":e.isTopicLocked,"storage-url":e.storageUrl,"topic-id":e.topicId,onToggleReplies:D,onLikeReply:J,onOpenReplyModal:G,onEditReply:B,onDeleteReply:X,onReplyAdded:te},null,8,["replies","all-replies","level","expanded-nested","is-topic-locked","storage-url","topic-id"])],2)):N("",!0)],8,r7)}),128))])}}},A7={class:"min-h-screen bg-gray-50 py-4 sm:py-8"},T7={class:"max-w-4xl mx-auto px-3 sm:px-4 lg:px-8"},P7={key:0,class:"flex justify-center py-12"},R7={key:1,class:"space-y-6"},M7={class:"flex","aria-label":"Breadcrumb"},I7={class:"flex items-center space-x-2 sm:space-x-4 overflow-x-auto"},O7={class:"flex items-center"},D7={class:"ml-2 sm:ml-4 text-xs sm:text-sm font-medium text-gray-500 truncate"},j7={class:"bg-white rounded-lg shadow-sm p-4 sm:p-6"},L7={class:"flex flex-col sm:flex-row sm:items-start justify-between gap-4 mb-4"},F7={class:"flex items-center space-x-3"},N7={class:"w-8 h-8 sm:w-10 sm:h-10 bg-primary-100 rounded-full flex items-center justify-center overflow-hidden"},B7=["src","alt"],U7={key:1,class:"text-primary-600 font-medium text-sm sm:text-base"},V7={class:"font-medium text-gray-900 text-sm sm:text-base"},H7={class:"text-xs sm:text-sm text-gray-500"},z7={class:"flex items-center space-x-2"},W7={key:0,class:"flex items-center space-x-1"},K7={class:"text-2xl font-bold text-gray-900 mb-4"},G7={class:"prose max-w-none"},q7=["innerHTML"],Y7={key:0,class:"mt-4 p-3 bg-gray-50 rounded-lg border border-gray-200"},X7={class:"flex items-center space-x-2 mb-3"},J7={class:"text-sm font-medium text-gray-800"},Q7={key:0,class:"mb-3"},Z7={class:"flex flex-wrap gap-1 max-w-md sm:max-w-lg"},e$=["onClick"],t$=["src","alt"],s$=["src","alt"],o$={class:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center"},r$={class:"text-white text-center"},n$={class:"text-sm font-bold"},a$={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3"},l$=["onClick"],i$=["src"],d$={class:"absolute bottom-2 left-2 bg-black bg-opacity-70 text-white text-sm px-3 py-1 rounded"},u$={key:2,class:"space-y-2"},c$={class:"flex-1 min-w-0"},f$={class:"text-sm font-medium text-gray-900 truncate"},p$={class:"text-xs text-gray-500"},m$=["onClick"],g$={class:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200"},v$={class:"flex items-center space-x-4 text-sm text-gray-500"},h$={class:"flex items-center space-x-2"},y$=["fill"],x$={key:0,class:"bg-white rounded-lg shadow-sm p-4 sm:p-6"},b$={class:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200"},w$={class:"flex items-center space-x-2 mb-3"},_$={class:"text-sm font-medium text-blue-800"},C$={class:"space-y-2"},k$=["onClick"],$$={class:"flex items-center space-x-3 flex-1"},S$=["type","name","value","checked","disabled","onClick"],E$={class:"text-sm text-blue-800 flex-1"},A$={key:0,class:"flex items-center"},T$={class:"flex items-center space-x-3 ml-4"},P$={class:"text-sm text-blue-600 font-medium"},R$={class:"w-20 h-2 bg-blue-200 rounded-full overflow-hidden"},M$={class:"bg-white rounded-lg shadow-sm"},I$={class:"px-6 py-4 border-b border-gray-200"},O$={class:"text-lg font-medium text-gray-900"},D$={class:"divide-y divide-gray-200"},j$=["id"],L$={class:"flex items-start space-x-3"},F$={class:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center overflow-hidden"},N$=["src","alt"],B$={key:1,class:"text-primary-600 text-sm font-medium"},U$={class:"flex-1 min-w-0"},V$={class:"flex items-center justify-between mb-2"},H$={class:"font-medium text-gray-900"},z$={class:"text-sm text-gray-500"},W$={key:0,class:"flex items-center space-x-1"},K$=["onClick"],G$=["onClick"],q$={class:"prose max-w-none"},Y$=["innerHTML"],X$={class:"flex items-center justify-between mt-3"},J$={class:"flex items-center space-x-4 text-sm text-gray-500"},Q$=["onClick"],Z$=["fill"],e9=["onClick","disabled","title"],t9={key:0,class:"ml-11 mt-4"},s9={key:0,class:"p-6 text-center"},o9={class:"bg-white rounded-lg shadow-sm p-6"},r9={class:"text-lg font-medium text-gray-900 mb-4"},n9={key:0,class:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200"},a9={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},l9={class:"mb-4"},i9={key:0,class:"mt-1 text-sm text-red-600"},d9={class:"flex justify-end"},u9=["disabled"],c9={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},f9={key:2,class:"text-center py-12"},p9={class:"mt-6"},m9={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",style:{"background-color":"rgba(255, 0, 0, 0.8) !important",border:"5px solid yellow !important"}},g9={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden"},v9={class:"overflow-y-auto max-h-[calc(90vh-140px)]"},h9={class:"p-4 border-b border-gray-100 bg-gray-50"},y9={class:"flex items-start space-x-3"},x9={class:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center overflow-hidden"},b9=["src","alt"],w9={key:1,class:"text-primary-600 text-sm font-medium"},_9={class:"flex-1 min-w-0"},C9={class:"flex items-center justify-between mb-2"},k9={class:"font-medium text-gray-900"},$9={class:"text-sm text-gray-500"},S9={class:"prose max-w-none"},E9=["innerHTML"],A9={class:"flex items-center space-x-4 mt-3 text-sm text-gray-500"},T9=["fill"],P9={key:0,class:"p-4"},R9={class:"space-y-3"},M9={class:"w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden"},I9=["src","alt"],O9={key:1,class:"text-gray-600 text-xs font-medium"},D9={class:"flex-1 min-w-0"},j9={class:"flex items-center justify-between mb-1"},L9={class:"text-sm font-medium text-gray-900"},F9={class:"text-xs text-gray-500"},N9={class:"prose max-w-none"},B9=["innerHTML"],U9={class:"flex items-center space-x-3 mt-2 text-xs text-gray-500"},V9=["onClick"],H9=["fill"],z9={class:"p-4 border-t border-gray-100"},W9={class:"mb-4"},K9={key:0,class:"mt-1 text-sm text-red-600"},G9={class:"flex justify-end space-x-3"},q9=["disabled"],Y9={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2 inline-block"},X9={class:"bg-white rounded-lg overflow-hidden"},J9={class:"flex items-center justify-between p-4 border-b"},Q9={class:"text-lg font-medium text-gray-900"},Z9={key:0,class:"text-sm text-gray-500 ml-2"},eS={class:"relative p-4"},tS=["disabled"],sS=["disabled"],oS=["src","alt"],rS={key:0,class:"p-4 border-t bg-gray-50"},nS={class:"flex justify-center space-x-2 overflow-x-auto"},aS=["onClick"],lS=["src","alt"],iS={class:"flex items-center justify-between p-4 border-t bg-gray-50"},dS={class:"text-sm text-gray-500"},uS={class:"bg-white rounded-lg overflow-hidden"},cS={class:"flex items-center justify-between p-4 border-b"},fS={class:"text-lg font-medium text-gray-900"},pS={class:"p-4"},mS=["src"],gS={class:"flex items-center justify-between p-4 border-t bg-gray-50"},vS={class:"text-sm text-gray-500"},hS={__name:"ForumTopicDetail",setup(e){const t=fs(),o=kt(),r=Ot(),a=gt(),l=j(!1),n=j(!1),i=j(null),d=j([]),f=Ye({content:"",parent_id:null}),u=Ye({}),c=j(!1),m=j(null),g=j(!1),y=Ye({content:"",parent_id:null}),k=Ye({}),C=z=>`${we.value}/storage/${z}`,A=z=>!z||!Array.isArray(z)?[]:z.filter(V=>V.is_image===!0),T=z=>!z||!Array.isArray(z)?[]:z.filter(V=>V.is_video===!0),$=z=>!z||!Array.isArray(z)?[]:z.filter(V=>V.is_image!==!0&&V.is_video!==!0),x=z=>{if(z===0)return"0 Bytes";const V=1024,Me=["Bytes","KB","MB","GB","TB"],De=Math.floor(Math.log(z)/Math.log(V));return parseFloat((z/Math.pow(V,De)).toFixed(2))+" "+Me[De]},S=j(!1),h=j(!1),w=j(null),_=j([]),b=j(0),P=z=>{var De;w.value=z,S.value=!0;const V=A(((De=i.value)==null?void 0:De.attachments)||[]);_.value=V;const Me=V.findIndex(Ke=>Ke.filename===z.filename);b.value=Me>=0?Me:0},R=z=>{w.value=z,h.value=!0},M=()=>{S.value=!1,h.value=!1,w.value=null,_.value=[],b.value=0},D=()=>{b.value<_.value.length-1&&(b.value++,w.value=_.value[b.value])},J=()=>{b.value>0&&(b.value--,w.value=_.value[b.value])},G=z=>{z>=0&&z<_.value.length&&(b.value=z,w.value=_.value[z])},B=z=>{const V=document.createElement("a");V.href=C(z.file_path),V.download=z.original_filename,V.target="_blank",document.body.appendChild(V),V.click(),document.body.removeChild(V)},X=z=>{z.target.style.display="none"},te=z=>{z.target.style.display="none"},se=z=>{var V;return((V=r.user)==null?void 0:V.id)===z.user_id||r.isInstructor},Se=z=>{var V;return((V=r.user)==null?void 0:V.id)===z.user_id||r.isInstructor},Ve=Ne(()=>d.value.filter(z=>!z.parent_id)),$e=z=>d.value.filter(V=>V.parent_id===z),ze=j(new Set),ge=z=>{ze.value.has(z)?ze.value.delete(z):ze.value.add(z)},q=Ne(()=>d.value.length);Ne(()=>vr.apiUrl);const we=Ne(()=>vr.baseUrl),Z=z=>new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),be=z=>z.replace(/\n/g,"<br>"),Ce=z=>({general:"bg-gray-100 text-gray-800",technical:"bg-blue-100 text-blue-800",help:"bg-green-100 text-green-800",discussion:"bg-purple-100 text-purple-800",announcement:"bg-yellow-100 text-yellow-800"})[z]||"bg-gray-100 text-gray-800",Oe=async()=>{var z;l.value=!0;try{const V=t.params.id,Me=await Tt.getStandaloneTopic(V);Me.data.status==="success"?(i.value=Me.data.data,d.value=Me.data.data.replies||[],i.value.poll_question&&ye(i.value)):a.error("Failed to load topic")}catch(V){console.error("Error fetching topic:",V),((z=V.response)==null?void 0:z.status)>=400&&a.error("Failed to load topic")}finally{l.value=!1}},Xe=async()=>{var z,V,Me;if(!r.isAuthenticated){a.info("Please log in to reply"),o.push("/auth/login");return}if((z=i.value)!=null&&z.is_locked){a.error("This discussion is locked. You cannot reply to locked topics.");return}n.value=!0,u.value={};try{const De=await Tt.createStandaloneReply(i.value.id,f);if(De.data.status==="success")d.value.push(De.data.data);else{a.error("Failed to post reply");return}f.content="",f.parent_id=null,a.success("Reply posted successfully!")}catch(De){(Me=(V=De.response)==null?void 0:V.data)!=null&&Me.errors?u.value=De.response.data.errors:a.error("Failed to post reply")}finally{n.value=!1}},st=async()=>{if(!r.isAuthenticated){a.info("Please log in to like topics"),o.push("/auth/login");return}try{const z=await Tt.likeStandaloneTopic(i.value.id);z.data.status==="success"&&(i.value.is_liked=z.data.data.is_liked,i.value.likes_count=z.data.data.likes_count,a.success(z.data.message))}catch(z){console.error("Error liking topic:",z),a.error("Failed to like topic")}},I=async z=>{if(!r.isAuthenticated){a.info("Please log in to like replies"),o.push("/auth/login");return}try{const V=await Tt.likeStandaloneReply(z.id);V.data.status==="success"&&(z.is_liked=V.data.data.is_liked,z.upvotes=V.data.data.upvotes,a.success(V.data.message))}catch(V){console.error("Error liking reply:",V),a.error("Failed to like reply")}},F=()=>{if(!r.isAuthenticated){a.info("Please log in to edit topics"),o.push("/auth/login");return}o.push(`/forum/topics/${i.value.id}/edit`)},ne=async()=>{if(!r.isAuthenticated){a.info("Please log in to delete topics"),o.push("/auth/login");return}if(confirm("Are you sure you want to delete this topic?"))try{await Tt.deleteStandaloneTopic(i.value.id),a.success("Topic deleted successfully!"),o.push("/forum")}catch(z){console.error("Error deleting topic:",z),a.error("Failed to delete topic")}},me=z=>{if(!r.isAuthenticated){a.info("Please log in to edit replies"),o.push("/auth/login");return}o.push(`/forum/replies/${z.id}/edit`)},ce=async z=>{if(!r.isAuthenticated){a.info("Please log in to delete replies"),o.push("/auth/login");return}if(confirm("Are you sure you want to delete this reply?"))try{await Tt.deleteReply(z),d.value=d.value.filter(V=>V.id!==z),a.success("Reply deleted successfully!")}catch(V){console.error("Error deleting reply:",V),a.error("Failed to delete reply")}},W=z=>{var V;if(!r.isAuthenticated){a.info("Please log in to reply"),o.push("/auth/login");return}if((V=i.value)!=null&&V.is_locked){a.error("This discussion is locked. You cannot reply to locked topics.");return}m.value=z,y.parent_id=z.id,y.content="",k.value={},c.value=!0},H=()=>{c.value=!1,m.value=null,y.parent_id=null,y.content="",k.value={}},K=async()=>{var z,V,Me,De,Ke;if(!r.isAuthenticated){a.info("Please log in to reply"),o.push("/auth/login");return}if(!y.content||y.content.trim().length===0){k.value={content:"Reply cannot be empty"},a.error("Reply cannot be empty");return}y.content=y.content.trim(),g.value=!0,k.value={};try{console.log("Submitting modal reply:",{topicId:i.value.id,replyData:y,isAuthenticated:r.isAuthenticated,user:r.user,token:localStorage.getItem("auth_token")?"Present":"Missing"});const Ae=await Tt.createStandaloneReply(i.value.id,y);console.log("Modal reply response:",Ae),Ae.data.status==="success"?(y.parent_id&&ze.value.add(y.parent_id),await Oe(),H(),a.success("Reply posted successfully!")):(console.error("Modal reply failed:",Ae.data),a.error("Failed to post reply"))}catch(Ae){console.error("Modal reply error:",Ae),console.error("Error response:",(z=Ae.response)==null?void 0:z.data),(Me=(V=Ae.response)==null?void 0:V.data)!=null&&Me.errors?(k.value=Ae.response.data.errors,a.error("Validation error: "+Object.values(Ae.response.data.errors).flat().join(", "))):(Ke=(De=Ae.response)==null?void 0:De.data)!=null&&Ke.message?a.error(Ae.response.data.message):a.error("Failed to post reply: "+(Ae.message||"Unknown error"))}finally{g.value=!1}},L=z=>d.value.filter(V=>V.parent_id===z),ae=z=>{d.value.push(z)},ee=(z,V)=>z.poll_votes&&Array.isArray(z.poll_votes)&&z.poll_votes[V]||0,le=j({}),ye=z=>{z.poll_options&&(le.value[z.id]=z.poll_options.map((V,Me)=>ee(z,Me)))},Re=(z,V)=>le.value[z.id]?le.value[z.id][V]||0:ee(z,V),Fe=(z,V,Me=!0)=>{le.value[z.id]||(le.value[z.id]=z.poll_options.map((De,Ke)=>ee(z,Ke))),Me?le.value[z.id][V]=(le.value[z.id][V]||0)+1:le.value[z.id][V]=Math.max(0,(le.value[z.id][V]||0)-1)},he=(z,V)=>{var Ke;const Me=((Ke=z.poll_options)==null?void 0:Ke.reduce((Ae,Le,We)=>Ae+Re(z,We),0))||0;if(Me===0)return 0;const De=Re(z,V);return Math.round(De/Me*100)},U=z=>{const V=`poll_${z.id}_voted`;return localStorage.getItem(V)==="true"},Y=(z,V)=>{const Me=`poll_${z.id}_option_${V}`;return localStorage.getItem(Me)==="true"},re=async(z,V)=>{if(!z.poll_is_multiple_choice&&U(z)){a.warning("You have already voted in this poll");return}try{const Me=`poll_${z.id}_option_${V}`;if(Y(z,V))if(z.poll_is_multiple_choice)localStorage.removeItem(Me),Fe(z,V,!1),a.success("Vote removed!");else{a.warning("You have already voted for this option");return}else{if(localStorage.setItem(Me,"true"),Fe(z,V,!0),!z.poll_is_multiple_choice){const Ke=`poll_${z.id}_voted`,Ae=`poll_${z.id}_voted_option`;localStorage.setItem(Ke,"true"),localStorage.setItem(Ae,V.toString())}a.success("Vote recorded successfully!")}}catch{a.error("Failed to record vote")}},ve=()=>{const z=window.location.hash;if(console.log("Checking hash:",z),z&&z.startsWith("#reply-")){const V=z.substring(1);console.log("Looking for element with ID:",V);const Me=(De=1,Ke=5)=>{const Ae=document.getElementById(V);console.log(`Attempt ${De}: Element found:`,Ae),Ae?(console.log("Scrolling to element:",Ae),Ae.scrollIntoView({behavior:"smooth",block:"center"}),Ae.style.backgroundColor="#fef3c7",Ae.style.border="2px solid #f59e0b",setTimeout(()=>{Ae.style.backgroundColor="",Ae.style.border=""},3e3)):De<Ke?(console.log(`Element not found, retrying in ${De*200}ms...`),setTimeout(()=>Me(De+1,Ke),De*200)):console.log("Element not found after maximum attempts")};setTimeout(()=>{Me()},500)}};return it(async()=>{await Oe(),ve(),window.addEventListener("hashchange",ve)}),no(()=>{window.removeEventListener("hashchange",ve)}),(z,V)=>{var De,Ke,Ae,Le,We,ot,rt,zt,So,Eo,lo,fa,pa,xr,ma,Qo,Zo,er,ga,Ts,br,va,rn,io,ha,tr,wr,_r,Q,O,je,nt,Ze;const Me=lt("router-link");return p(),v("div",A7,[s("div",T7,[l.value?(p(),v("div",P7,V[9]||(V[9]=[s("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)]))):i.value?(p(),v("div",R7,[s("nav",M7,[s("ol",I7,[s("li",null,[pe(Me,{to:"/forum",class:"text-gray-500 hover:text-gray-700 text-sm sm:text-base"},{default:ke(()=>V[10]||(V[10]=[de(" Forum ",-1)])),_:1,__:[10]})]),s("li",null,[s("div",O7,[V[11]||(V[11]=s("svg",{class:"flex-shrink-0 h-4 w-4 sm:h-5 sm:w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),s("span",D7,E(i.value.title),1)])])])]),s("div",j7,[s("div",L7,[s("div",F7,[s("div",N7,[(De=i.value.user)!=null&&De.avatar?(p(),v("img",{key:0,src:`${we.value}/storage/${i.value.user.avatar}`,alt:i.value.user.name,class:"w-full h-full object-cover"},null,8,B7)):(p(),v("span",U7,E((Le=(Ae=(Ke=i.value.user)==null?void 0:Ke.name)==null?void 0:Ae.charAt(0))==null?void 0:Le.toUpperCase()),1))]),s("div",null,[s("p",V7,E((We=i.value.user)==null?void 0:We.name),1),s("p",H7,E(Z(i.value.created_at)),1)])]),s("div",z7,[s("span",{class:ue(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium whitespace-nowrap",Ce(i.value.category)])},E(i.value.category),3),se(i.value)?(p(),v("div",W7,[s("button",{onClick:F,class:"text-gray-400 hover:text-gray-600 p-1",title:"Edit topic"},V[12]||(V[12]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),s("button",{onClick:ne,class:"text-gray-400 hover:text-red-600 p-1",title:"Delete topic"},V[13]||(V[13]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]))])):N("",!0)])]),s("h1",K7,E(i.value.title),1),s("div",G7,[s("div",{innerHTML:be(i.value.content),class:"text-gray-700"},null,8,q7)]),i.value.attachments_count>0&&i.value.attachments&&i.value.attachments.length>0?(p(),v("div",Y7,[s("div",X7,[V[14]||(V[14]=s("svg",{class:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1)),s("span",J7,E(i.value.attachments_count)+" Attachment"+E(i.value.attachments_count>1?"s":""),1)]),A(i.value.attachments).length>0?(p(),v("div",Q7,[s("div",Z7,[(p(!0),v(_e,null,Ee(A(i.value.attachments).slice(0,4),(Te,dt)=>(p(),v("div",{key:Te.filename,class:ue(["relative group cursor-pointer overflow-hidden rounded-sm",A(i.value.attachments).length===1?"w-full h-80 sm:h-96":"",A(i.value.attachments).length===2?"flex-1 h-48 sm:h-56":"",A(i.value.attachments).length===3?dt===0?"w-full h-48 sm:h-56 mb-1":"flex-1 h-36 sm:h-40":"",A(i.value.attachments).length>=4?"w-[calc(50%-2px)] h-36 sm:h-40":""]),onClick:ps=>P(Te)},[s("img",{src:C(Te.file_path),alt:Te.original_filename,class:ue(["w-full h-full object-cover transition-transform duration-200",A(i.value.attachments).length===1?"":"hover:scale-105"]),onError:X},null,42,t$),V[15]||(V[15]=s("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center"},[s("svg",{class:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})])],-1))],10,e$))),128)),A(i.value.attachments).length>4?(p(),v("div",{key:0,class:"relative group cursor-pointer w-[calc(50%-2px)] h-36 sm:h-40 overflow-hidden rounded-sm",onClick:V[0]||(V[0]=Te=>P(A(i.value.attachments)[4]))},[s("img",{src:C(A(i.value.attachments)[4].file_path),alt:A(i.value.attachments)[4].original_filename,class:"w-full h-full object-cover",onError:X},null,40,s$),s("div",o$,[s("div",r$,[s("div",n$,"+"+E(A(i.value.attachments).length-4),1),V[16]||(V[16]=s("div",{class:"text-xs"},"more",-1))])]),V[17]||(V[17]=s("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center"},[s("svg",{class:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})])],-1))])):N("",!0)])])):N("",!0),T(i.value.attachments).length>0?(p(),v("div",a$,[(p(!0),v(_e,null,Ee(T(i.value.attachments),Te=>(p(),v("div",{key:Te.filename,class:"relative group cursor-pointer",onClick:dt=>R(Te)},[s("video",{src:C(Te.file_path),class:"w-full h-48 object-cover rounded-md border border-gray-200 hover:border-gray-300 transition-colors",preload:"metadata",onError:te},null,40,i$),V[18]||(V[18]=s("div",{class:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center rounded-md"},[s("svg",{class:"w-12 h-12 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[s("path",{d:"M8 5v14l11-7z"})])],-1)),s("div",d$,E(x(Te.file_size)),1)],8,l$))),128))])):N("",!0),$(i.value.attachments).length>0?(p(),v("div",u$,[(p(!0),v(_e,null,Ee($(i.value.attachments),Te=>(p(),v("div",{key:Te.filename,class:"flex items-center space-x-3 p-2 bg-white rounded-md border border-gray-200 hover:border-gray-300 transition-colors"},[V[20]||(V[20]=s("div",{class:"flex-shrink-0"},[s("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),s("div",c$,[s("p",f$,E(Te.original_filename),1),s("p",p$,E(x(Te.file_size))+"  "+E(Te.file_type.toUpperCase()),1)]),s("button",{onClick:dt=>B(Te),class:"p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Download file"},V[19]||(V[19]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)]),8,m$)]))),128))])):N("",!0)])):N("",!0),s("div",g$,[s("div",v$,[s("span",null,E(q.value)+" replies",1),s("span",null,E(i.value.views||0)+" views",1),s("span",null,E(i.value.likes_count||0)+" likes",1)]),s("div",h$,[s("button",{onClick:st,class:ue(["flex items-center space-x-1 px-3 py-1 rounded-md text-sm transition-colors duration-200 whitespace-nowrap",i.value.is_liked?"text-red-600 bg-red-50":"text-gray-500 hover:text-red-600 hover:bg-red-50"])},[(p(),v("svg",{class:"w-4 h-4",fill:i.value.is_liked?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 20 20"},V[21]||(V[21]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"},null,-1)]),8,y$)),s("span",null,E(i.value.is_liked?"Unlike":"Like"),1)],2)])])]),i.value.poll_question?(p(),v("div",x$,[s("div",b$,[s("div",w$,[V[22]||(V[22]=s("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),s("span",_$,"Poll: "+E(i.value.poll_question),1)]),s("div",C$,[(p(!0),v(_e,null,Ee(i.value.poll_options,(Te,dt)=>(p(),v("div",{key:dt,class:ue(["flex items-center justify-between p-3 rounded-md border transition-all duration-200 cursor-pointer",Y(i.value,dt)?"bg-green-50 border-green-300":i.value.poll_is_multiple_choice?"bg-blue-50 border-blue-200 hover:bg-blue-100":U(i.value)?"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60":"bg-blue-50 border-blue-200 hover:bg-blue-100"]),onClick:ps=>i.value.poll_is_multiple_choice||!U(i.value)?re(i.value,dt):null},[s("div",$$,[s("input",{type:i.value.poll_is_multiple_choice?"checkbox":"radio",name:"poll-"+i.value.id,value:Te,checked:Y(i.value,dt),disabled:!i.value.poll_is_multiple_choice&&U(i.value)&&!Y(i.value,dt),onClick:Ue(ps=>re(i.value,dt),["stop"]),class:"w-4 h-4 text-blue-600 focus:ring-blue-500 cursor-pointer"},null,8,S$),s("span",E$,E(Te),1),Y(i.value,dt)?(p(),v("div",A$,V[23]||(V[23]=[s("svg",{class:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),s("span",{class:"text-xs text-green-600 font-medium ml-1"},"Your vote",-1)]))):N("",!0)]),s("div",T$,[s("span",P$,E(Re(i.value,dt))+" votes ",1),s("div",R$,[s("div",{class:"h-full bg-blue-500 transition-all duration-300",style:ns({width:he(i.value,dt)+"%"})},null,4)])])],10,k$))),128))])])])):N("",!0),s("div",M$,[s("div",I$,[s("h2",O$," Replies ("+E(q.value)+") ",1)]),s("div",D$,[(p(!0),v(_e,null,Ee(Ve.value,Te=>{var dt,ps,Ao,To,Po,Cr,nn,an,ln,dn;return p(),v("div",{key:Te.id,id:`reply-${Te.id}`,class:"p-6"},[s("div",L$,[s("div",F$,[(dt=Te.user)!=null&&dt.avatar?(p(),v("img",{key:0,src:`${we.value}/storage/${Te.user.avatar}`,alt:Te.user.name,class:"w-full h-full object-cover"},null,8,N$)):(p(),v("span",B$,E((To=(Ao=(ps=Te.user)==null?void 0:ps.name)==null?void 0:Ao.charAt(0))==null?void 0:To.toUpperCase()),1))]),s("div",U$,[s("div",V$,[s("div",null,[s("p",H$,E((Po=Te.user)==null?void 0:Po.name),1),s("p",z$,E(Z(Te.created_at)),1)]),Se(Te)?(p(),v("div",W$,[s("button",{onClick:kr=>me(Te),class:"text-gray-400 hover:text-gray-600 p-1",title:"Edit reply"},V[24]||(V[24]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,K$),s("button",{onClick:kr=>ce(Te.id),class:"text-gray-400 hover:text-red-600 p-1",title:"Delete reply"},V[25]||(V[25]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,G$)])):N("",!0)]),s("div",q$,[s("div",{innerHTML:be(Te.content),class:"text-gray-700"},null,8,Y$)]),s("div",X$,[s("div",J$,[s("button",{onClick:kr=>I(Te),class:ue(["flex items-center space-x-1 transition-colors duration-200",Te.is_liked?"text-red-600":"text-gray-500 hover:text-red-600"])},[(p(),v("svg",{class:"w-4 h-4",fill:Te.is_liked?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 20 20"},V[26]||(V[26]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"},null,-1)]),8,Z$)),s("span",null,E(Te.upvotes||0),1)],10,Q$),s("button",{onClick:kr=>W(Te),disabled:(Cr=i.value)==null?void 0:Cr.is_locked,class:ue(["flex items-center space-x-1 transition-colors duration-200",(nn=i.value)!=null&&nn.is_locked?"text-gray-400 cursor-not-allowed":"hover:text-primary-600"]),title:(an=i.value)!=null&&an.is_locked?"Cannot reply to locked discussion":"Reply to this message"},V[27]||(V[27]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1),s("span",null,"Reply",-1)]),10,e9)])])])]),$e(Te.id).length>0?(p(),v("div",t9,[pe(E7,{replies:$e(Te.id),"all-replies":d.value,level:2,"expanded-nested":ze.value,"is-topic-locked":(ln=i.value)==null?void 0:ln.is_locked,"storage-url":we.value,"topic-id":(dn=i.value)==null?void 0:dn.id,onToggleReplies:ge,onLikeReply:I,onOpenReplyModal:W,onEditReply:me,onDeleteReply:ce,onReplyAdded:ae},null,8,["replies","all-replies","expanded-nested","is-topic-locked","storage-url","topic-id"])])):N("",!0)],8,j$)}),128))]),d.value.length===0?(p(),v("div",s9,V[28]||(V[28]=[s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1),s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No replies yet",-1),s("p",{class:"mt-1 text-sm text-gray-500"},"Be the first to reply to this topic.",-1)]))):N("",!0)]),s("div",o9,[s("h3",r9,E(f.parent_id?"Reply to Message":"Add Reply"),1),f.parent_id?(p(),v("div",n9,[V[29]||(V[29]=s("p",{class:"text-sm text-blue-800"},[s("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})]),de(" Replying to a specific message ")],-1)),s("button",{onClick:V[1]||(V[1]=Te=>f.parent_id=null),class:"mt-2 text-xs text-blue-600 hover:text-blue-800 underline"}," Cancel and post as new reply ")])):N("",!0),(ot=i.value)!=null&&ot.is_locked?(p(),v("div",a9,V[30]||(V[30]=[ft('<div class="flex items-center"><svg class="w-5 h-5 text-red-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg><div><h3 class="text-sm font-medium text-red-800">Discussion Locked</h3><p class="text-sm text-red-600 mt-1">This discussion is locked and cannot receive new replies.</p></div></div>',1)]))):N("",!0),(rt=i.value)!=null&&rt.is_locked?N("",!0):(p(),v("form",{key:2,onSubmit:Ue(Xe,["prevent"])},[s("div",l9,[V[31]||(V[31]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Your Reply",-1)),xe(s("textarea",{"onUpdate:modelValue":V[2]||(V[2]=Te=>f.content=Te),rows:"6",required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":u.content}]),placeholder:"Write your reply..."},null,2),[[Pe,f.content]]),u.content?(p(),v("p",i9,E(u.content),1)):N("",!0)]),s("div",d9,[s("button",{type:"submit",disabled:n.value,class:"btn btn-primary w-fit"},[n.value?(p(),v("span",c9)):N("",!0),de(" "+E(n.value?"Posting...":"Post Reply"),1)],8,u9)])],32))])])):(p(),v("div",f9,[V[33]||(V[33]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),V[34]||(V[34]=s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Topic not found",-1)),V[35]||(V[35]=s("p",{class:"mt-1 text-sm text-gray-500"},"The topic you're looking for doesn't exist or has been removed.",-1)),s("div",p9,[pe(Me,{to:"/forum",class:"btn btn-primary w-fit"},{default:ke(()=>V[32]||(V[32]=[de(" Back to Forum ",-1)])),_:1,__:[32]})])]))]),c.value?(p(),v("div",m9,[s("div",g9,[s("div",{class:"flex items-center justify-between p-4 border-b border-gray-200"},[V[37]||(V[37]=s("h3",{class:"text-lg font-semibold text-gray-900"},"Reply to Message (DEBUG: Modal is showing!)",-1)),s("button",{onClick:H,class:"text-gray-400 hover:text-gray-600 transition-colors"},V[36]||(V[36]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("div",v9,[s("div",h9,[s("div",y9,[s("div",x9,[(So=(zt=m.value)==null?void 0:zt.user)!=null&&So.avatar?(p(),v("img",{key:0,src:`${we.value}/storage/${m.value.user.avatar}`,alt:m.value.user.name,class:"w-full h-full object-cover"},null,8,b9)):(p(),v("span",w9,E((pa=(fa=(lo=(Eo=m.value)==null?void 0:Eo.user)==null?void 0:lo.name)==null?void 0:fa.charAt(0))==null?void 0:pa.toUpperCase()),1))]),s("div",_9,[s("div",C9,[s("div",null,[s("p",k9,E((ma=(xr=m.value)==null?void 0:xr.user)==null?void 0:ma.name),1),s("p",$9,E(Z((Qo=m.value)==null?void 0:Qo.created_at)),1)])]),s("div",S9,[s("div",{innerHTML:be((Zo=m.value)==null?void 0:Zo.content),class:"text-gray-700"},null,8,E9)]),s("div",A9,[s("button",{onClick:V[3]||(V[3]=Te=>I(m.value)),class:ue(["flex items-center space-x-1 transition-colors duration-200",(er=m.value)!=null&&er.is_liked?"text-red-600":"text-gray-500 hover:text-red-600"])},[(p(),v("svg",{class:"w-4 h-4",fill:(ga=m.value)!=null&&ga.is_liked?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 20 20"},V[38]||(V[38]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"},null,-1)]),8,T9)),s("span",null,E(((Ts=m.value)==null?void 0:Ts.upvotes)||0),1)],2)])])])]),L((br=m.value)==null?void 0:br.id).length>0?(p(),v("div",P9,[V[40]||(V[40]=s("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Replies to this message",-1)),s("div",R9,[(p(!0),v(_e,null,Ee(L((va=m.value)==null?void 0:va.id),Te=>{var dt,ps,Ao,To,Po;return p(),v("div",{key:Te.id,class:"flex items-start space-x-3"},[s("div",M9,[(dt=Te.user)!=null&&dt.avatar?(p(),v("img",{key:0,src:`${we.value}/storage/${Te.user.avatar}`,alt:Te.user.name,class:"w-full h-full object-cover"},null,8,I9)):(p(),v("span",O9,E((To=(Ao=(ps=Te.user)==null?void 0:ps.name)==null?void 0:Ao.charAt(0))==null?void 0:To.toUpperCase()),1))]),s("div",D9,[s("div",j9,[s("div",null,[s("p",L9,E((Po=Te.user)==null?void 0:Po.name),1),s("p",F9,E(Z(Te.created_at)),1)])]),s("div",N9,[s("div",{innerHTML:be(Te.content),class:"text-sm text-gray-700"},null,8,B9)]),s("div",U9,[s("button",{onClick:Cr=>I(Te),class:ue(["flex items-center space-x-1 transition-colors duration-200",Te.is_liked?"text-red-600":"text-gray-500 hover:text-red-600"])},[(p(),v("svg",{class:"w-3 h-3",fill:Te.is_liked?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 20 20"},V[39]||(V[39]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"},null,-1)]),8,H9)),s("span",null,E(Te.upvotes||0),1)],10,V9)])])])}),128))])])):N("",!0),s("div",z9,[s("form",{onSubmit:Ue(K,["prevent"])},[s("div",W9,[V[41]||(V[41]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Your Reply",-1)),xe(s("textarea",{"onUpdate:modelValue":V[4]||(V[4]=Te=>y.content=Te),rows:"4",required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":k.content}]),placeholder:"Write your reply..."},null,2),[[Pe,y.content]]),k.content?(p(),v("p",K9,E(k.content),1)):N("",!0)]),s("div",G9,[s("button",{type:"button",onClick:H,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500"}," Cancel "),s("button",{type:"submit",disabled:g.value,class:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50"},[g.value?(p(),v("span",Y9)):N("",!0),de(" "+E(g.value?"Posting...":"Post Reply"),1)],8,q9)])],32)])])])])):N("",!0),S.value?(p(),v("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:M},[s("div",{class:"max-w-6xl max-h-[90vh] w-full mx-4",onClick:V[6]||(V[6]=Ue(()=>{},["stop"]))},[s("div",X9,[s("div",J9,[s("h3",Q9,[de(E((rn=w.value)==null?void 0:rn.original_filename)+" ",1),_.value.length>1?(p(),v("span",Z9," ("+E(b.value+1)+" of "+E(_.value.length)+") ",1)):N("",!0)]),s("button",{onClick:M,class:"text-gray-400 hover:text-gray-600"},V[42]||(V[42]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("div",eS,[_.value.length>1?(p(),v("button",{key:0,onClick:J,disabled:b.value===0,class:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10 p-2 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-70 disabled:opacity-30 disabled:cursor-not-allowed transition-all"},V[43]||(V[43]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),8,tS)):N("",!0),_.value.length>1?(p(),v("button",{key:1,onClick:D,disabled:b.value===_.value.length-1,class:"absolute right-4 top-1/2 transform -translate-y-1/2 z-10 p-2 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-70 disabled:opacity-30 disabled:cursor-not-allowed transition-all"},V[44]||(V[44]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,sS)):N("",!0),s("img",{src:C((io=w.value)==null?void 0:io.file_path),alt:(ha=w.value)==null?void 0:ha.original_filename,class:"max-w-full max-h-[70vh] object-contain mx-auto",onError:X},null,40,oS)]),_.value.length>1?(p(),v("div",rS,[s("div",nS,[(p(!0),v(_e,null,Ee(_.value,(Te,dt)=>(p(),v("button",{key:Te.filename,onClick:ps=>G(dt),class:ue(["flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-all",dt===b.value?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"])},[s("img",{src:C(Te.file_path),alt:Te.original_filename,class:"w-full h-full object-cover"},null,8,lS)],10,aS))),128))])])):N("",!0),s("div",iS,[s("div",dS,E(x((tr=w.value)==null?void 0:tr.file_size))+"  "+E((_r=(wr=w.value)==null?void 0:wr.file_type)==null?void 0:_r.toUpperCase()),1),s("button",{onClick:V[5]||(V[5]=Te=>B(w.value)),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Download ")])])])])):N("",!0),h.value?(p(),v("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:M},[s("div",{class:"max-w-4xl max-h-[90vh] w-full mx-4",onClick:V[8]||(V[8]=Ue(()=>{},["stop"]))},[s("div",uS,[s("div",cS,[s("h3",fS,E((Q=w.value)==null?void 0:Q.original_filename),1),s("button",{onClick:M,class:"text-gray-400 hover:text-gray-600"},V[45]||(V[45]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("div",pS,[s("video",{src:C((O=w.value)==null?void 0:O.file_path),controls:"",class:"max-w-full max-h-[70vh] mx-auto",onError:te}," Your browser does not support the video tag. ",40,mS)]),s("div",gS,[s("div",vS,E(x((je=w.value)==null?void 0:je.file_size))+"  "+E((Ze=(nt=w.value)==null?void 0:nt.file_type)==null?void 0:Ze.toUpperCase()),1),s("button",{onClick:V[7]||(V[7]=Te=>B(w.value)),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Download ")])])])])):N("",!0)])}}};const yS={class:"toolbar border border-gray-300 rounded-t-md bg-gray-50 p-2 flex flex-wrap gap-1"},xS=["data-placeholder"],bS={class:"text-sm text-gray-500 mt-2 text-right"},wS={__name:"RichTextEditor",props:{modelValue:String,default:""},emits:["update:modelValue"],setup(e,{expose:t,emit:o}){const r=e,a=o,l=j(null),n=Ne(()=>l.value?l.value.textContent.length:0),i=(T,$)=>{$&&($.preventDefault(),$.stopPropagation()),document.execCommand(T,!1,null),l.value.focus()},d=T=>{T&&(T.preventDefault(),T.stopPropagation());const $=prompt("Enter URL:");$&&(i("createLink"),document.execCommand("createLink",!1,$))},f=T=>{T&&(T.preventDefault(),T.stopPropagation());const $=prompt("Enter image URL:");if($){const x=`<img src="${$}" class="max-w-full h-auto rounded" />`;document.execCommand("insertHTML",!1,x)}},u=()=>{if(l.value){const T=l.value.innerHTML,$=l.value.textContent;if(console.log("=== Editor Input Event ==="),console.log("HTML content:",T),console.log("Text content:",$),console.log("Content length:",T.length),console.log("Text length:",$.length),T.includes("")||T.includes("")||T.includes("")){console.warn(" DETECTED CORRUPTED CONTENT!"),console.warn("Content contains RTL markers:",{"":T.includes(""),"":T.includes(""),"":T.includes("")});const S=m(T);console.log("Sanitized content:",S),l.value.innerHTML=S,c()}c();const x=m(T);a("update:modelValue",x)}},c=()=>{l.value&&l.value.querySelectorAll("*").forEach($=>{$.style.direction="ltr",$.style.textAlign="left",$.style.unicodeBidi="normal"})},m=T=>T?T.replace(/[\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,"").replace(/dir="rtl"/gi,'dir="ltr"').replace(/style="[^"]*direction:\s*rtl[^"]*"/gi,'style="direction: ltr; text-align: left;"'):"",g=T=>{T.preventDefault();const $=T.clipboardData.getData("text/plain");document.execCommand("insertText",!1,$)},y=T=>{T.key==="Tab"&&(T.preventDefault(),document.execCommand("insertHTML",!1,"&nbsp;&nbsp;&nbsp;&nbsp;")),!(T.key==="Enter"&&T.ctrlKey)&&T.key==="Enter"&&T.stopPropagation()},k=()=>{if(l.value&&(l.value.style.direction="ltr",l.value.style.textAlign="left",l.value.textContent.trim())){const T=document.createRange(),$=window.getSelection();T.selectNodeContents(l.value),T.collapse(!1),$.removeAllRanges(),$.addRange(T)}},C=()=>{l.value&&!l.value.textContent.trim()&&(l.value.innerHTML="")},A=()=>{if(l.value){if(l.value.innerHTML="",r.modelValue){const T=m(r.modelValue);l.value.innerHTML=T}l.value.style.direction="ltr",l.value.style.textAlign="left",c()}};return xt(()=>r.modelValue,(T,$)=>{var x;if(console.log("=== External Content Change ==="),console.log("Old value:",$),console.log("New value:",T),console.log("Current editor content:",(x=l.value)==null?void 0:x.innerHTML),l.value&&T!==l.value.innerHTML){const S=m(T);console.log("Sanitized value:",S),l.value.innerHTML=S||"",c(),console.log("Editor content after update:",l.value.innerHTML)}},{immediate:!0}),it(()=>{if(A(),l.value){l.value.setAttribute("dir","ltr"),l.value.setAttribute("lang","en"),l.value.addEventListener("keydown",x=>{x.key==="Enter"&&(x.stopPropagation(),setTimeout(()=>{c()},10)),x.key===" "&&setTimeout(()=>{c()},10)}),l.value.addEventListener("submit",x=>(x.preventDefault(),x.stopPropagation(),!1));const T=x=>{if(x.type==="submit")return x.preventDefault(),x.stopPropagation(),!1},$=l.value.closest(".rich-text-editor");$&&($.addEventListener("submit",T,!0),$.addEventListener("click",x=>{x.target.tagName==="BUTTON"&&x.target.type!=="submit"&&(x.preventDefault(),x.stopPropagation())},!0)),setInterval(()=>{if(l.value&&l.value.innerHTML){const x=l.value.innerHTML;if(x.includes("")||x.includes("")||x.includes("")){console.warn("Periodic check: Found corrupted content, fixing...");const S=m(x);l.value.innerHTML=S,c()}}},5e3)}}),t({clearContent:()=>{l.value&&(l.value.innerHTML="")},getContent:()=>l.value?l.value.innerHTML:"",setContent:T=>{if(l.value){const $=m(T);l.value.innerHTML=$||"",l.value.style.direction="ltr",l.value.style.textAlign="left",c()}},refresh:()=>{if(l.value){const T=l.value.innerHTML;l.value.innerHTML="",setTimeout(()=>{l.value.innerHTML=T,l.value.style.direction="ltr",l.value.style.textAlign="left",c()},10)}}}),(T,$)=>(p(),v("div",{class:"rich-text-editor",onSubmit:$[7]||($[7]=Ue(()=>{},["prevent"]))},[s("div",yS,[s("button",{type:"button",onClick:$[0]||($[0]=Ue(x=>i("bold",x),["prevent"])),class:"p-2 rounded hover:bg-gray-200",title:"Bold"},"B"),s("button",{type:"button",onClick:$[1]||($[1]=Ue(x=>i("italic",x),["prevent"])),class:"p-2 rounded hover:bg-gray-200",title:"Italic"},"I"),s("button",{type:"button",onClick:$[2]||($[2]=Ue(x=>i("underline",x),["prevent"])),class:"p-2 rounded hover:bg-gray-200",title:"Underline"},"U"),s("button",{type:"button",onClick:$[3]||($[3]=Ue(x=>i("insertUnorderedList",x),["prevent"])),class:"p-2 rounded hover:bg-gray-200",title:"List"},""),s("button",{type:"button",onClick:$[4]||($[4]=Ue(x=>d(x),["prevent"])),class:"p-2 rounded hover:bg-gray-200",title:"Link"},""),s("button",{type:"button",onClick:$[5]||($[5]=Ue(x=>f(x),["prevent"])),class:"p-2 rounded hover:bg-gray-200",title:"Image"},"")]),s("div",{ref_key:"editor",ref:l,class:"editor-content border border-t-0 border-gray-300 rounded-b-md p-4 min-h-48 focus:outline-none focus:ring-2 focus:ring-blue-500",contenteditable:"true",onInput:u,onPaste:g,onKeydown:y,onFocus:k,onBlur:C,onSubmit:$[6]||($[6]=Ue(()=>{},["prevent"])),"data-placeholder":r.placeholder||"Start writing..."},null,40,xS),s("div",bS,E(n.value)+" characters ",1)],32))}},Lm=Kt(wS,[["__scopeId","data-v-f7772895"]]);async function _S(e,t={}){return new Promise((o,r)=>{const a=new Image,l=document.createElement("canvas"),n=l.getContext("2d");a.onload=()=>{try{l.width=a.width,l.height=a.height,n.drawImage(a,0,0);const d=n.getImageData(0,0,l.width,l.height),f=d.data,u=CS(f,t);d.data.set(u),n.putImageData(d,0,0),l.toBlob(c=>{c?o(c):r(new Error("Failed to create enhanced image blob"))},e.type,.95)}catch(d){r(d)}},a.onerror=()=>{r(new Error("Failed to load image"))};const i=new FileReader;i.onload=d=>{a.src=d.target.result},i.readAsDataURL(e)})}function CS(e,t={}){const{brightness:o=1.1,contrast:r=1.2,saturation:a=1.15,sharpness:l=.3,gamma:n=.9,noiseReduction:i=!0,autoLevels:d=!0}=t,f=new Uint8ClampedArray(e),u=e.length;if(d){const{min:c,max:m}=kS(e),g=m-c;for(let y=0;y<u;y+=4)f[y]=Math.max(0,Math.min(255,(e[y]-c)/g*255)),f[y+1]=Math.max(0,Math.min(255,(e[y+1]-c)/g*255)),f[y+2]=Math.max(0,Math.min(255,(e[y+2]-c)/g*255))}for(let c=0;c<u;c+=4){let m=f[c],g=f[c+1],y=f[c+2];m=Math.pow(m/255,n)*255,g=Math.pow(g/255,n)*255,y=Math.pow(y/255,n)*255,m=m*o,g=g*o,y=y*o,m=(m-128)*r+128,g=(g-128)*r+128,y=(y-128)*r+128;const k=.299*m+.587*g+.114*y;m=k+a*(m-k),g=k+a*(g-k),y=k+a*(y-k),f[c]=Math.max(0,Math.min(255,m)),f[c+1]=Math.max(0,Math.min(255,g)),f[c+2]=Math.max(0,Math.min(255,y))}return l>0&&$S(f,canvas.width,canvas.height,l),i&&SS(f,canvas.width,canvas.height),f}function kS(e){let t=255,o=0;for(let r=0;r<e.length;r+=4){const a=e[r],l=e[r+1],n=e[r+2],i=(a+l+n)/3;t=Math.min(t,i),o=Math.max(o,i)}return{min:t,max:o}}function $S(e,t,o,r){const a=[0,-r,0,-r,1+4*r,-r,0,-r,0],l=new Uint8ClampedArray(e);for(let n=1;n<o-1;n++)for(let i=1;i<t-1;i++){const d=(n*t+i)*4;for(let f=0;f<3;f++){let u=0;for(let c=-1;c<=1;c++)for(let m=-1;m<=1;m++){const g=((n+c)*t+(i+m))*4+f,y=(c+1)*3+(m+1);u+=e[g]*a[y]}l[d+f]=Math.max(0,Math.min(255,u))}}for(let n=0;n<e.length;n++)e[n]=l[n]}function SS(e,t,o){const r=new Uint8ClampedArray(e),a=1;for(let l=a;l<o-a;l++)for(let n=a;n<t-a;n++){const i=(l*t+n)*4;for(let d=0;d<3;d++){let f=0,u=0;for(let c=-a;c<=a;c++)for(let m=-a;m<=a;m++){const g=((l+c)*t+(n+m))*4+d;f+=e[g],u++}r[i+d]=f/u}}for(let l=0;l<e.length;l++)e[l]=r[l]}function ES(e){return!(!e.type.startsWith("image/")||e.size<10240||e.size>5*1024*1024)}function AS(e){const o=e.size<500*1024;return{brightness:o?1.15:1.1,contrast:o?1.3:1.2,saturation:o?1.2:1.15,sharpness:o?.4:.3,gamma:o?.85:.9,noiseReduction:o,autoLevels:!0}}const TS={class:"file-upload"},PS={class:"upload-area border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors"},RS={key:1,class:"space-y-3"},MS={class:"flex items-center space-x-4"},IS=["onClick"],OS=["src","alt"],DS={key:0,class:"absolute top-1 right-1 bg-green-500 text-white text-xs px-1 py-0.5 rounded-full",title:"Auto-enhanced for better visibility"},jS={key:1,class:"w-16 h-16 flex-shrink-0 video-preview"},LS=["src"],FS=["src","type"],NS={key:2,class:"w-10 h-10 bg-gray-200 rounded flex items-center justify-center"},BS={class:"text-gray-500 text-xs"},US={class:"text-sm font-medium text-gray-900 truncate max-w-xs"},VS={class:"text-xs text-gray-500"},HS={class:"flex items-center space-x-2"},zS={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"},WS={key:1,class:"text-green-500"},KS=["onClick","disabled"],GS={key:0,class:"mt-2 text-sm text-red-600"},qS={class:"bg-white rounded-lg overflow-hidden"},YS={class:"flex items-center justify-between p-4 border-b"},XS={class:"text-lg font-medium text-gray-900"},JS={class:"p-4"},QS=["src","alt"],ZS={__name:"FileUpload",props:{maxFiles:{type:Number,default:5},maxFileSize:{type:Number,default:10*1024*1024},autoEnhance:{type:Boolean,default:!0}},emits:["files-selected","files-removed"],setup(e,{expose:t,emit:o}){const r=e,a=o,l=j(null),n=j([]),i=j(""),d=j(!1),f=j(""),u=j(""),c=()=>{l.value.click()},m=S=>{const h=Array.from(S.target.files);if(i.value="",n.value.length+h.length>r.maxFiles){i.value=`Maximum ${r.maxFiles} files allowed`;return}h.forEach(w=>{if(w.size>r.maxFileSize){i.value=`File ${w.name} is too large. Maximum size is ${k(r.maxFileSize)}`;return}if(!y(w)){i.value=`File type not supported for ${w.name}`;return}const _={file:w,name:w.name,size:w.size,type:w.type,isImage:w.type.startsWith("image/"),isVideo:w.type.startsWith("video/"),uploading:!1,uploaded:!1,preview:null,enhanced:!1,originalFile:w};if(_.isImage)if(r.autoEnhance&&ES(w))$(_);else{const b=new FileReader;b.onload=P=>{_.preview=P.target.result},b.readAsDataURL(w)}if(_.isVideo){const b=new FileReader;b.onload=P=>{_.preview=P.target.result},b.readAsDataURL(w)}n.value.push(_)}),a("files-selected",n.value),S.target.value=""},g=S=>{const h=n.value[S];n.value.splice(S,1),a("files-removed",n.value,h)},y=S=>["image/jpeg","image/png","image/gif","image/webp","video/mp4","video/webm","video/ogg","video/quicktime","video/x-msvideo","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","text/csv"].includes(S.type),k=S=>{if(S===0)return"0 Bytes";const h=1024,w=["Bytes","KB","MB","GB"],_=Math.floor(Math.log(S)/Math.log(h));return parseFloat((S/Math.pow(h,_)).toFixed(2))+" "+w[_]},C=S=>S.split(".").pop().toUpperCase(),A=(S,h)=>{f.value=S,u.value=h,d.value=!0},T=()=>{d.value=!1,f.value="",u.value=""},$=async S=>{try{const h=AS(S.originalFile),w=await _S(S.originalFile,h),_=new File([w],S.name,{type:S.type,lastModified:Date.now()});S.file=_,S.enhanced=!0,S.size=w.size;const b=new FileReader;b.onload=P=>{S.preview=P.target.result},b.readAsDataURL(w)}catch(h){console.warn("Image enhancement failed, using original:",h);const w=new FileReader;w.onload=_=>{S.preview=_.target.result},w.readAsDataURL(S.originalFile)}};return t({uploadFiles:async()=>{const S=n.value.map(async h=>{if(h.uploaded)return h;h.uploading=!0;try{return await new Promise(w=>setTimeout(w,1e3)),h.uploading=!1,h.uploaded=!0,h}catch(w){throw h.uploading=!1,w}});try{return await Promise.all(S),n.value}catch(h){throw console.error("Upload failed:",h),h}},files:Ne(()=>n.value)}),(S,h)=>(p(),v("div",TS,[s("div",PS,[s("input",{ref_key:"fileInput",ref:l,type:"file",multiple:"",onChange:m,class:"hidden",accept:"image/*,video/*,.pdf,.doc,.docx,.txt,.csv"},null,544),n.value.length?(p(),v("div",RS,[(p(!0),v(_e,null,Ee(n.value,(w,_)=>(p(),v("div",{key:_,class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},[s("div",MS,[w.isImage?(p(),v("div",{key:0,class:"w-16 h-16 flex-shrink-0 cursor-pointer group relative",onClick:b=>A(w.preview,w.name)},[s("img",{src:w.preview,alt:w.name,class:"w-full h-full object-cover rounded border border-gray-200 group-hover:border-primary-300 transition-colors duration-200"},null,8,OS),w.enhanced?(p(),v("div",DS,"  ")):N("",!0)],8,IS)):w.isVideo?(p(),v("div",jS,[s("video",{src:w.preview,class:"w-full h-full object-cover rounded border border-gray-200",muted:""},[s("source",{src:w.preview,type:w.type},null,8,FS)],8,LS)])):(p(),v("div",NS,[s("span",BS,E(C(w.name)),1)])),s("div",null,[s("p",US,E(w.name),1),s("p",VS,E(k(w.size)),1)])]),s("div",HS,[w.uploading?(p(),v("div",zS)):w.uploaded?(p(),v("div",WS,h[2]||(h[2]=[s("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))):N("",!0),s("button",{onClick:b=>g(_),class:"text-red-500 hover:text-red-700",disabled:w.uploading},h[3]||(h[3]=[s("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),8,KS)])]))),128)),s("button",{type:"button",onClick:c,class:"mt-3 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors"}," Add More Files ")])):(p(),v("div",{key:0,onClick:c,class:"cursor-pointer"},h[1]||(h[1]=[ft('<svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" data-v-21d99097><path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-21d99097></path></svg><p class="mt-1 text-sm text-gray-600" data-v-21d99097><span class="font-medium text-primary-600 hover:text-primary-500" data-v-21d99097>Click to upload</span> or drag and drop </p><p class="mt-1 text-xs text-gray-500" data-v-21d99097> Images, videos, PDFs, documents up to 10MB </p>',3)])))]),i.value?(p(),v("div",GS,E(i.value),1)):N("",!0),d.value?(p(),v("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:T},[s("div",{class:"max-w-4xl max-h-[90vh] w-full mx-4",onClick:h[0]||(h[0]=Ue(()=>{},["stop"]))},[s("div",qS,[s("div",YS,[s("h3",XS,E(u.value),1),s("button",{onClick:T,class:"text-gray-400 hover:text-gray-600"},h[4]||(h[4]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("div",JS,[s("img",{src:f.value,alt:u.value,class:"max-w-full max-h-[70vh] object-contain mx-auto"},null,8,QS)])])])])):N("",!0)]))}},Fm=Kt(ZS,[["__scopeId","data-v-21d99097"]]);const eE={class:"poll-creator"},tE={class:"border border-gray-300 rounded-lg p-4"},sE={class:"flex items-center justify-between mb-4"},oE={key:0,class:"space-y-4"},rE={class:"mt-1 text-xs text-gray-500"},nE={class:"space-y-2"},aE=["onUpdate:modelValue","placeholder"],lE=["onClick"],iE={class:"space-y-3"},dE={class:"flex items-center"},uE={key:0,class:"text-sm text-red-600"},cE={class:"list-disc list-inside space-y-1"},fE={class:"pt-4 border-t border-gray-200"},pE=["disabled"],mE={__name:"PollCreator",props:{modelValue:{type:Object,default:()=>({question:"",options:["",""],is_multiple_choice:!1,expires_at:""})}},emits:["update:modelValue","poll-validated"],setup(e,{expose:t,emit:o}){const r=e,a=o,l=j(!1),n=j({question:"",options:["",""],is_multiple_choice:!1,expires_at:""}),i=j([]);xt(()=>r.modelValue,g=>{g&&(n.value={...g},l.value=!!g.question)},{immediate:!0}),xt(n,(g,y)=>{(g.question||g.options.some(k=>k.trim().length>0))&&(a("update:modelValue",g),c())},{deep:!0});const d=()=>{l.value=!l.value,l.value||(n.value={question:"",options:["",""],is_multiple_choice:!1,expires_at:""},i.value=[])},f=()=>{n.value.options.length<10&&n.value.options.push("")},u=g=>{n.value.options.length>2&&n.value.options.splice(g,1)},c=()=>{if(i.value=[],!l.value){a("poll-validated",{isValid:!0,data:null});return}n.value.question.trim()||i.value.push("Poll question is required"),n.value.question.length>500&&i.value.push("Poll question must be 500 characters or less");const g=n.value.options.filter(C=>C.trim().length>0);g.length<2&&i.value.push("At least 2 poll options are required"),g.length>10&&i.value.push("Maximum 10 poll options allowed"),new Set(g.map(C=>C.trim().toLowerCase())).size!==g.length&&i.value.push("Poll options must be unique");for(let C=0;C<n.value.options.length;C++){const A=n.value.options[C];A.trim()&&A.length>200&&i.value.push(`Option ${C+1} must be 200 characters or less`)}if(n.value.expires_at&&n.value.expires_at.trim()){const C=new Date(n.value.expires_at),A=new Date;isNaN(C.getTime())?i.value.push("Poll expiry date is invalid"):C<=A&&i.value.push("Poll expiry must be in the future")}const k=i.value.length===0;a("poll-validated",{isValid:k,data:k?n.value:null})},m=()=>{if(c(),i.value.length===0){a("update:modelValue",n.value),a("poll-validated",{isValid:!0,data:n.value});const g=new CustomEvent("poll-saved",{detail:{message:"Poll saved successfully!"}});window.dispatchEvent(g)}};return t({showPoll:Ne(()=>l.value),pollData:Ne(()=>n.value),validatePoll:c}),(g,y)=>(p(),v("div",eE,[s("div",tE,[s("div",sE,[y[3]||(y[3]=s("h3",{class:"text-lg font-medium text-gray-900"},"Add a Poll",-1)),s("button",{type:"button",onClick:d,class:"text-sm text-gray-600 hover:text-gray-800"},E(l.value?"Remove Poll":"Add Poll"),1)]),l.value?(p(),v("div",oE,[s("div",null,[y[4]||(y[4]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Poll Question * ",-1)),xe(s("input",{"onUpdate:modelValue":y[0]||(y[0]=k=>n.value.question=k),type:"text",placeholder:"What would you like to ask?",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",maxlength:"500"},null,512),[[Pe,n.value.question]]),s("p",rE,E(n.value.question.length)+"/500",1)]),s("div",null,[y[6]||(y[6]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Poll Options * ",-1)),s("div",nE,[(p(!0),v(_e,null,Ee(n.value.options,(k,C)=>(p(),v("div",{key:C,class:"flex items-center space-x-2"},[xe(s("input",{"onUpdate:modelValue":A=>n.value.options[C]=A,type:"text",placeholder:`Option ${C+1}`,class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",maxlength:"200"},null,8,aE),[[Pe,n.value.options[C]]]),n.value.options.length>2?(p(),v("button",{key:0,type:"button",onClick:A=>u(C),class:"p-2 text-red-500 hover:text-red-700",title:"Remove option"},y[5]||(y[5]=[s("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),8,lE)):N("",!0)]))),128))]),n.value.options.length<10?(p(),v("button",{key:0,type:"button",onClick:f,class:"mt-2 text-sm text-primary-600 hover:text-primary-700 font-medium"}," + Add Option ")):N("",!0)]),s("div",iE,[s("div",dE,[xe(s("input",{"onUpdate:modelValue":y[1]||(y[1]=k=>n.value.is_multiple_choice=k),type:"checkbox",id:"multiple-choice",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[bs,n.value.is_multiple_choice]]),y[7]||(y[7]=s("label",{for:"multiple-choice",class:"ml-2 block text-sm text-gray-900"}," Allow multiple choice voting ",-1))]),s("div",null,[y[8]||(y[8]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Poll Expiry (Optional) ",-1)),xe(s("input",{"onUpdate:modelValue":y[2]||(y[2]=k=>n.value.expires_at=k),type:"datetime-local",class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[Pe,n.value.expires_at]]),y[9]||(y[9]=s("p",{class:"mt-1 text-xs text-gray-500"}," Leave empty for no expiry ",-1))])]),i.value.length?(p(),v("div",uE,[s("ul",cE,[(p(!0),v(_e,null,Ee(i.value,k=>(p(),v("li",{key:k},E(k),1))),128))])])):N("",!0),s("div",fE,[s("button",{type:"button",onClick:m,disabled:i.value.length>0||!n.value.question.trim(),class:"w-full px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"},E(n.value.question.trim()?"Save Poll":"Complete Poll to Save"),9,pE)])])):N("",!0)])]))}},Nm=Kt(mE,[["__scopeId","data-v-696bfcf8"]]);const gE={class:"min-h-screen bg-gray-50 py-8"},vE={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},hE={class:"mb-8"},yE={class:"flex items-center justify-between"},xE={key:0,class:"flex justify-center py-12"},bE={key:1,class:"bg-white rounded-lg shadow-sm p-6"},wE={key:0,class:"mt-1 text-sm text-red-600"},_E=["value"],CE={key:0,class:"mt-1 text-sm text-red-600"},kE={key:0,class:"mt-1 text-sm text-red-600"},$E={class:"flex justify-end space-x-3 pt-6"},SE=["disabled"],EE={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},AE={key:2,class:"text-center py-12"},TE={class:"mt-6"},PE={__name:"ForumTopicEdit",setup(e){const t=fs(),o=kt(),r=Ot(),a=gt(),l=t.params.id,n=j(!0),i=j(!1),d=j(null),f=Ye({}),u=j([]),c=Ye({title:"",category:"",content:"",tagsInput:"",poll:{question:"",options:["",""],is_multiple_choice:!1,expires_at:""}}),m=j(null),g=j(!1),y=j(null),k=j(null),C=async()=>{var h;if(!r.isAuthenticated){a.info("Please log in to edit topics"),o.push("/auth/login");return}n.value=!0;try{const w=await Tt.getStandaloneTopic(l);if(w.data.status==="success"){const _=w.data.data;if(_.user_id!==((h=r.user)==null?void 0:h.id)&&!r.isInstructor&&!r.isAdmin){a.error("You do not have permission to edit this topic"),o.push(`/forum/topics/${l}`);return}d.value=_,c.title=_.title,c.category=_.category,c.content=_.content,c.tagsInput=Array.isArray(_.tags)?_.tags.join(", "):"",_.poll_question&&(c.poll.question=_.poll_question,c.poll.options=_.poll_options||["",""],c.poll.is_multiple_choice=_.poll_is_multiple_choice||!1,c.poll.expires_at=_.poll_expires_at||"",g.value=!0,y.value=c.poll)}else a.error("Failed to load topic"),o.push("/forum")}catch(w){console.error("Error fetching topic:",w),a.error("Failed to load topic"),o.push("/forum")}finally{n.value=!1}},A=async()=>{var h,w;if(!r.isAuthenticated){a.info("Please log in to edit topics"),o.push("/auth/login");return}i.value=!0,f.value={};try{const _=c.tagsInput.split(",").map(R=>R.trim()).filter(R=>R.length>0),b={title:c.title,category:c.category,content:c.content,tags:_};if(g.value&&y.value&&(b.poll_question=y.value.question,b.poll_options=y.value.options.filter(R=>R.trim().length>0),b.poll_is_multiple_choice=y.value.is_multiple_choice,b.poll_expires_at=y.value.expires_at||null),m.value&&m.value.files.length>0){const R=m.value.files.map(M=>{var D;return{filename:M.file.name,original_filename:M.file.name,file_path:`temp/${M.file.name}`,file_size:M.file.size,mime_type:M.file.type,file_type:M.file.name.split(".").pop(),is_image:M.file.type.startsWith("image/"),is_video:M.file.type.startsWith("video/"),thumbnail_path:null,uploaded_at:new Date().toISOString(),uploaded_by:(D=r.user)==null?void 0:D.id}});b.attachments=R}(await Tt.updateStandaloneTopic(l,b)).data.status==="success"?(a.success("Topic updated successfully!"),o.push(`/forum/topics/${l}`)):a.error("Failed to update topic")}catch(_){(w=(h=_.response)==null?void 0:h.data)!=null&&w.errors?f.value=_.response.data.errors:a.error("Failed to update topic")}finally{i.value=!1}},T=h=>{console.log("Files selected:",h)},$=(h,w)=>{console.log("File removed:",w)},x=({isValid:h,data:w})=>{g.value=h,y.value=w},S=async()=>{try{const h=await ql.getAll();h.data.status==="success"&&(u.value=h.data.data)}catch(h){console.error("Error fetching categories:",h),a.error("Failed to load categories")}};return it(()=>{S(),C()}),(h,w)=>{const _=lt("router-link");return p(),v("div",gE,[s("div",vE,[s("div",hE,[s("div",yE,[w[6]||(w[6]=s("div",null,[s("h1",{class:"text-3xl font-bold text-gray-900"},"Edit Forum Topic"),s("p",{class:"mt-2 text-gray-600"},"Update your forum topic")],-1)),pe(_,{to:`/forum/topics/${mt(l)}`,class:"btn btn-secondary"},{default:ke(()=>w[5]||(w[5]=[de(" Back to Topic ",-1)])),_:1,__:[5]},8,["to"])])]),n.value?(p(),v("div",xE,w[7]||(w[7]=[s("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)]))):d.value?(p(),v("div",bE,[s("form",{onSubmit:Ue(A,["prevent"]),class:"space-y-6"},[s("div",null,[w[8]||(w[8]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Title *",-1)),xe(s("input",{"onUpdate:modelValue":w[0]||(w[0]=b=>c.title=b),type:"text",required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":f.title}]),placeholder:"Enter topic title"},null,2),[[Pe,c.title]]),f.title?(p(),v("p",wE,E(f.title),1)):N("",!0)]),s("div",null,[w[10]||(w[10]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category *",-1)),xe(s("select",{"onUpdate:modelValue":w[1]||(w[1]=b=>c.category=b),required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":f.category}])},[w[9]||(w[9]=s("option",{value:""},"Select Category",-1)),(p(!0),v(_e,null,Ee(u.value,b=>(p(),v("option",{key:b.slug,value:b.slug},E(b.name),9,_E))),128))],2),[[_t,c.category]]),f.category?(p(),v("p",CE,E(f.category),1)):N("",!0)]),s("div",null,[w[11]||(w[11]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Content *",-1)),pe(Lm,{ref_key:"richTextEditor",ref:k,modelValue:c.content,"onUpdate:modelValue":w[2]||(w[2]=b=>c.content=b),placeholder:"Share your thoughts, questions, or start a discussion..."},null,8,["modelValue"]),f.content?(p(),v("p",kE,E(f.content),1)):N("",!0)]),s("div",null,[w[12]||(w[12]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Attachments (Optional)",-1)),w[13]||(w[13]=s("p",{class:"text-xs text-gray-500 mb-2"},"Support for images, videos, PDFs, and documents up to 10MB",-1)),pe(Fm,{ref_key:"fileUpload",ref:m,"max-files":5,"max-file-size":10*1024*1024,onFilesSelected:T,onFilesRemoved:$},null,512)]),pe(Nm,{modelValue:c.poll,"onUpdate:modelValue":w[3]||(w[3]=b=>c.poll=b),onPollValidated:x},null,8,["modelValue"]),s("div",null,[w[14]||(w[14]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tags (Optional)",-1)),xe(s("input",{"onUpdate:modelValue":w[4]||(w[4]=b=>c.tagsInput=b),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter tags separated by commas (e.g., javascript, vue, laravel)"},null,512),[[Pe,c.tagsInput]]),w[15]||(w[15]=s("p",{class:"mt-1 text-sm text-gray-500"},"Tags help others find your topic",-1))]),s("div",$E,[pe(_,{to:`/forum/topics/${mt(l)}`,class:"btn btn-secondary"},{default:ke(()=>w[16]||(w[16]=[de(" Cancel ",-1)])),_:1,__:[16]},8,["to"]),s("button",{type:"submit",disabled:i.value,class:"btn btn-primary"},[i.value?(p(),v("span",EE)):N("",!0),de(" "+E(i.value?"Updating...":"Update Topic"),1)],8,SE)])],32)])):(p(),v("div",AE,[w[18]||(w[18]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),w[19]||(w[19]=s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Topic not found",-1)),w[20]||(w[20]=s("p",{class:"mt-1 text-sm text-gray-500"},"The topic you're looking for doesn't exist or you don't have permission to edit it.",-1)),s("div",TE,[pe(_,{to:"/forum",class:"btn btn-primary"},{default:ke(()=>w[17]||(w[17]=[de(" Back to Forum ",-1)])),_:1,__:[17]})])]))])])}}},RE=Kt(PE,[["__scopeId","data-v-bba84069"]]);const ME={class:"min-h-screen bg-gray-50 py-8"},IE={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},OE={class:"mb-8"},DE={class:"flex items-center justify-between"},jE={class:"bg-white rounded-lg shadow-sm p-6"},LE={key:0,class:"mt-1 text-sm text-red-600"},FE=["value"],NE={key:0,class:"mt-1 text-sm text-red-600"},BE={key:0,class:"mt-1 text-sm text-red-600"},UE={class:"flex justify-end space-x-3 pt-6"},VE=["disabled"],HE={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},zE={__name:"ForumTopicCreate",setup(e){const t=kt(),o=Ot(),r=gt(),a=j(!1),l=Ye({}),n=j([]),i=Ye({title:"",category:"",content:"",tagsInput:"",poll:{question:"",options:["",""],is_multiple_choice:!1,expires_at:""}}),d=j(null),f=j(!1),u=j(null),c=j(null),m=async()=>{var $,x,S,h,w,_,b,P;if(!o.isAuthenticated){r.info("Please log in to create topics"),t.push("/auth/login");return}a.value=!0,l.value={};try{const R=i.tagsInput.split(",").map(J=>J.trim()).filter(J=>J.length>0),M={title:i.title,category:i.category,content:i.content,tags:R,is_draft:!1};f.value&&u.value&&(M.poll_question=u.value.question,M.poll_options=u.value.options.filter(J=>J.trim().length>0),M.poll_is_multiple_choice=u.value.is_multiple_choice,M.poll_expires_at=u.value.expires_at||null);const D=await Tt.createStandaloneTopic(M);if(D.data.status==="success"){const J=D.data.data;if(d.value&&d.value.files.length>0)try{const G=await g(J.id);console.log("Uploaded attachments:",G),console.log("All attachments uploaded successfully!")}catch(G){console.error("Failed to upload attachments:",G),console.error("Error details:",{message:G.message,response:($=G.response)==null?void 0:$.data,status:(x=G.response)==null?void 0:x.status,statusText:(S=G.response)==null?void 0:S.statusText}),r.warning("Topic created but some attachments failed to upload: "+(G.message||"Unknown error"))}r.success("Topic created successfully!"),t.push(`/forum/topics/${J.id}`)}else r.error("Failed to create topic")}catch(R){console.error("Error creating topic:",R),console.error("Error response:",(h=R.response)==null?void 0:h.data),(_=(w=R.response)==null?void 0:w.data)!=null&&_.errors?(l.value=R.response.data.errors,r.error("Validation errors: "+Object.values(R.response.data.errors).flat().join(", "))):(P=(b=R.response)==null?void 0:b.data)!=null&&P.message?r.error(R.response.data.message):r.error("Failed to create topic: "+(R.message||"Unknown error"))}finally{a.value=!1}},g=async $=>{var x,S,h,w;try{const _=d.value.files;console.log("Uploading attachments for topic:",$,"Files:",_);const b=[];for(const P of _){console.log("Uploading file:",P.file.name,"Size:",P.file.size,"Type:",P.file.type);const R=new FormData;R.append("file",P.file),console.log("Sending upload request to:",`/forums/topics/${$}/attachments`);const M=await Tt.uploadAttachment($,R);if(console.log("Upload response:",M),M.data.status==="success"){const D=M.data.data;console.log("Attachment data received:",D);const J={id:D.id,filename:D.filename||P.file.name,original_filename:D.original_filename||P.file.name,file_path:D.file_path||D.filename,file_size:D.file_size||P.file.size,mime_type:D.mime_type||P.file.type,file_type:D.file_type||P.file.name.split(".").pop(),is_image:D.is_image!==void 0?D.is_image:P.file.type.startsWith("image/"),is_video:D.is_video!==void 0?D.is_video:P.file.type.startsWith("video/"),thumbnail_path:D.thumbnail_path||null,uploaded_at:D.uploaded_at||new Date().toISOString(),uploaded_by:D.uploaded_by||((x=o.user)==null?void 0:x.id)};b.push(J),console.log("Added attachment to list:",J)}else console.error("Upload failed for file:",P.file.name,"Response:",M.data)}return console.log("All attachments uploaded:",b),b}catch(_){throw console.error("Failed to upload attachments:",_),console.error("Error details:",{message:_.message,response:(S=_.response)==null?void 0:S.data,status:(h=_.response)==null?void 0:h.status,statusText:(w=_.response)==null?void 0:w.statusText}),_}},y=$=>{console.log("Files selected:",$)},k=($,x)=>{console.log("File removed:",x)},C=({isValid:$,data:x})=>{f.value=$,u.value=x},A=async()=>{try{const $=await ql.getAll();$.data.status==="success"&&(n.value=$.data.data)}catch($){console.error("Error fetching categories:",$),r.error("Failed to load categories")}},T=$=>{r.success($.detail.message)};return it(()=>{if(!o.isAuthenticated){r.info("Please log in to create topics"),t.push("/auth/login");return}A(),window.addEventListener("poll-saved",T)}),sa(()=>{window.removeEventListener("poll-saved",T)}),($,x)=>{const S=lt("router-link");return p(),v("div",ME,[s("div",IE,[s("div",OE,[s("div",DE,[x[6]||(x[6]=s("div",null,[s("h1",{class:"text-3xl font-bold text-gray-900"},"Create New Topic"),s("p",{class:"mt-2 text-gray-600"},"Start a new discussion in the community forum")],-1)),pe(S,{to:"/forum",class:"btn btn-secondary"},{default:ke(()=>x[5]||(x[5]=[de(" Back to Forum ",-1)])),_:1,__:[5]})])]),s("div",jE,[s("form",{onSubmit:Ue(m,["prevent"]),class:"space-y-6"},[s("div",null,[x[7]||(x[7]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Title *",-1)),xe(s("input",{"onUpdate:modelValue":x[0]||(x[0]=h=>i.title=h),type:"text",required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":l.title}]),placeholder:"Enter topic title"},null,2),[[Pe,i.title]]),l.title?(p(),v("p",LE,E(l.title),1)):N("",!0)]),s("div",null,[x[9]||(x[9]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category *",-1)),xe(s("select",{"onUpdate:modelValue":x[1]||(x[1]=h=>i.category=h),required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":l.category}])},[x[8]||(x[8]=s("option",{value:""},"Select Category",-1)),(p(!0),v(_e,null,Ee(n.value,h=>(p(),v("option",{key:h.slug,value:h.slug},E(h.name),9,FE))),128))],2),[[_t,i.category]]),l.category?(p(),v("p",NE,E(l.category),1)):N("",!0)]),s("div",null,[x[10]||(x[10]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Content *",-1)),pe(Lm,{ref_key:"richTextEditor",ref:c,modelValue:i.content,"onUpdate:modelValue":x[2]||(x[2]=h=>i.content=h),placeholder:"Share your thoughts, questions, or start a discussion..."},null,8,["modelValue"]),l.content?(p(),v("p",BE,E(l.content),1)):N("",!0)]),s("div",null,[x[11]||(x[11]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Attachments (Optional)",-1)),x[12]||(x[12]=s("p",{class:"text-xs text-gray-500 mb-2"},"Support for images, videos, PDFs, and documents up to 10MB",-1)),pe(Fm,{ref_key:"fileUpload",ref:d,"max-files":5,"max-file-size":10*1024*1024,"auto-enhance":!0,onFilesSelected:y,onFilesRemoved:k},null,512)]),pe(Nm,{modelValue:i.poll,"onUpdate:modelValue":x[3]||(x[3]=h=>i.poll=h),onPollValidated:C},null,8,["modelValue"]),s("div",null,[x[13]||(x[13]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tags (Optional)",-1)),xe(s("input",{"onUpdate:modelValue":x[4]||(x[4]=h=>i.tagsInput=h),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter tags separated by commas (e.g., javascript, vue, laravel)"},null,512),[[Pe,i.tagsInput]]),x[14]||(x[14]=s("p",{class:"mt-1 text-sm text-gray-500"},"Tags help others find your topic",-1))]),s("div",UE,[pe(S,{to:"/forum",class:"btn btn-secondary"},{default:ke(()=>x[15]||(x[15]=[de(" Cancel ",-1)])),_:1,__:[15]}),s("button",{type:"submit",disabled:a.value,class:"btn btn-primary"},[a.value?(p(),v("span",HE)):N("",!0),de(" "+E(a.value?"Creating...":"Create Topic"),1)],8,VE)])],32)])])])}}},WE=Kt(zE,[["__scopeId","data-v-0a4e788c"]]);const KE={class:"min-h-screen bg-gray-50 py-8"},GE={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},qE={class:"mb-8"},YE={class:"flex items-center justify-between"},XE={class:"mt-2 text-gray-600"},JE={key:0,class:"mt-1 text-sm text-gray-500"},QE={class:"bg-white rounded-lg shadow-sm p-6 mb-8"},ZE={class:"grid grid-cols-2 gap-4"},eA={class:"col-span-1"},tA={class:"relative"},sA={class:"col-span-1"},oA=["value"],rA={class:"col-span-1"},nA={class:"col-span-1"},aA={class:"flex gap-2"},lA=["disabled"],iA={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},dA={key:0,class:"flex justify-center py-12"},uA={key:1},cA={key:0,class:"space-y-4"},fA={class:"flex items-start justify-between"},pA={class:"flex-1"},mA={class:"flex items-center space-x-2 mb-2"},gA={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},vA={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},hA=["innerHTML"],yA={class:"flex items-center justify-between"},xA={class:"flex items-center space-x-4 text-sm text-gray-500"},bA={class:"flex items-center space-x-1"},wA={class:"flex items-center space-x-1"},_A={key:0,class:"mt-3"},CA={class:"flex flex-wrap gap-2"},kA={key:1,class:"text-center py-12"},$A={class:"mt-6"},SA={key:2,class:"mt-8 flex justify-center"},EA={class:"flex items-center space-x-2"},AA=["disabled"],TA={class:"flex space-x-1"},PA=["onClick"],RA=["disabled"],MA={key:2,class:"text-center py-12"},IA={class:"mt-6"},OA={__name:"ForumSearch",setup(e){const t=fs(),o=kt(),r=gt(),a=Ye({query:"",category:"",sort:"latest"}),l=j([]),n=j(!1),i=j(!1),d=j(1),f=j(1),u=j(0),c=j(""),m=j([]),g=Ne(()=>{const h=[],w=Math.max(1,d.value-2),_=Math.min(f.value,d.value+2);for(let b=w;b<=_;b++)h.push(b);return h}),y=h=>({general:"bg-blue-100 text-blue-800",technical:"bg-green-100 text-green-800","course-specific":"bg-purple-100 text-purple-800",feedback:"bg-orange-100 text-orange-800"})[h]||"bg-gray-100 text-gray-800",k=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),C=h=>{if(!c.value)return h.substring(0,200)+"...";const w=c.value.toLowerCase(),_=h.toLowerCase().indexOf(w);if(_===-1)return h.substring(0,200)+"...";const b=Math.max(0,_-50),P=Math.min(h.length,_+150);let R=h.substring(b,P);b>0&&(R="..."+R),P<h.length&&(R=R+"...");const M=new RegExp(`(${c.value})`,"gi");return R=R.replace(M,'<mark class="bg-yellow-200 px-1 rounded">$1</mark>'),R},A=async(h=1)=>{var w,_,b,P,R;if(!a.query.trim()){r.error("Please enter a search query");return}if(a.query.trim().length<2){r.error("Search query must be at least 2 characters long");return}n.value=!0,c.value=a.query.trim();try{const M={page:h,per_page:15};a.category&&(M.category=a.category),a.sort&&(M.sort=a.sort);const D=await Tt.searchAllTopics(a.query.trim(),M);if(D.data.status==="success"){const J=D.data.data;J.data?(l.value=J.data,u.value=J.total,f.value=Math.ceil(J.total/J.per_page),d.value=J.current_page):(l.value=J,u.value=J.length,f.value=1,d.value=1),i.value=!0,o.push({path:"/forum/search",query:{q:a.query.trim(),category:a.category||void 0,sort:a.sort!=="latest"?a.sort:void 0,page:h>1?h:void 0}})}else r.error("Search failed")}catch(M){if(console.error("Search error:",M),console.error("Error response:",(w=M.response)==null?void 0:w.data),(b=(_=M.response)==null?void 0:_.data)!=null&&b.message)r.error(M.response.data.message);else if((R=(P=M.response)==null?void 0:P.data)!=null&&R.errors){const D=M.response.data.errors,J=Object.values(D).flat().join(", ");r.error("Validation error: "+J)}else r.error("Search failed. Please try again.")}finally{n.value=!1}},T=h=>{h>=1&&h<=f.value&&A(h)},$=()=>{a.query="",a.category="",a.sort="latest",c.value="",l.value=[],i.value=!1,u.value=0,d.value=1,f.value=1,o.push({path:"/forum/search"})},x=async()=>{try{const h=await ql.getAll();h.data.status==="success"&&(m.value=h.data.data)}catch(h){console.error("Error fetching categories:",h),r.error("Failed to load categories")}},S=()=>{const h=t.query.q,w=t.query.category,_=t.query.sort,b=parseInt(t.query.page)||1;h&&(a.query=h,a.category=w||"",a.sort=_||"latest",c.value=h,A(b))};return it(()=>{x(),S()}),xt(()=>t.query,()=>{S()},{immediate:!0}),(h,w)=>{const _=lt("router-link");return p(),v("div",KE,[s("div",GE,[s("div",qE,[s("div",YE,[s("div",null,[w[5]||(w[5]=s("h1",{class:"text-3xl font-bold text-gray-900"},"Search Results",-1)),s("p",XE,E(c.value?`Results for "${c.value}"`:"Search forum topics"),1),l.value.length>0?(p(),v("p",JE," Found "+E(u.value)+" result"+E(u.value!==1?"s":""),1)):N("",!0)]),pe(_,{to:"/forum",class:"btn btn-secondary"},{default:ke(()=>w[6]||(w[6]=[de(" Back to Forum ",-1)])),_:1,__:[6]})])]),s("div",QE,[s("form",{onSubmit:Ue(A,["prevent"]),class:"space-y-4"},[s("div",ZE,[s("div",eA,[w[8]||(w[8]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search Topics",-1)),s("div",tA,[xe(s("input",{"onUpdate:modelValue":w[0]||(w[0]=b=>a.query=b),type:"text",placeholder:"Search topics, content, or tags...",class:"w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:""},null,512),[[Pe,a.query]]),w[7]||(w[7]=s("svg",{class:"absolute left-3 top-3.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),s("div",sA,[w[10]||(w[10]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),xe(s("select",{"onUpdate:modelValue":w[1]||(w[1]=b=>a.category=b),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},[w[9]||(w[9]=s("option",{value:""},"All Categories",-1)),(p(!0),v(_e,null,Ee(m.value,b=>(p(),v("option",{key:b.slug,value:b.slug},E(b.name),9,oA))),128))],512),[[_t,a.category]])]),s("div",rA,[w[12]||(w[12]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Sort By",-1)),xe(s("select",{"onUpdate:modelValue":w[2]||(w[2]=b=>a.sort=b),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},w[11]||(w[11]=[s("option",{value:"latest"},"Latest",-1),s("option",{value:"oldest"},"Oldest",-1),s("option",{value:"most_replied"},"Most Replied",-1),s("option",{value:"most_viewed"},"Most Viewed",-1)]),512),[[_t,a.sort]])]),s("div",nA,[w[13]||(w[13]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),s("div",aA,[s("button",{type:"submit",disabled:n.value,class:"btn btn-primary w-full px-8"},[n.value?(p(),v("span",iA)):N("",!0),de(" "+E(n.value?"Searching...":"Search"),1)],8,lA),i.value?(p(),v("button",{key:0,type:"button",onClick:$,class:"btn btn-secondary px-4"}," Clear ")):N("",!0)])])])],32)]),n.value&&!i.value?(p(),v("div",dA,w[14]||(w[14]=[s("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)]))):i.value?(p(),v("div",uA,[l.value.length>0?(p(),v("div",cA,[(p(!0),v(_e,null,Ee(l.value,b=>{var P;return p(),v("div",{key:b.id,class:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow"},[s("div",fA,[s("div",pA,[s("div",mA,[pe(_,{to:`/forum/topics/${b.id}`,class:"text-lg font-semibold text-gray-900 hover:text-primary-600 transition-colors"},{default:ke(()=>[de(E(b.title),1)]),_:2},1032,["to"]),s("span",{class:ue(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",y(b.category)])},E(b.category),3),b.is_pinned?(p(),v("span",gA," Pinned ")):N("",!0),b.is_locked?(p(),v("span",vA," Locked ")):N("",!0)]),s("div",{class:"text-gray-600 mb-3",innerHTML:C(b.content)},null,8,hA),s("div",yA,[s("div",xA,[s("span",null,"By "+E((P=b.user)==null?void 0:P.name),1),s("span",null,E(k(b.created_at)),1),s("div",bA,[w[15]||(w[15]=s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),s("span",null,E(b.replies_count||0)+" replies",1)]),s("div",wA,[w[16]||(w[16]=s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),s("span",null,E(b.views||0)+" views",1)])]),pe(_,{to:`/forum/topics/${b.id}`,class:"btn btn-sm btn-primary"},{default:ke(()=>w[17]||(w[17]=[de(" View Discussion ",-1)])),_:2,__:[17]},1032,["to"])]),b.tags&&b.tags.length>0?(p(),v("div",_A,[s("div",CA,[(p(!0),v(_e,null,Ee(b.tags,R=>(p(),v("span",{key:R,class:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800"},E(R),1))),128))])])):N("",!0)])])])}),128))])):(p(),v("div",kA,[w[19]||(w[19]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),w[20]||(w[20]=s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No results found",-1)),w[21]||(w[21]=s("p",{class:"mt-1 text-sm text-gray-500"}," Try adjusting your search terms or browse all topics instead. ",-1)),s("div",$A,[pe(_,{to:"/forum",class:"btn btn-primary"},{default:ke(()=>w[18]||(w[18]=[de(" Browse All Topics ",-1)])),_:1,__:[18]})])])),f.value>1?(p(),v("div",SA,[s("nav",EA,[s("button",{onClick:w[3]||(w[3]=b=>T(d.value-1)),disabled:d.value===1,class:"btn btn-secondary px-3 py-2"}," Previous ",8,AA),s("div",TA,[(p(!0),v(_e,null,Ee(g.value,b=>(p(),v("button",{key:b,onClick:P=>T(b),class:ue(["px-3 py-2 rounded-md text-sm font-medium",b===d.value?"bg-primary-600 text-white":"text-gray-700 hover:bg-gray-100"])},E(b),11,PA))),128))]),s("button",{onClick:w[4]||(w[4]=b=>T(d.value+1)),disabled:d.value===f.value,class:"btn btn-secondary px-3 py-2"}," Next ",8,RA)])])):N("",!0)])):(p(),v("div",MA,[w[23]||(w[23]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),w[24]||(w[24]=s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Search Forum Topics",-1)),w[25]||(w[25]=s("p",{class:"mt-1 text-sm text-gray-500"}," Enter your search terms above to find relevant discussions. ",-1)),s("div",IA,[pe(_,{to:"/forum",class:"btn btn-primary"},{default:ke(()=>w[22]||(w[22]=[de(" Browse All Topics ",-1)])),_:1,__:[22]})])]))])])}}},DA=Kt(OA,[["__scopeId","data-v-872f4c2e"]]);const jA={class:"min-h-screen bg-gray-50"},LA={class:"bg-white shadow"},FA={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},NA={class:"flex items-center justify-between"},BA={class:"text-3xl font-bold text-gray-900"},UA={class:"mt-1 text-sm text-gray-500"},VA={class:"flex items-center space-x-4"},HA={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},zA={class:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-6"},WA={class:"flex"},KA={class:"ml-3"},GA={class:"mt-2 text-sm"},qA={class:"mt-3 space-x-2"},YA={class:"mt-4 p-3 bg-gray-100 rounded"},XA=["disabled"],JA={class:"mt-3 pt-3 border-t border-gray-300"},QA={class:"space-y-2"},ZA={class:"text-2xl font-bold text-gray-900 mb-6"},eT={class:"text-gray-600 mb-8"},tT={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},sT={class:"bg-white rounded-lg shadow p-6"},oT={class:"flex items-center"},rT={class:"ml-4"},nT={class:"text-2xl font-semibold text-gray-900"},aT={class:"bg-white rounded-lg shadow p-6"},lT={class:"flex items-center"},iT={class:"ml-4"},dT={class:"text-2xl font-semibold text-gray-900"},uT={class:"bg-white rounded-lg shadow p-6"},cT={class:"flex items-center"},fT={class:"ml-4"},pT={class:"text-2xl font-semibold text-gray-900"},mT={class:"bg-white rounded-lg shadow p-6"},gT={class:"flex items-center"},vT={class:"ml-4"},hT={class:"text-2xl font-semibold text-gray-900"},yT={class:"bg-white rounded-lg shadow mb-8"},xT={class:"px-6 py-4 border-b border-gray-200"},bT={class:"flex items-center justify-between"},wT={class:"text-lg font-medium text-gray-900"},_T={key:0,class:"flex space-x-2"},CT={class:"p-6"},kT={key:0,class:"flex justify-center items-center py-8"},$T={key:1,class:"text-center py-8"},ST={class:"mt-2 text-sm font-medium text-gray-900"},ET={class:"mt-1 text-sm text-gray-500"},AT={key:0,class:"mt-6"},TT={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},PT={class:"flex items-center justify-between mb-2"},RT={class:"text-sm text-gray-500"},MT={class:"font-medium text-gray-900 mb-2"},IT={class:"text-sm text-gray-600 mb-3 line-clamp-2"},OT={class:"flex items-center justify-between text-sm"},DT={class:"text-gray-500"},jT={class:"text-gray-500"},LT={key:0,class:"mt-3 flex space-x-2"},FT=["onClick"],NT={__name:"Dashboard",setup(e){const t=kt();ao();const o=useAuthStore(),r=gt(),a=j(!1),l=j([]),n=j(!1),i=Ye({name:"",email:"",password:"",role:""}),d=Ne(()=>o.user),f=Ne(()=>o.userRole),u=Ne(()=>({totalCourses:l.value.length,totalStudents:l.value.reduce((C,A)=>C+(A.enrollments_count||0),0),totalRevenue:l.value.reduce((C,A)=>C+(A.price||0),0),averageRating:l.value.length>0?(l.value.reduce((C,A)=>C+(A.average_rating||0),0)/l.value.length).toFixed(1):"0.0"})),c=()=>{t.push("/instructor/create-course")},m=()=>{t.push("/instructor/create-category")},g=()=>{var C;d.value&&(d.value.roles=["admin"],console.log("Dashboard: Manually added admin role to user"),console.log("Dashboard: User roles now:",d.value.roles),console.log("Dashboard: role type:",typeof d.value.roles[0]),console.log("Dashboard: role name:",(C=d.value.roles[0])==null?void 0:C.name))},y=async()=>{var C,A;n.value=!0;try{console.log("Dashboard: Registering real user:",i);const T=await o.register({name:i.name,email:i.email,password:i.password,password_confirmation:i.password,role:i.role});r.success(`User ${i.name} created successfully in database!`),console.log("Real user created:",T),i.name="",i.email="",i.password="",i.role=""}catch(T){if(console.error("Failed to create real user:",T),(A=(C=T.response)==null?void 0:C.data)!=null&&A.errors){const $=T.response.data.errors;Object.keys($).forEach(x=>{r.error(`${x}: ${$[x][0]}`)})}else r.error(`Failed to create user: ${T.message||"Unknown error"}`)}finally{n.value=!1}},k=async(C,A)=>{var T,$;try{const x=C.split("@")[0].charAt(0).toUpperCase()+C.split("@")[0].slice(1);console.log("Dashboard: Quick creating user:",{name:x,email:C,role:A});const S=await o.register({name:x,email:C,password:"123456d4",password_confirmation:"123456d4",role:A});r.success(`Quick user ${x} (${A}) created successfully in database!`),console.log("Quick user created:",S)}catch(x){if(console.error("Failed to create quick user:",x),($=(T=x.response)==null?void 0:T.data)!=null&&$.errors){const S=x.response.data.errors;Object.keys(S).forEach(h=>{r.error(`${h}: ${S[h][0]}`)})}else r.error(`Failed to create quick user: ${x.message||"Unknown error"}`)}};return it(()=>{var C;console.log("Dashboard: Component mounted, data loading disabled to prevent errors"),d.value&&d.value.roles&&(console.log("Dashboard: User roles data:",d.value.roles),console.log("Dashboard: First role object:",d.value.roles[0]),console.log("Dashboard: Role type:",typeof d.value.roles[0]),console.log("Dashboard: Role name:",(C=d.value.roles[0])==null?void 0:C.name)),console.log("Dashboard: Checking user role..."),console.log("Dashboard: userRole computed:",f.value),console.log("Dashboard: authStore.isAdmin:",o.isAdmin),console.log("Dashboard: authStore.userRole:",o.userRole),f.value==="admin"||o.isAdmin?(console.log("Dashboard: Admin user detected, redirecting to /admin"),t.push("/admin")):console.log("Dashboard: User is not admin, staying on dashboard")}),(C,A)=>{var $;const T=lt("router-link");return p(),v("div",jA,[s("div",LA,[s("div",FA,[s("div",NA,[s("div",null,[s("h1",BA,"Welcome back, "+E((($=d.value)==null?void 0:$.name)||"User")+"!",1),s("p",UA,E(f.value==="instructor"?"Manage your courses and track your performance.":f.value==="student"?"Track your learning progress and enrolled courses.":f.value==="admin"?"Manage the platform and monitor system performance.":"Here's your dashboard overview."),1)]),s("div",VA,[f.value==="instructor"?(p(),v("button",{key:0,onClick:c,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700"}," Create Course ")):N("",!0),f.value==="instructor"?(p(),v("button",{key:1,onClick:m,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"}," Create Category ")):N("",!0)])])])]),s("div",HA,[s("div",zA,[s("div",WA,[A[24]||(A[24]=s("div",{class:"flex-shrink-0"},[s("svg",{class:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),s("div",KA,[A[23]||(A[23]=s("h3",{class:"text-sm font-medium"},"Debug Info - Current User State",-1)),s("div",GA,[s("p",null,[A[9]||(A[9]=s("strong",null,"User Role:",-1)),de(" "+E(f.value),1)]),s("p",null,[A[10]||(A[10]=s("strong",null,"Is Admin:",-1)),de(" "+E(mt(o).isAdmin),1)]),s("p",null,[A[11]||(A[11]=s("strong",null,"Is Instructor:",-1)),de(" "+E(mt(o).isInstructor),1)]),s("p",null,[A[12]||(A[12]=s("strong",null,"Is Student:",-1)),de(" "+E(mt(o).isStudent),1)]),s("p",null,[A[13]||(A[13]=s("strong",null,"User Object:",-1)),de(" "+E(JSON.stringify(d.value,null,2)),1)]),s("p",null,[A[14]||(A[14]=s("strong",null,"Current Route:",-1)),de(" "+E(C.$route.path),1)])]),s("div",qA,[s("button",{onClick:A[0]||(A[0]=x=>mt(t).push("/admin")),class:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm"}," Force Go to Admin Dashboard "),s("button",{onClick:A[1]||(A[1]=x=>console.log("Auth store state:",{userRole:mt(o).userRole,isAdmin:mt(o).isAdmin,user:mt(o).user})),class:"bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-sm"}," Log Auth State "),s("button",{onClick:g,class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm"}," Force Admin Role ")]),s("div",YA,[A[22]||(A[22]=s("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Create Real Users in Database",-1)),s("form",{onSubmit:Ue(y,["prevent"]),class:"space-y-3"},[s("div",null,[A[15]||(A[15]=s("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Name",-1)),xe(s("input",{"onUpdate:modelValue":A[2]||(A[2]=x=>i.name=x),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter full name"},null,512),[[Pe,i.name]])]),s("div",null,[A[16]||(A[16]=s("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Email",-1)),xe(s("input",{"onUpdate:modelValue":A[3]||(A[3]=x=>i.email=x),type:"email",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email address"},null,512),[[Pe,i.email]])]),s("div",null,[A[17]||(A[17]=s("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Password",-1)),xe(s("input",{"onUpdate:modelValue":A[4]||(A[4]=x=>i.password=x),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password"},null,512),[[Pe,i.password]])]),s("div",null,[A[19]||(A[19]=s("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Role",-1)),xe(s("select",{"onUpdate:modelValue":A[5]||(A[5]=x=>i.role=x),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},A[18]||(A[18]=[s("option",{value:""},"Select role",-1),s("option",{value:"admin"},"Admin",-1),s("option",{value:"instructor"},"Instructor",-1),s("option",{value:"student"},"Student",-1)]),512),[[_t,i.role]])]),s("button",{type:"submit",disabled:n.value,class:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-3 py-2 rounded text-sm font-medium"},E(n.value?"Creating User...":"Create User"),9,XA)],32),s("div",JA,[A[20]||(A[20]=s("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"Quick Create Test Users",-1)),s("div",QA,[s("button",{onClick:A[6]||(A[6]=x=>k("instructor@gmail.com","instructor")),class:"w-full bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded text-sm"}," Create Instructor (instructor@gmail.com) "),s("button",{onClick:A[7]||(A[7]=x=>k("student@gmail.com","student")),class:"w-full bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm"}," Create Student (student@gmail.com) "),s("button",{onClick:A[8]||(A[8]=x=>k("admin@gmail.com","admin")),class:"w-full bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm"}," Create Admin (admin@gmail.com) ")]),A[21]||(A[21]=s("p",{class:"text-xs text-gray-500 mt-2"},"Password: 123456d4",-1))])])])])]),s("h2",ZA,E(f.value==="instructor"?"Instructor Dashboard":f.value==="student"?"Student Dashboard":f.value==="admin"?"Admin Dashboard":"Dashboard"),1),s("p",eT,E(f.value==="instructor"?"Manage your courses and track your performance.":f.value==="student"?"Track your learning progress and enrolled courses.":f.value==="admin"?"Manage the platform and monitor system performance.":"Here's your dashboard overview."),1),s("div",tT,[s("div",sT,[s("div",oT,[A[26]||(A[26]=s("div",{class:"flex-shrink-0"},[s("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),s("div",rT,[A[25]||(A[25]=s("p",{class:"text-sm font-medium text-gray-500"},"Total Courses",-1)),s("p",nT,E(u.value.totalCourses),1)])])]),s("div",aT,[s("div",lT,[A[28]||(A[28]=s("div",{class:"flex-shrink-0"},[s("svg",{class:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1)),s("div",iT,[A[27]||(A[27]=s("p",{class:"text-sm font-medium text-gray-500"},"Total Students",-1)),s("p",dT,E(u.value.totalStudents),1)])])]),s("div",uT,[s("div",cT,[A[30]||(A[30]=s("div",{class:"flex-shrink-0"},[s("svg",{class:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),s("div",fT,[A[29]||(A[29]=s("p",{class:"text-sm font-medium text-gray-500"},"Total Revenue",-1)),s("p",pT,"$"+E(u.value.totalRevenue),1)])])]),s("div",mT,[s("div",gT,[A[32]||(A[32]=s("div",{class:"flex-shrink-0"},[s("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})])],-1)),s("div",vT,[A[31]||(A[31]=s("p",{class:"text-sm font-medium text-gray-500"},"Average Rating",-1)),s("p",hT,E(u.value.averageRating),1)])])])]),s("div",yT,[s("div",xT,[s("div",bT,[s("h3",wT,E(f.value==="instructor"?"Recent Courses":"My Enrolled Courses"),1),f.value==="instructor"?(p(),v("div",_T,[s("button",{onClick:c,class:"inline-flex items-center px-3 py-2 sm:px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",title:"Create Course"},A[33]||(A[33]=[s("svg",{class:"w-4 h-4 sm:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),s("span",{class:"hidden sm:inline"},"Create Course",-1)])),s("button",{onClick:m,class:"inline-flex items-center px-3 py-2 sm:px-4 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",title:"Create Category"},A[34]||(A[34]=[s("svg",{class:"w-4 h-4 sm:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1),s("span",{class:"hidden sm:inline"},"Create Category",-1)]))])):N("",!0)])]),s("div",CT,[a.value?(p(),v("div",kT,A[35]||(A[35]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):l.value.length===0?(p(),v("div",$T,[A[36]||(A[36]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),s("h3",ST,E(f.value==="instructor"?"No courses yet":"No enrolled courses yet"),1),s("p",ET,E(f.value==="instructor"?"Get started by creating your first course.":"Browse available courses and enroll to get started."),1),f.value==="instructor"?(p(),v("div",AT,[s("button",{onClick:c,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700"}," Create Your First Course ")])):N("",!0)])):(p(),v("div",TT,[(p(!0),v(_e,null,Ee(l.value,x=>{var S;return p(),v("div",{key:x.id,class:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[s("div",PT,[s("span",{class:ue(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",x.status==="approved"?"bg-green-100 text-green-800":x.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])},E(x.status),3),s("span",RT,E((S=x.category)==null?void 0:S.name),1)]),s("h4",MT,E(x.title),1),s("p",IT,E(x.short_description),1),s("div",OT,[s("span",DT,E(x.enrollments_count||0)+" students",1),s("span",jT,E(x.lessons_count||0)+" lessons",1)]),f.value==="instructor"?(p(),v("div",LT,[pe(T,{to:`/courses/${x.id}/builder`,class:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700"},{default:ke(()=>A[37]||(A[37]=[s("i",{class:"fas fa-edit mr-1"},null,-1),de(" Builder ",-1)])),_:2,__:[37]},1032,["to"]),s("button",{onClick:h=>C.editCourse(x.id),class:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md text-gray-700 bg-gray-200 hover:bg-gray-300"},A[38]||(A[38]=[s("i",{class:"fas fa-cog mr-1"},null,-1),de(" Settings ",-1)]),8,FT)])):N("",!0)])}),128))]))])]),A[39]||(A[39]=ft('<div class="bg-white rounded-lg shadow" data-v-d9d4a814><div class="px-6 py-4 border-b border-gray-200" data-v-d9d4a814><h3 class="text-lg font-medium text-gray-900" data-v-d9d4a814>Recent Enrollments</h3></div><div class="p-6" data-v-d9d4a814><div class="text-center py-8" data-v-d9d4a814><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-d9d4a814><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" data-v-d9d4a814></path></svg><h3 class="mt-2 text-sm font-medium text-gray-900" data-v-d9d4a814>No enrollments yet</h3><p class="mt-1 text-sm text-gray-500" data-v-d9d4a814>Students will appear here once they enroll in your courses.</p></div></div></div>',1))])])}}},BT=Kt(NT,[["__scopeId","data-v-d9d4a814"]]),UT={class:"min-h-screen bg-gray-50 py-8"},VT={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},HT={class:"bg-white rounded-lg shadow-sm mb-6"},zT={class:"p-6"},WT={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},KT={class:"col-span-1 md:col-span-2"},GT={class:"relative"},qT={class:"col-span-1 md:col-span-1"},YT=["value"],XT={class:"col-span-1 md:col-span-1"},JT={class:"col-span-1 md:col-span-1"},QT={class:"mt-4 flex flex-wrap gap-2"},ZT={key:0,class:"flex justify-center py-12"},eP={key:1,class:"mb-6"},tP={class:"flex items-center justify-between"},sP={class:"text-gray-600"},oP={class:"flex items-center space-x-2"},rP={key:2,class:"space-y-6"},nP={class:"relative h-48 bg-gray-200"},aP=["src","alt"],lP={key:1,class:"w-full h-full flex items-center justify-center"},iP={class:"absolute top-2 right-2"},dP={key:2,class:"absolute top-2 left-2"},uP={class:"p-6"},cP={class:"flex items-center justify-between mb-2"},fP={class:"text-sm text-gray-500"},pP={class:"flex items-center"},mP={class:"text-sm text-gray-600 ml-1"},gP={class:"text-lg font-medium text-gray-900 mb-2"},vP={class:"text-sm text-gray-600 mb-4 line-clamp-2"},hP={class:"flex items-center justify-between text-sm text-gray-500 mb-4"},yP={class:"flex items-center justify-between"},xP={class:"flex items-center space-x-2"},bP={class:"text-sm text-gray-500"},wP={class:"text-sm text-gray-500"},_P={key:0,class:"flex justify-center mt-8"},CP={class:"flex items-center space-x-2"},kP=["disabled"],$P=["onClick"],SP=["disabled"],EP={key:3,class:"text-center py-12"},AP={class:"mt-1 text-sm text-gray-500"},TP=12,PP={__name:"Courses",setup(e){const t=fs();kt();const o=ao();gt();const r=j(!1),a=j([]),l=j([]),n=j(""),i=j(""),d=j(""),f=j("latest"),u=j("grid"),c=j(1),m=Ye({free:!1,featured:!1,new:!1}),g=Ne(()=>{let _=o.filteredCourses||a.value;if(m.free&&(_=_.filter(b=>b.price===0)),m.featured&&(_=_.filter(b=>b.is_featured)),m.new){const b=new Date;b.setDate(b.getDate()-30),_=_.filter(P=>new Date(P.created_at)>b)}return _.sort((b,P)=>{switch(f.value){case"popular":return(P.total_enrollments||0)-(b.total_enrollments||0);case"rating":return(P.average_rating||0)-(b.average_rating||0);case"price_low":return(b.price||0)-(P.price||0);case"price_high":return(P.price||0)-(b.price||0);case"latest":default:return new Date(P.created_at)-new Date(b.created_at)}}),_}),y=Ne(()=>o.pagination.total||g.value.length),k=Ne(()=>o.pagination.last_page||Math.ceil(g.value.length/TP)),C=Ne(()=>o.courses||g.value),A=Ne(()=>{const _=[],b=Math.max(1,c.value-2),P=Math.min(k.value,c.value+2);for(let R=b;R<=P;R++)_.push(R);return _}),T=_=>{m[_]=!m[_],c.value=1},$=()=>{n.value="",i.value="",d.value="",f.value="latest",m.free=!1,m.featured=!1,m.new=!1,c.value=1,o.filters.category="",o.filters.level="",o.searchQuery="",w()},x=async _=>{_>=1&&_<=k.value&&(c.value=_,o.pagination.current_page=_,await w())},S=async()=>{c.value>1&&await x(c.value-1)},h=async()=>{c.value<k.value&&await x(c.value+1)},w=async()=>{var _,b;r.value=!0;try{console.log(" Fetching courses and categories..."),o.filters.category=i.value,o.filters.level=d.value,o.searchQuery=n.value,console.log(" Current filters:",{category:i.value,level:d.value,search:n.value,storeFilters:o.filters});const[P,R]=await Promise.all([o.fetchCourses(),o.fetchCategories()]);console.log(" Courses response:",P),console.log(" Categories response:",R);const M=P!=null&&P.data?P.data:P;M?(M.status==="success"?a.value=M.data||[]:Array.isArray(M)?a.value=M:a.value=o.courses||[],console.log(" Courses loaded:",a.value.length)):(console.warn(" No courses data in response; using store state"),a.value=o.courses||[]);const D=R!=null&&R.data?R.data:R;D?(D.status==="success"?l.value=D.data||[]:Array.isArray(D)?l.value=D:l.value=o.categories||[],console.log(" Categories loaded:",l.value.length)):(console.warn(" No categories data; using store state"),l.value=o.categories||[]),console.log(" Data loading completed:",{courses:a.value.length,categories:l.value.length})}catch(P){console.error(" Error fetching data:",P),console.error(" Error response:",P.response),console.error(" Error status:",(_=P.response)==null?void 0:_.status),console.error(" Error data:",(b=P.response)==null?void 0:b.data);try{console.log(" Trying direct categories fetch...");const R=await fetch("/api/categories"),M=await R.json();R.ok&&M.status==="success"&&(l.value=M.data||[],console.log(" Categories loaded via direct fetch:",l.value.length))}catch(R){console.error(" Direct categories fetch also failed:",R)}console.log(" No courses or categories available")}finally{r.value=!1}};return xt([n,i,d,f,m],()=>{c.value=1,o.filters.category=i.value,o.filters.level=d.value,o.searchQuery=n.value,w()}),xt(()=>t.query,_=>{_.category&&(i.value=parseInt(_.category),o.filters.category=i.value,w())},{immediate:!0}),it(()=>{w()}),(_,b)=>{const P=lt("router-link");return p(),v("div",UT,[s("div",VT,[b[26]||(b[26]=s("div",{class:"mb-8"},[s("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"All Courses"),s("p",{class:"text-gray-600"},"Discover courses from expert instructors")],-1)),s("div",HT,[s("div",zT,[s("div",WT,[s("div",KT,[b[10]||(b[10]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search Courses",-1)),s("div",GT,[xe(s("input",{"onUpdate:modelValue":b[0]||(b[0]=R=>n.value=R),type:"text",placeholder:"Search courses...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[Pe,n.value]]),b[9]||(b[9]=s("svg",{class:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),s("div",qT,[b[12]||(b[12]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),xe(s("select",{"onUpdate:modelValue":b[1]||(b[1]=R=>i.value=R),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},[b[11]||(b[11]=s("option",{value:""},"All Categories",-1)),(p(!0),v(_e,null,Ee(l.value,R=>(p(),v("option",{key:R.id,value:R.id},E(R.name),9,YT))),128))],512),[[_t,i.value]])]),s("div",XT,[b[14]||(b[14]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Level",-1)),xe(s("select",{"onUpdate:modelValue":b[2]||(b[2]=R=>d.value=R),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},b[13]||(b[13]=[s("option",{value:""},"All Levels",-1),s("option",{value:"beginner"},"Beginner",-1),s("option",{value:"intermediate"},"Intermediate",-1),s("option",{value:"advanced"},"Advanced",-1)]),512),[[_t,d.value]])]),s("div",JT,[b[16]||(b[16]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Sort By",-1)),xe(s("select",{"onUpdate:modelValue":b[3]||(b[3]=R=>f.value=R),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},b[15]||(b[15]=[ft('<option value="latest">Latest</option><option value="popular">Most Popular</option><option value="rating">Highest Rated</option><option value="price_low">Price: Low to High</option><option value="price_high">Price: High to Low</option>',5)]),512),[[_t,f.value]])])]),s("div",QT,[s("button",{onClick:b[4]||(b[4]=R=>T("free")),class:ue(["px-3 py-1 rounded-full text-sm font-medium transition-colors duration-200",m.free?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-700 hover:bg-gray-200"])}," Free Courses ",2),s("button",{onClick:b[5]||(b[5]=R=>T("featured")),class:ue(["px-3 py-1 rounded-full text-sm font-medium transition-colors duration-200",m.featured?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-700 hover:bg-gray-200"])}," Featured ",2),s("button",{onClick:b[6]||(b[6]=R=>T("new")),class:ue(["px-3 py-1 rounded-full text-sm font-medium transition-colors duration-200",m.new?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-700 hover:bg-gray-200"])}," New Courses ",2),s("button",{onClick:$,class:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors duration-200"}," Clear Filters ")])])]),r.value?(p(),v("div",ZT,b[17]||(b[17]=[s("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)]))):(p(),v("div",eP,[s("div",tP,[s("p",sP," Showing "+E(C.value.length)+" of "+E(y.value)+" courses ",1),s("div",oP,[b[20]||(b[20]=s("span",{class:"text-sm text-gray-600"},"View:",-1)),s("button",{onClick:b[7]||(b[7]=R=>u.value="grid"),class:ue(["p-2 rounded-md transition-colors duration-200",u.value==="grid"?"bg-primary-100 text-primary-600":"text-gray-400 hover:text-gray-600"])},b[18]||(b[18]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1)]),2),s("button",{onClick:b[8]||(b[8]=R=>u.value="list"),class:ue(["p-2 rounded-md transition-colors duration-200",u.value==="list"?"bg-primary-100 text-primary-600":"text-gray-400 hover:text-gray-600"])},b[19]||(b[19]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1)]),2)])])])),!r.value&&C.value.length>0?(p(),v("div",rP,[s("div",{class:ue(u.value==="grid"?"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4")},[(p(!0),v(_e,null,Ee(C.value,R=>{var M,D;return p(),v("div",{key:R.id,class:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow duration-200"},[s("div",nP,[R.image?(p(),v("img",{key:0,src:R.image,alt:R.title,class:"w-full h-full object-cover"},null,8,aP)):(p(),v("div",lP,b[21]||(b[21]=[s("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)]))),s("div",iP,[s("span",{class:ue(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",R.price===0?"bg-green-100 text-green-800":"bg-primary-100 text-primary-800"])},E(R.price===0||R.price===null||R.price===void 0?"Free":`$${R.price}`),3)]),R.is_featured?(p(),v("div",dP,b[22]||(b[22]=[s("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"}," Featured ",-1)]))):N("",!0)]),s("div",uP,[s("div",cP,[s("span",fP,E((M=R.category)==null?void 0:M.name),1),s("div",pP,[b[23]||(b[23]=s("svg",{class:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),s("span",mP,E(R.average_rating||0),1)])]),s("h3",gP,E(R.title),1),s("p",vP,E(R.subtitle||R.description),1),s("div",hP,[s("span",null,E((D=R.instructor)==null?void 0:D.name),1),s("span",null,E(R.total_duration||0)+"h",1)]),s("div",yP,[s("div",xP,[s("span",bP,E(R.total_enrollments||0)+" students",1),s("span",wP,E(R.total_lessons||0)+" lessons",1)]),pe(P,{to:`/courses/${R.slug}`,class:ue(["inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md transition-colors duration-200",R.is_enrolled?"bg-green-600 hover:bg-green-700 text-white":"bg-primary-600 hover:bg-primary-700 text-white"])},{default:ke(()=>[de(E(R.is_enrolled?"Enrolled":"View Course"),1)]),_:2},1032,["to","class"])])])])}),128))],2),k.value>1?(p(),v("div",_P,[s("nav",CP,[s("button",{onClick:S,disabled:c.value===1,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,kP),(p(!0),v(_e,null,Ee(A.value,R=>(p(),v("button",{key:R,onClick:M=>x(R),class:ue(["px-3 py-2 text-sm font-medium rounded-md",R===c.value?"bg-primary-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"])},E(R),11,$P))),128)),s("button",{onClick:h,disabled:c.value===k.value,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,SP)])])):N("",!0)])):!r.value&&C.value.length===0?(p(),v("div",EP,[b[24]||(b[24]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),b[25]||(b[25]=s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No courses found",-1)),s("p",AP,E(n.value?"No courses match your search criteria.":"No courses available at the moment."),1),s("div",{class:"mt-6"},[s("button",{onClick:$,class:"btn btn-primary"}," Clear Filters ")])])):N("",!0)])])}}},RP={class:"bg-white rounded-lg shadow-sm p-6"},MP={class:"flex items-center justify-between mb-6"},IP={class:"flex items-center space-x-4 text-sm text-gray-500"},OP={key:0,class:"mb-6"},DP={for:"comment",class:"block text-sm font-medium text-gray-700 mb-2"},jP=["placeholder"],LP={class:"flex items-center justify-between"},FP={key:0,class:"flex items-center text-sm text-gray-500"},NP={class:"flex items-center space-x-3"},BP=["disabled"],UP={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},VP={key:1,class:"mb-6 p-4 bg-gray-50 rounded-lg text-center"},HP={key:2,class:"flex justify-center py-8"},zP={key:3,class:"text-center py-8"},WP={key:4,class:"space-y-6"},KP={class:"flex space-x-3"},GP={class:"flex-shrink-0"},qP={class:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center"},YP={class:"text-primary-600 font-medium text-sm"},XP={class:"flex-1 min-w-0"},JP={class:"flex items-center space-x-2 mb-2"},QP={class:"text-sm font-medium text-gray-900"},ZP={key:0,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},eR={class:"text-xs text-gray-500"},tR={class:"text-sm text-gray-700 whitespace-pre-wrap"},sR={class:"flex items-center space-x-4 mt-3"},oR=["onClick"],rR=["onClick"],nR=["onClick"],aR={key:0,class:"mt-4 space-y-4"},lR={class:"flex-shrink-0"},iR={class:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center"},dR={class:"text-gray-600 font-medium text-xs"},uR={class:"flex-1 min-w-0"},cR={class:"flex items-center space-x-2 mb-1"},fR={class:"text-xs font-medium text-gray-900"},pR={key:0,class:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},mR={class:"text-xs text-gray-500"},gR={class:"text-xs text-gray-700 whitespace-pre-wrap"},vR={class:"flex items-center space-x-3 mt-2"},hR=["onClick"],yR=["onClick"],xR={key:5,class:"mt-6 text-center"},bR=["disabled"],wR={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600 mr-2"},Bm={__name:"CourseComments",props:{courseId:{type:[String,Number],required:!0}},setup(e){const t=e,o=Ot(),r=gt(),a=j(!1),l=j(!1),n=j(!1),i=j([]),d=j({}),f=j(1),u=j(!1),c=j(null),m=j(null),g=j({content:"",parent_id:null}),y=b=>{var P;return o.isAuthenticated&&b.user_id===((P=o.user)==null?void 0:P.id)},k=b=>{var P;return o.isAuthenticated&&b.user_id===((P=o.user)==null?void 0:P.id)},C=async(b=1)=>{try{b===1?a.value=!0:l.value=!0;const R=(await Lt.getComments(t.courseId,{page:b})).data.data;b===1?i.value=R.data:i.value.push(...R.data),f.value=R.current_page,u.value=R.current_page<R.last_page}catch(P){console.error("Error fetching comments:",P),r.error("Failed to load comments")}finally{a.value=!1,l.value=!1}},A=async()=>{try{const b=await Lt.getCommentStats(t.courseId);d.value=b.data.data}catch(b){console.error("Error fetching comment stats:",b)}},T=()=>{C(f.value+1)},$=async()=>{var b;if(g.value.content.trim()){n.value=!0;try{const P={content:g.value.content.trim(),parent_id:((b=c.value)==null?void 0:b.id)||null},M=(await Lt.createComment(t.courseId,P)).data.data;if(c.value){const D=i.value.find(J=>J.id===c.value.id);D&&(D.replies||(D.replies=[]),D.replies.push(M))}else i.value.unshift(M);d.value.total_questions=(d.value.total_questions||0)+(c.value?0:1),d.value.total_replies=(d.value.total_replies||0)+(c.value?1:0),g.value={content:"",parent_id:null},c.value=null,r.success(c.value?"Reply posted successfully":"Question posted successfully")}catch(P){console.error("Error creating comment:",P),r.error("Failed to post comment")}finally{n.value=!1}}},x=b=>{c.value=b,g.value.parent_id=b.id},S=()=>{c.value=null,g.value={content:"",parent_id:null}},h=b=>{m.value=b,g.value.content=b.content},w=async b=>{if(confirm("Are you sure you want to delete this comment?"))try{if(await Lt.deleteComment(t.courseId,b.id),b.parent_id){const P=i.value.find(R=>R.id===b.parent_id);P&&P.replies&&(P.replies=P.replies.filter(R=>R.id!==b.id))}else i.value=i.value.filter(P=>P.id!==b.id);b.parent_id?d.value.total_replies=Math.max(0,(d.value.total_replies||0)-1):d.value.total_questions=Math.max(0,(d.value.total_questions||0)-1),r.success("Comment deleted successfully")}catch(P){console.error("Error deleting comment:",P),r.error("Failed to delete comment")}},_=b=>{const P=new Date(b),M=Math.floor((new Date-P)/(1e3*60*60));return M<1?"Just now":M<24?`${M}h ago`:M<168?`${Math.floor(M/24)}d ago`:P.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})};return it(()=>{C(),A()}),xt(()=>t.courseId,()=>{i.value=[],d.value={},f.value=1,u.value=!1,C(),A()}),(b,P)=>{const R=lt("router-link");return p(),v("div",RP,[s("div",MP,[P[1]||(P[1]=s("h3",{class:"text-lg font-medium text-gray-900"},"Questions & Discussion",-1)),s("div",IP,[s("span",null,E(d.value.total_questions||0)+" questions",1),s("span",null,E(d.value.total_replies||0)+" replies",1)])]),mt(o).isAuthenticated?(p(),v("div",OP,[s("form",{onSubmit:Ue($,["prevent"]),class:"space-y-4"},[s("div",null,[s("label",DP,E(c.value?"Reply to comment":"Ask a question or share your thoughts"),1),xe(s("textarea",{id:"comment","onUpdate:modelValue":P[0]||(P[0]=M=>g.value.content=M),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:c.value?"Write your reply...":"Ask a question about this course...",required:""},null,8,jP),[[Pe,g.value.content]])]),s("div",LP,[c.value?(p(),v("div",FP,[s("span",null,"Replying to "+E(c.value.user.name),1),s("button",{type:"button",onClick:S,class:"ml-2 text-primary-600 hover:text-primary-500"}," Cancel ")])):N("",!0),s("div",NP,[s("button",{type:"button",onClick:S,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"}," Cancel "),s("button",{type:"submit",disabled:n.value,class:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[n.value?(p(),v("span",UP)):N("",!0),de(" "+E(c.value?"Reply":"Post Question"),1)],8,BP)])])],32)])):(p(),v("div",VP,[P[3]||(P[3]=s("p",{class:"text-gray-600 mb-3"},"Please log in to ask questions or join the discussion.",-1)),pe(R,{to:"/login",class:"btn btn-primary"},{default:ke(()=>P[2]||(P[2]=[de(" Log In ",-1)])),_:1,__:[2]})])),a.value?(p(),v("div",HP,P[4]||(P[4]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):i.value.length===0?(p(),v("div",zP,P[5]||(P[5]=[s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1),s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No questions yet",-1),s("p",{class:"mt-1 text-sm text-gray-500"},"Be the first to ask a question about this course.",-1)]))):(p(),v("div",WP,[(p(!0),v(_e,null,Ee(i.value,M=>(p(),v("div",{key:M.id,class:"border-b border-gray-200 pb-6 last:border-b-0"},[s("div",KP,[s("div",GP,[s("div",qP,[s("span",YP,E(M.user.name.charAt(0).toUpperCase()),1)])]),s("div",XP,[s("div",JP,[s("h4",QP,E(M.user.name),1),M.is_instructor_reply?(p(),v("span",ZP," Instructor ")):N("",!0),s("span",eR,E(_(M.created_at)),1)]),s("p",tR,E(M.content),1),s("div",sR,[mt(o).isAuthenticated&&!c.value?(p(),v("button",{key:0,onClick:D=>x(M),class:"text-sm text-primary-600 hover:text-primary-500"}," Reply ",8,oR)):N("",!0),y(M)?(p(),v("button",{key:1,onClick:D=>h(M),class:"text-sm text-gray-600 hover:text-gray-500"}," Edit ",8,rR)):N("",!0),k(M)?(p(),v("button",{key:2,onClick:D=>w(M),class:"text-sm text-red-600 hover:text-red-500"}," Delete ",8,nR)):N("",!0)]),M.replies&&M.replies.length>0?(p(),v("div",aR,[(p(!0),v(_e,null,Ee(M.replies,D=>(p(),v("div",{key:D.id,class:"flex space-x-3"},[s("div",lR,[s("div",iR,[s("span",dR,E(D.user.name.charAt(0).toUpperCase()),1)])]),s("div",uR,[s("div",cR,[s("h5",fR,E(D.user.name),1),D.is_instructor_reply?(p(),v("span",pR," Instructor ")):N("",!0),s("span",mR,E(_(D.created_at)),1)]),s("p",gR,E(D.content),1),s("div",vR,[y(D)?(p(),v("button",{key:0,onClick:J=>h(D),class:"text-xs text-gray-600 hover:text-gray-500"}," Edit ",8,hR)):N("",!0),k(D)?(p(),v("button",{key:1,onClick:J=>w(D),class:"text-xs text-red-600 hover:text-red-500"}," Delete ",8,yR)):N("",!0)])])]))),128))])):N("",!0)])])]))),128))])),u.value?(p(),v("div",xR,[s("button",{onClick:T,disabled:l.value,class:"px-4 py-2 text-sm font-medium text-primary-600 bg-white border border-primary-300 rounded-md hover:bg-primary-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[l.value?(p(),v("span",wR)):N("",!0),P[6]||(P[6]=de(" Load More ",-1))],8,bR)])):N("",!0)])}}},_R={class:"bg-white rounded-lg shadow-sm p-6"},CR={class:"flex items-center justify-between mb-6"},kR={class:"flex items-center space-x-4 text-sm text-gray-500"},$R={class:"flex items-center"},SR={class:"flex items-center"},ER={class:"ml-1"},AR={key:0,class:"mb-8 border-b border-gray-200 pb-6"},TR={class:"flex items-center space-x-1"},PR=["onClick"],RR={class:"ml-2 text-sm text-gray-600"},MR={class:"flex items-center justify-between"},IR=["disabled"],OR={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},DR={key:1,class:"mb-8 border-b border-gray-200 pb-6"},jR={class:"text-center py-4"},LR={key:2,class:"mb-8 border-b border-gray-200 pb-6"},FR={key:3,class:"mb-8 border-b border-gray-200 pb-6"},NR={key:4,class:"flex justify-center py-8"},BR={key:5,class:"text-center py-8"},UR={key:6,class:"space-y-6"},VR={class:"flex items-start space-x-3"},HR={class:"flex-shrink-0"},zR={class:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center"},WR={class:"text-primary-600 font-medium text-sm"},KR={class:"flex-1 min-w-0"},GR={class:"flex items-center space-x-2 mb-2"},qR={class:"text-sm font-medium text-gray-900"},YR={class:"flex items-center"},XR={class:"text-xs text-gray-500"},JR={key:0,class:"text-sm text-gray-700 whitespace-pre-wrap"},QR={class:"flex items-center space-x-4 mt-3"},ZR=["onClick"],eM=["onClick"],tM={key:7,class:"mt-6 text-center"},sM=["disabled"],oM={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600 mr-2"},Um={__name:"CourseReviews",props:{courseId:{type:[String,Number],required:!0},isEnrolled:{type:Boolean,default:!1}},setup(e){const t=e,o=Ot(),r=gt(),a=j(!1),l=j(!1),n=j(!1),i=j([]),d=j(1),f=j(!1),u=j(!1),c=j(null),m=j({rating:0,comment:""}),g=Ne(()=>o.isAuthenticated&&t.isEnrolled&&!u.value),y=w=>{var _;return o.isAuthenticated&&w.user_id===((_=o.user)==null?void 0:_.id)},k=w=>{var _;return o.isAuthenticated&&w.user_id===((_=o.user)==null?void 0:_.id)},C=Ne(()=>i.value.length===0?0:i.value.reduce((_,b)=>_+b.rating,0)/i.value.length),A=async(w=1)=>{try{w===1?a.value=!0:l.value=!0;const b=(await Lt.getReviews(t.courseId,{page:w})).data.data;w===1?i.value=b.data:i.value.push(...b.data),d.value=b.current_page,f.value=b.current_page<b.last_page,o.isAuthenticated&&(u.value=i.value.some(P=>P.user_id===o.user.id))}catch(_){console.error("Error fetching reviews:",_),r.error("Failed to load reviews")}finally{a.value=!1,l.value=!1}},T=()=>{A(d.value+1)},$=async()=>{var w,_;if(m.value.rating!==0){n.value=!0;try{const b={rating:m.value.rating,comment:m.value.comment.trim()},R=(await Lt.createReview(t.courseId,b)).data.data;i.value.unshift(R),u.value=!0,m.value={rating:0,comment:""},r.success("Review submitted successfully and is pending approval")}catch(b){console.error("Error creating review:",b),(_=(w=b.response)==null?void 0:w.data)!=null&&_.message?r.error(b.response.data.message):r.error("Failed to submit review")}finally{n.value=!1}}},x=w=>{c.value=w,m.value={rating:w.rating,comment:w.comment||""}},S=async w=>{if(confirm("Are you sure you want to delete this review?"))try{await Lt.deleteReview(t.courseId,w.id),i.value=i.value.filter(_=>_.id!==w.id),u.value=!1,r.success("Review deleted successfully")}catch(_){console.error("Error deleting review:",_),r.error("Failed to delete review")}},h=w=>{const _=new Date(w),P=Math.floor((new Date-_)/(1e3*60*60));return P<1?"Just now":P<24?`${P}h ago`:P<168?`${Math.floor(P/24)}d ago`:_.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})};return it(()=>{A()}),xt(()=>t.courseId,()=>{i.value=[],u.value=!1,d.value=1,f.value=!1,A()}),(w,_)=>{const b=lt("router-link");return p(),v("div",_R,[s("div",CR,[_[2]||(_[2]=s("h3",{class:"text-lg font-medium text-gray-900"},"Student Reviews",-1)),s("div",kR,[s("span",null,E(i.value.length)+" reviews",1),s("div",$R,[s("div",SR,[_[1]||(_[1]=s("svg",{class:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),s("span",ER,E(C.value.toFixed(1)),1)])])])]),g.value?(p(),v("div",AR,[_[7]||(_[7]=s("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Write a Review",-1)),s("form",{onSubmit:Ue($,["prevent"]),class:"space-y-4"},[s("div",null,[_[4]||(_[4]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rating",-1)),s("div",TR,[(p(),v(_e,null,Ee(5,P=>s("button",{key:P,type:"button",onClick:R=>m.value.rating=P,class:"w-8 h-8 focus:outline-none"},[(p(),v("svg",{class:ue(P<=m.value.rating?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20"},_[3]||(_[3]=[s("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2))],8,PR)),64)),s("span",RR,E(m.value.rating)+"/5 stars",1)])]),s("div",null,[_[5]||(_[5]=s("label",{for:"review-comment",class:"block text-sm font-medium text-gray-700 mb-2"}," Your Review (Optional) ",-1)),xe(s("textarea",{id:"review-comment","onUpdate:modelValue":_[0]||(_[0]=P=>m.value.comment=P),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Share your thoughts about this course..."},null,512),[[Pe,m.value.comment]])]),s("div",MR,[_[6]||(_[6]=s("p",{class:"text-sm text-gray-500"}," Reviews are moderated and will appear after approval. ",-1)),s("button",{type:"submit",disabled:n.value||m.value.rating===0,class:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[n.value?(p(),v("span",OR)):N("",!0),de(" "+E(n.value?"Submitting...":"Submit Review"),1)],8,IR)])],32)])):mt(o).isAuthenticated?u.value?(p(),v("div",LR,_[10]||(_[10]=[ft('<div class="bg-blue-50 border border-blue-200 rounded-lg p-4"><div class="flex items-center"><svg class="w-5 h-5 text-blue-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><p class="text-sm text-blue-800">You have already reviewed this course.</p></div></div>',1)]))):e.isEnrolled?N("",!0):(p(),v("div",FR,_[11]||(_[11]=[ft('<div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4"><div class="flex items-center"><svg class="w-5 h-5 text-yellow-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg><p class="text-sm text-yellow-800">You must be enrolled in this course to write a review.</p></div></div>',1)]))):(p(),v("div",DR,[s("div",jR,[_[9]||(_[9]=s("p",{class:"text-gray-600 mb-3"},"Please log in to write a review.",-1)),pe(b,{to:"/login",class:"btn btn-primary"},{default:ke(()=>_[8]||(_[8]=[de(" Log In ",-1)])),_:1,__:[8]})])])),a.value?(p(),v("div",NR,_[12]||(_[12]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):i.value.length===0?(p(),v("div",BR,_[13]||(_[13]=[s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1),s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No reviews yet",-1),s("p",{class:"mt-1 text-sm text-gray-500"},"Be the first to review this course.",-1)]))):(p(),v("div",UR,[(p(!0),v(_e,null,Ee(i.value,P=>{var R,M,D,J;return p(),v("div",{key:P.id,class:"border-b border-gray-200 pb-6 last:border-b-0"},[s("div",VR,[s("div",HR,[s("div",zR,[s("span",WR,E((D=(M=(R=P.user)==null?void 0:R.name)==null?void 0:M.charAt(0))==null?void 0:D.toUpperCase()),1)])]),s("div",KR,[s("div",GR,[s("h4",qR,E((J=P.user)==null?void 0:J.name),1),s("div",YR,[(p(),v(_e,null,Ee(5,G=>s("div",{key:G,class:"w-4 h-4"},[(p(),v("svg",{class:ue(G<=P.rating?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20"},_[14]||(_[14]=[s("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2))])),64))]),s("span",XR,E(h(P.created_at)),1)]),P.comment?(p(),v("p",JR,E(P.comment),1)):N("",!0),s("div",QR,[y(P)?(p(),v("button",{key:0,onClick:G=>x(P),class:"text-sm text-gray-600 hover:text-gray-500"}," Edit ",8,ZR)):N("",!0),k(P)?(p(),v("button",{key:1,onClick:G=>S(P),class:"text-sm text-red-600 hover:text-red-500"}," Delete ",8,eM)):N("",!0)])])])])}),128))])),f.value?(p(),v("div",tM,[s("button",{onClick:T,disabled:l.value,class:"px-4 py-2 text-sm font-medium text-primary-600 bg-white border border-primary-300 rounded-md hover:bg-primary-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[l.value?(p(),v("span",oM)):N("",!0),_[15]||(_[15]=de(" Load More ",-1))],8,sM)])):N("",!0)])}}},rM={class:"min-h-screen bg-gray-50 py-8"},nM={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},aM={key:0,class:"flex justify-center py-12"},lM={key:1,class:"space-y-8"},iM={class:"bg-white rounded-lg shadow-sm overflow-hidden"},dM={class:"relative h-64 bg-gradient-to-r from-primary-600 to-primary-800"},uM={class:"relative h-full flex items-center justify-center"},cM={class:"text-center text-white"},fM={class:"text-3xl font-bold mb-2"},pM={class:"text-lg opacity-90"},mM={class:"p-6"},gM={class:"flex flex-col lg:flex-row lg:items-start lg:justify-between"},vM={class:"flex-1"},hM={class:"flex items-center space-x-4 mb-4"},yM={class:"flex items-center"},xM={class:"ml-1 text-sm text-gray-600"},bM={class:"text-sm text-gray-500"},wM={class:"text-sm text-gray-500"},_M={class:"flex items-center space-x-4 mb-6"},CM={class:"flex items-center"},kM={class:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center"},$M={class:"text-primary-600 font-medium"},SM={class:"ml-3"},EM={class:"text-sm font-medium text-gray-900"},AM={class:"lg:ml-8 lg:w-80"},TM={class:"bg-gray-50 rounded-lg p-6"},PM={class:"text-center mb-4"},RM={class:"text-3xl font-bold text-gray-900"},MM={key:0,class:"space-y-3"},IM={key:1,class:"space-y-3"},OM=["disabled"],DM={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},jM={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},LM={class:"lg:col-span-2 space-y-8"},FM={class:"bg-white rounded-lg shadow-sm p-6"},NM={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},BM={class:"text-sm text-gray-700"},UM={class:"bg-white rounded-lg shadow-sm p-6"},VM=["innerHTML"],HM={class:"bg-white rounded-lg shadow-sm p-6"},zM={class:"space-y-2"},WM={class:"p-4 bg-gray-50"},KM={class:"font-medium text-gray-900"},GM={class:"text-sm text-gray-500"},qM={class:"divide-y divide-gray-200"},YM={class:"flex items-center"},XM={class:"text-sm text-gray-700"},JM={class:"text-xs text-gray-500"},QM={key:1,class:"border border-gray-200 rounded-lg"},ZM={class:"p-4 bg-gray-50"},eI={class:"text-sm text-gray-500"},tI={class:"divide-y divide-gray-200"},sI={class:"flex items-center"},oI={class:"text-sm text-gray-700"},rI={class:"text-xs text-gray-500"},nI={key:2,class:"text-sm text-gray-500"},aI={class:"space-y-6"},lI={class:"bg-white rounded-lg shadow-sm p-6"},iI={class:"flex items-start space-x-4"},dI={class:"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center"},uI={class:"text-primary-600 font-medium text-xl"},cI={class:"flex-1"},fI={class:"font-medium text-gray-900"},pI={class:"text-sm text-gray-700"},mI={key:2,class:"text-center py-12"},gI={class:"mt-6"},vI={__name:"CourseDetail",setup(e){const t=fs(),o=kt(),r=ao(),a=Ot(),l=gt(),n=j(!1),i=j(!1),d=j(null),f=Ne(()=>{if(!d.value)return!1;const m=d.value.is_enrolled||!1;return console.log("CourseDetail: isEnrolled computed:",{courseId:d.value.id,isEnrolled:m,courseData:d.value}),m}),u=async()=>{n.value=!0;try{const m=await r.fetchCourseBySlug(t.params.slug);d.value=m}catch(m){console.error("Error fetching course data:",m),l.error("Failed to load course details")}finally{n.value=!1}},c=async()=>{var m,g,y;if(!a.isAuthenticated){o.push("/login");return}i.value=!0;try{console.log("Attempting to enroll in course:",d.value.id),console.log("Course data:",d.value),await r.enrollInCourse(d.value.id),l.success("Successfully enrolled in course!"),await u(),o.push(`/courses/${d.value.slug}/learn`)}catch(k){console.error("Error enrolling in course:",k),console.error("Error response:",k.response),console.error("Error data:",(m=k.response)==null?void 0:m.data),((y=(g=k.response)==null?void 0:g.data)==null?void 0:y.message)==="Already enrolled in this course"?(l.info("You are already enrolled in this course!"),await u()):l.error("Failed to enroll in course")}finally{i.value=!1}};return it(()=>{u()}),(m,g)=>{var k,C,A,T,$,x,S,h,w,_,b,P,R;const y=lt("router-link");return p(),v("div",rM,[s("div",nM,[n.value?(p(),v("div",aM,g[0]||(g[0]=[s("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)]))):d.value?(p(),v("div",lM,[s("div",iM,[s("div",dM,[g[1]||(g[1]=s("div",{class:"absolute inset-0 bg-black bg-opacity-40"},null,-1)),s("div",uM,[s("div",cM,[s("h1",fM,E(d.value.title),1),s("p",pM,E(d.value.short_description),1)])])]),s("div",mM,[s("div",gM,[s("div",vM,[s("div",hM,[s("div",yM,[g[2]||(g[2]=s("svg",{class:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),s("span",xM,E((d.value.average_rating??0).toFixed(1))+" ("+E(d.value.reviews_count||0)+" reviews)",1)]),s("span",bM,E(d.value.enrollments_count||0)+" students enrolled",1),s("span",wM,E(d.value.level),1)]),s("div",_M,[s("div",CM,[s("div",kM,[s("span",$M,E((A=(C=(k=d.value.instructor)==null?void 0:k.name)==null?void 0:C.charAt(0))==null?void 0:A.toUpperCase()),1)]),s("div",SM,[s("p",EM,E((T=d.value.instructor)==null?void 0:T.name),1),g[3]||(g[3]=s("p",{class:"text-xs text-gray-500"},"Instructor",-1))])])])]),s("div",AM,[s("div",TM,[s("div",PM,[s("div",RM,E(($=d.value)!=null&&$.is_free||Number(((x=d.value)==null?void 0:x.price)||0)===0?"Free":`$${Number(d.value.price).toFixed(2)}`),1)]),f.value?(p(),v("div",MM,[g[5]||(g[5]=ft('<div class="bg-success-50 border border-success-200 rounded-lg p-4"><div class="flex items-center"><svg class="w-5 h-5 text-success-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-2 text-sm font-medium text-success-800">Enrolled</span></div></div>',1)),pe(y,{to:`/courses/${d.value.slug}/learn`,class:"btn btn-primary w-full"},{default:ke(()=>g[4]||(g[4]=[de(" Continue Learning ",-1)])),_:1,__:[4]},8,["to"])])):(p(),v("div",IM,[(S=d.value)!=null&&S.is_free||Number(((h=d.value)==null?void 0:h.price)||0)===0?(p(),v("button",{key:0,onClick:c,disabled:i.value,class:"btn btn-primary w-full"},[i.value?(p(),v("span",DM)):N("",!0),de(" "+E(i.value?"Enrolling...":"Enroll Now"),1)],8,OM)):(p(),wt(y,{key:1,to:`/payment/${d.value.slug}`,class:"btn btn-primary w-full"},{default:ke(()=>g[6]||(g[6]=[de(" Pay & Enroll ",-1)])),_:1,__:[6]},8,["to"]))]))])])])])]),s("div",jM,[s("div",LM,[s("div",FM,[g[8]||(g[8]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"What you'll learn",-1)),s("div",NM,[(p(!0),v(_e,null,Ee(d.value.outcomes||[],(M,D)=>(p(),v("div",{key:D,class:"flex items-start"},[g[7]||(g[7]=s("svg",{class:"w-5 h-5 text-success-600 mt-0.5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),s("span",BM,E(M),1)]))),128))])]),s("div",UM,[g[9]||(g[9]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Description",-1)),s("div",{class:"prose prose-sm max-w-none",innerHTML:d.value.description},null,8,VM)]),s("div",HM,[g[13]||(g[13]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Course Content",-1)),s("div",zM,[d.value.sections&&d.value.sections.length?(p(!0),v(_e,{key:0},Ee(d.value.sections,M=>(p(),v("div",{key:M.id,class:"border border-gray-200 rounded-lg"},[s("div",WM,[s("h4",KM,E(M.title),1),s("p",GM,E((M.lessons||[]).length)+" lessons",1)]),s("div",qM,[(p(!0),v(_e,null,Ee(M.lessons||[],D=>(p(),v("div",{key:D.id,class:"p-4 flex items-center justify-between"},[s("div",YM,[g[10]||(g[10]=s("svg",{class:"w-4 h-4 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s("span",XM,E(D.title),1)]),s("span",JM,E(D.video_duration?`${D.video_duration} min`:""),1)]))),128))])]))),128)):d.value.lessons&&d.value.lessons.length?(p(),v("div",QM,[s("div",ZM,[g[11]||(g[11]=s("h4",{class:"font-medium text-gray-900"},"All lessons",-1)),s("p",eI,E(d.value.lessons.length)+" lessons",1)]),s("div",tI,[(p(!0),v(_e,null,Ee(d.value.lessons,M=>(p(),v("div",{key:M.id,class:"p-4 flex items-center justify-between"},[s("div",sI,[g[12]||(g[12]=s("svg",{class:"w-4 h-4 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s("span",oI,E(M.title),1)]),s("span",rI,E(M.video_duration?`${M.video_duration} min`:""),1)]))),128))])])):(p(),v("p",nI,"No content available."))])]),pe(Bm,{"course-id":d.value.id},null,8,["course-id"]),pe(Um,{"course-id":d.value.id,"is-enrolled":f.value},null,8,["course-id","is-enrolled"])]),s("div",aI,[s("div",lI,[g[14]||(g[14]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Instructor",-1)),s("div",iI,[s("div",dI,[s("span",uI,E((b=(_=(w=d.value.instructor)==null?void 0:w.name)==null?void 0:_.charAt(0))==null?void 0:b.toUpperCase()),1)]),s("div",cI,[s("h4",fI,E((P=d.value.instructor)==null?void 0:P.name),1),s("p",pI,E((R=d.value.instructor)==null?void 0:R.bio),1)])])])])])])):(p(),v("div",mI,[g[16]||(g[16]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),g[17]||(g[17]=s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Course not found",-1)),g[18]||(g[18]=s("p",{class:"mt-1 text-sm text-gray-500"},"The course you're looking for doesn't exist.",-1)),s("div",gI,[pe(y,{to:"/courses",class:"btn btn-primary"},{default:ke(()=>g[15]||(g[15]=[de("Browse Courses",-1)])),_:1,__:[15]})])]))])])}}},hI={class:"min-h-screen bg-gray-50 py-8"},yI={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},xI={class:"mb-8"},bI={class:"flex items-center justify-between"},wI={key:0,class:"flex justify-center py-12"},_I={key:1,class:"bg-white rounded-lg shadow-sm"},CI={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},kI={key:0,class:"mt-1 text-sm text-red-600"},$I=["value"],SI={key:0,class:"mt-1 text-sm text-red-600"},EI={key:0,class:"mt-1 text-sm text-red-600"},AI={key:0,class:"mt-1 text-sm text-red-600"},TI={key:0,class:"mt-1 text-sm text-red-600"},PI={class:"space-y-2"},RI=["onUpdate:modelValue"],MI=["onClick"],II={class:"space-y-2"},OI=["onUpdate:modelValue"],DI=["onClick"],jI={key:0,class:"mb-4"},LI=["src"],FI={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},NI={class:"space-y-1 text-center"},BI={class:"flex text-sm text-gray-600"},UI={for:"file-upload",class:"relative cursor-pointer bg-white rounded-md font-medium text-primary-600 hover:text-primary-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-primary-500"},VI={key:1,class:"mt-1 text-sm text-red-600"},HI={class:"border-t border-gray-200 pt-6"},zI={class:"space-y-4"},WI={class:"flex items-center"},KI={class:"flex items-center"},GI={class:"flex items-center"},qI={class:"flex justify-end space-x-4 pt-6 border-t border-gray-200"},YI=["disabled"],XI={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},JI=["disabled"],QI={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},ZI={key:2,class:"text-center py-12"},eO={class:"mt-6"},tO={__name:"CourseEdit",setup(e){const t=fs(),o=kt(),r=ao(),a=gt(),l=j(!1),n=j(!1),i=j(null),d=j([]),f=Ye({}),u=Ye({title:"",subtitle:"",description:"",category_id:"",level:"",price:0,learning_outcomes:[""],requirements:[""],image:null,is_featured:!1,allow_reviews:!0,allow_certificates:!0,status:"draft"}),c=()=>{u.learning_outcomes.push("")},m=S=>{u.learning_outcomes.splice(S,1)},g=()=>{u.requirements.push("")},y=S=>{u.requirements.splice(S,1)},k=S=>{const h=S.target.files[0];if(h){if(h.size>10*1024*1024){a.error("Image size must be less than 10MB");return}u.image=h}},C=()=>{i.value&&(u.title=i.value.title||"",u.subtitle=i.value.subtitle||"",u.description=i.value.description||"",u.category_id=i.value.category_id||"",u.level=i.value.level||"",u.price=i.value.price||0,u.learning_outcomes=i.value.learning_outcomes||[""],u.requirements=i.value.requirements||[""],u.is_featured=i.value.is_featured||!1,u.allow_reviews=i.value.allow_reviews!==!1,u.allow_certificates=i.value.allow_certificates!==!1,u.status=i.value.status||"draft")},A=()=>(f.value={},u.title||(f.title="Course title is required"),u.category_id||(f.category_id="Please select a category"),u.level||(f.level="Please select a level"),u.description||(f.description="Course description is required"),u.price<0&&(f.price="Price cannot be negative"),u.learning_outcomes=u.learning_outcomes.filter(S=>S.trim()),u.requirements=u.requirements.filter(S=>S.trim()),Object.keys(f.value).length===0),T=async()=>{u.status="draft",await x()},$=async()=>{u.status="published",await x()},x=async()=>{var S,h;if(A()){n.value=!0;try{const w=new FormData;Object.keys(u).forEach(_=>{_==="learning_outcomes"||_==="requirements"?w.append(_,JSON.stringify(u[_])):_==="image"&&u[_]?w.append("image",u[_]):_!=="image"&&w.append(_,u[_])}),await r.updateCourse(t.params.slug,w),o.push(`/courses/${i.value.slug}`)}catch(w){(h=(S=w.response)==null?void 0:S.data)!=null&&h.errors?f.value=w.response.data.errors:a.error("Failed to update course. Please try again.")}finally{n.value=!1}}};return it(async()=>{var S;l.value=!0;try{const[h,w]=await Promise.all([r.fetchCourseBySlug(t.params.slug),r.fetchCategories()]);i.value=h,d.value=w,C()}catch(h){console.error("Error fetching course data:",h),((S=h.response)==null?void 0:S.status)>=400&&a.error("Failed to load course data")}finally{l.value=!1}}),(S,h)=>{var _;const w=lt("router-link");return p(),v("div",hI,[s("div",yI,[s("div",xI,[s("div",bI,[h[9]||(h[9]=s("div",null,[s("h1",{class:"text-3xl font-bold text-gray-900"},"Edit Course"),s("p",{class:"mt-2 text-gray-600"},"Update your course information and content")],-1)),pe(w,{to:`/courses/${(_=i.value)==null?void 0:_.slug}`,class:"btn btn-secondary"},{default:ke(()=>h[8]||(h[8]=[de(" Back to Course ",-1)])),_:1,__:[8]},8,["to"])])]),l.value?(p(),v("div",wI,h[10]||(h[10]=[s("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)]))):i.value?(p(),v("div",_I,[h[32]||(h[32]=s("div",{class:"px-6 py-4 border-b border-gray-200"},[s("h2",{class:"text-lg font-medium text-gray-900"},"Course Information")],-1)),s("form",{onSubmit:Ue($,["prevent"]),class:"p-6 space-y-8"},[s("div",CI,[s("div",null,[h[11]||(h[11]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Course Title *",-1)),xe(s("input",{"onUpdate:modelValue":h[0]||(h[0]=b=>u.title=b),type:"text",required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":f.title}]),placeholder:"Enter course title"},null,2),[[Pe,u.title]]),f.title?(p(),v("p",kI,E(f.title),1)):N("",!0)]),s("div",null,[h[13]||(h[13]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category *",-1)),xe(s("select",{"onUpdate:modelValue":h[1]||(h[1]=b=>u.category_id=b),required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":f.category_id}])},[h[12]||(h[12]=s("option",{value:""},"Select a category",-1)),(p(!0),v(_e,null,Ee(d.value,b=>(p(),v("option",{key:b.id,value:b.id},E(b.name),9,$I))),128))],2),[[_t,u.category_id]]),f.category_id?(p(),v("p",SI,E(f.category_id),1)):N("",!0)]),s("div",null,[h[15]||(h[15]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Level *",-1)),xe(s("select",{"onUpdate:modelValue":h[2]||(h[2]=b=>u.level=b),required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":f.level}])},h[14]||(h[14]=[s("option",{value:""},"Select level",-1),s("option",{value:"beginner"},"Beginner",-1),s("option",{value:"intermediate"},"Intermediate",-1),s("option",{value:"advanced"},"Advanced",-1)]),2),[[_t,u.level]]),f.level?(p(),v("p",EI,E(f.level),1)):N("",!0)]),s("div",null,[h[16]||(h[16]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Price ($)",-1)),xe(s("input",{"onUpdate:modelValue":h[3]||(h[3]=b=>u.price=b),type:"number",min:"0",step:"0.01",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":f.price}]),placeholder:"0.00 for free courses"},null,2),[[Pe,u.price]]),f.price?(p(),v("p",AI,E(f.price),1)):N("",!0)])]),s("div",null,[h[17]||(h[17]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Course Description *",-1)),xe(s("textarea",{"onUpdate:modelValue":h[4]||(h[4]=b=>u.description=b),rows:"6",required:"",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":f.description}]),placeholder:"Describe your course content, what students will learn, and any prerequisites..."},null,2),[[Pe,u.description]]),f.description?(p(),v("p",TI,E(f.description),1)):N("",!0)]),s("div",null,[h[19]||(h[19]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Learning Outcomes",-1)),s("div",PI,[(p(!0),v(_e,null,Ee(u.learning_outcomes,(b,P)=>(p(),v("div",{key:P,class:"flex items-center space-x-2"},[xe(s("input",{"onUpdate:modelValue":R=>u.learning_outcomes[P]=R,type:"text",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"What will students learn?"},null,8,RI),[[Pe,u.learning_outcomes[P]]]),u.learning_outcomes.length>1?(p(),v("button",{key:0,type:"button",onClick:R=>m(P),class:"p-2 text-red-600 hover:text-red-800"},h[18]||(h[18]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,MI)):N("",!0)]))),128))]),s("button",{type:"button",onClick:c,class:"mt-2 text-sm text-primary-600 hover:text-primary-700 font-medium"}," + Add Learning Outcome ")]),s("div",null,[h[21]||(h[21]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Requirements",-1)),s("div",II,[(p(!0),v(_e,null,Ee(u.requirements,(b,P)=>(p(),v("div",{key:P,class:"flex items-center space-x-2"},[xe(s("input",{"onUpdate:modelValue":R=>u.requirements[P]=R,type:"text",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"What do students need to know before starting?"},null,8,OI),[[Pe,u.requirements[P]]]),u.requirements.length>1?(p(),v("button",{key:0,type:"button",onClick:R=>y(P),class:"p-2 text-red-600 hover:text-red-800"},h[20]||(h[20]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,DI)):N("",!0)]))),128))]),s("button",{type:"button",onClick:g,class:"mt-2 text-sm text-primary-600 hover:text-primary-700 font-medium"}," + Add Requirement ")]),s("div",null,[h[27]||(h[27]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Course Image",-1)),i.value.image?(p(),v("div",jI,[s("img",{src:i.value.image,alt:"Current course image",class:"w-32 h-20 object-cover rounded-md"},null,8,LI),h[22]||(h[22]=s("p",{class:"text-sm text-gray-500 mt-1"},"Current image",-1))])):N("",!0),s("div",FI,[s("div",NI,[h[25]||(h[25]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[s("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),s("div",BI,[s("label",UI,[h[23]||(h[23]=s("span",null,"Upload a file",-1)),s("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",accept:"image/*",onChange:k},null,32)]),h[24]||(h[24]=s("p",{class:"pl-1"},"or drag and drop",-1))]),h[26]||(h[26]=s("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF up to 10MB",-1))])]),f.image?(p(),v("p",VI,E(f.image),1)):N("",!0)]),s("div",HI,[h[31]||(h[31]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Course Settings",-1)),s("div",zI,[s("div",WI,[xe(s("input",{"onUpdate:modelValue":h[5]||(h[5]=b=>u.is_featured=b),id:"featured",type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[bs,u.is_featured]]),h[28]||(h[28]=s("label",{for:"featured",class:"ml-2 block text-sm text-gray-900"}," Feature this course on the homepage ",-1))]),s("div",KI,[xe(s("input",{"onUpdate:modelValue":h[6]||(h[6]=b=>u.allow_reviews=b),id:"reviews",type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[bs,u.allow_reviews]]),h[29]||(h[29]=s("label",{for:"reviews",class:"ml-2 block text-sm text-gray-900"}," Allow student reviews ",-1))]),s("div",GI,[xe(s("input",{"onUpdate:modelValue":h[7]||(h[7]=b=>u.allow_certificates=b),id:"certificates",type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[bs,u.allow_certificates]]),h[30]||(h[30]=s("label",{for:"certificates",class:"ml-2 block text-sm text-gray-900"}," Issue certificates upon completion ",-1))])])]),s("div",qI,[s("button",{type:"button",onClick:T,disabled:n.value,class:"btn btn-secondary"},[n.value?(p(),v("span",XI)):N("",!0),de(" "+E(n.value?"Saving...":"Save as Draft"),1)],8,YI),s("button",{type:"submit",disabled:n.value,class:"btn btn-primary"},[n.value?(p(),v("span",QI)):N("",!0),de(" "+E(n.value?"Updating...":"Update Course"),1)],8,JI)])],32)])):(p(),v("div",ZI,[h[34]||(h[34]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),h[35]||(h[35]=s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Course not found",-1)),h[36]||(h[36]=s("p",{class:"mt-1 text-sm text-gray-500"},"The course you're looking for doesn't exist.",-1)),s("div",eO,[pe(w,{to:"/dashboard",class:"btn btn-primary"},{default:ke(()=>h[33]||(h[33]=[de(" Back to Dashboard ",-1)])),_:1,__:[33]})])]))])])}}};const sO={class:"student-course-view"},oO={class:"top-navbar"},rO={class:"navbar-left"},nO={class:"course-title"},aO={class:"main-layout"},lO={class:"sidebar-tabs"},iO={class:"search-container"},dO={key:0,class:"course-outline"},uO=["data-section-id","onClick"],cO={class:"module-content"},fO={class:"module-title-row"},pO={class:"module-number"},mO=["onClick"],gO={class:"module-title-text"},vO={class:"module-progress-row"},hO={class:"progress-bar"},yO={class:"progress-text"},xO={key:0,class:"lessons-container"},bO=["onClick"],wO={class:"lesson-main"},_O={class:"lesson-status"},CO={key:0,class:"fas fa-check-circle"},kO={key:1,class:"fas fa-play-circle"},$O={key:2,class:"far fa-circle"},SO={class:"lesson-info"},EO={class:"lesson-title"},AO={class:"lesson-progress"},TO={class:"sub-items"},PO=["onClick"],RO={class:"sub-item-text"},MO={key:1,class:"resources-content"},IO={class:"main-content"},OO={key:0,class:"lesson-header"},DO={class:"lesson-hero"},jO={class:"lesson-title"},LO={class:"lesson-content"},FO={key:0,class:"widgets-container"},NO=["data-widget-id"],BO={key:0,class:"text-widget"},UO=["innerHTML"],VO={key:1,class:"video-widget"},HO={class:"video-container"},zO={key:0,class:"video-player"},WO=["src"],KO=["src"],GO={key:1,class:"video-placeholder"},qO={key:2,class:"image-widget"},YO=["src","alt"],XO={key:3,class:"quiz-widget"},JO={class:"quiz-container"},QO={key:0,class:"quiz-options"},ZO=["name","value"],eD={key:4,class:"generic-widget"},tD={key:1,class:"no-content"},sD={key:1,class:"comments-section"},oD={key:2,class:"reviews-section"},rD={class:"floating-actions"},nD=["disabled"],aD={class:"search-input-container"},lD={class:"search-results"},iD={key:0,class:"results-list"},dD=["onClick"],uD={class:"result-preview"},cD=["innerHTML"],fD={class:"result-context"},pD={key:1,class:"no-results"},mD={key:2,class:"search-hint"},gD={__name:"StudentCourseView",setup(e){const t=fs();kt();const o=ao(),r=gt(),a=j(!0),l=j(null),n=j([]),i=j(null),d=j(null),f=j(null),u=j(null),c=j(null),m=j(!1),g=j("outline"),y=j(""),k=j([]),C=j(!1),A=j(!1),T=j(""),$=j([]),x=j(!1),S=j(new Set),h=j(null),w=j(null),_=()=>{if(l.value){const W=`viewed_widgets_${l.value.id}`,H=localStorage.getItem(W);if(H)try{const K=JSON.parse(H);S.value=new Set(K)}catch(K){console.error("Error loading viewed widgets from storage:",K)}}},b=()=>{if(l.value){const W=`viewed_widgets_${l.value.id}`,H=Array.from(S.value);localStorage.setItem(W,JSON.stringify(H))}},P=Ne(()=>y.value?n.value.map(W=>({...W,lessons:W.lessons.filter(H=>H.title.toLowerCase().includes(y.value.toLowerCase()))})).filter(W=>W.lessons.length>0):n.value),R=W=>W?typeof W=="string"?/^(.)\1{50,}$/.test(W)?`<p style="word-break: break-all; overflow-wrap: break-word; max-width: 100%;">${W}</p>`:`<div style="word-break: break-word; overflow-wrap: break-word; max-width: 100%; white-space: pre-wrap;">${W}</div>`:W:"No content available",M=async()=>{try{a.value=!0;const W=t.params.slug,H=await o.fetchCourseBySlug(W);H&&(l.value=H,D(H))}catch(W){console.error("Error loading course:",W),r.error("Failed to load course")}finally{a.value=!1}},D=async W=>{if(W.pages&&W.pages.length>0){const H=await me(W.id);H!=null&&H.pages&&H.pages.forEach(K=>{K.widgets&&K.widgets.forEach(L=>{(L.viewed||L.completed)&&S.value.add(L.widget_id.toString())})}),_(),n.value=W.pages.map(K=>{var ye,Re,Fe,he;const L=(ye=H==null?void 0:H.pages)==null?void 0:ye.find(U=>U.page_id===K.id),ae=((Re=K.widgets)==null?void 0:Re.length)||0;(Fe=K.widgets)!=null&&Fe.filter(U=>{var re;const Y=(re=L==null?void 0:L.widgets)==null?void 0:re.find(ve=>ve.widget_id===U.id);return(Y==null?void 0:Y.completed)||!1}).length;const ee=((he=K.widgets)==null?void 0:he.filter(U=>S.value.has(U.id.toString())).length)||0;let le=0;return(L==null?void 0:L.progress_percentage)!==void 0?le=L.progress_percentage:ae>0&&(le=Math.round(ee/ae*100)),{id:K.id,title:K.title,progress:le,lessons:(K.widgets||[]).map(U=>{var ve,z;const Y=(ve=L==null?void 0:L.widgets)==null?void 0:ve.find(V=>V.widget_id===U.id),re=S.value.has(U.id.toString());return{id:U.id,title:U.widget_type==="text"?"Text Content":U.widget_type,type:U.widget_type,duration:((z=U.widget_data)==null?void 0:z.duration)||0,completed:(Y==null?void 0:Y.completed)||re,widgets:[U]}})}}),W.pages.length>0&&(J(W.pages[0]),k.value=[W.pages[0].id]),Ce()}else n.value=W.sections||[]},J=W=>{c.value=W.id,u.value=W,d.value=W.id},G=async W=>{var K;console.log("Selecting page from section:",W);const H=n.value.find(L=>L.id===W);if(console.log("Found section:",H),H)if((K=l.value)!=null&&K.pages){const L=l.value.pages.find(ae=>ae.id===W);console.log("Found page:",L),L?(J(L),console.log("Selected page:",u.value),await so(),q(),be()):console.error("Page not found in course.pages for section ID:",W)}else console.error("No pages found in course");else console.error("Section not found for ID:",W)},B=W=>{var H;i.value=W.id,f.value=W,d.value=(H=n.value.find(K=>K.lessons.some(L=>L.id===W.id)))==null?void 0:H.id},X=W=>{const H=k.value.indexOf(W);H>-1?k.value.splice(H,1):k.value.push(W)},te=()=>{m.value=!m.value},se=()=>{C.value=!C.value,C.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Se=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},Ve=()=>{A.value=!A.value,A.value?setTimeout(()=>{const W=document.querySelector(".content-search-input");W&&W.focus()},100):(T.value="",$.value=[])},$e=()=>{A.value=!1,T.value="",$.value=[]},ze=()=>{var K;if(!T.value.trim()){$.value=[];return}x.value=!0;const W=T.value.toLowerCase(),H=[];(K=u.value)!=null&&K.widgets&&u.value.widgets.forEach((L,ae)=>{var ye,Re,Fe,he,U,Y,re;let ee="",le="";switch(L.widget_type){case"text":ee=((ye=L.widget_data)==null?void 0:ye.content)||"",le="Text Content";break;case"video":ee=((Re=L.widget_data)==null?void 0:Re.title)||((Fe=L.widget_data)==null?void 0:Fe.description)||"",le="Video";break;case"image":ee=((he=L.widget_data)==null?void 0:he.alt)||((U=L.widget_data)==null?void 0:U.caption)||"",le="Image";break;case"quiz":ee=((Y=L.widget_data)==null?void 0:Y.question)||"",le="Quiz";break;case"mcq":ee=((re=L.widget_data)==null?void 0:re.question)||"",le="Multiple Choice";break;default:ee=JSON.stringify(L.widget_data||{}),le="Content"}if(ee.toLowerCase().includes(W)){const ve=ee.replace(new RegExp(`(${W})`,"gi"),"<mark>$1</mark>");H.push({widgetIndex:ae,widgetType:le,preview:ve.substring(0,200)+(ee.length>200?"...":""),fullContent:ee})}}),$.value=H,x.value=!1},ge=W=>{A.value=!1;const H=document.querySelectorAll(".content-widget");H[W.widgetIndex]&&(H[W.widgetIndex].scrollIntoView({behavior:"smooth",block:"center"}),H[W.widgetIndex].style.backgroundColor="#fef3c7",H[W.widgetIndex].style.border="2px solid #f59e0b",setTimeout(()=>{H[W.widgetIndex].style.backgroundColor="",H[W.widgetIndex].style.border=""},3e3))},q=()=>{h.value&&h.value.disconnect(),h.value=new IntersectionObserver(H=>{H.forEach(K=>{if(K.isIntersecting){const L=K.target.dataset.widgetId;L&&!S.value.has(L)&&(S.value.add(L),we(L,!0),be())}})},{threshold:.6,rootMargin:"0px 0px -5% 0px"}),document.querySelectorAll(".content-widget").forEach(H=>{h.value.observe(H)})},we=async(W,H)=>{if(!(!u.value||!l.value))try{await ie.post("/progress/mark-viewed",{course_id:l.value.id,page_id:u.value.id,widget_id:W,viewed:H}),Z(),b()}catch(K){console.error("Error updating widget progress:",K),Z(),b()}},Z=()=>{var ae,ee;if(!u.value)return;const W=n.value.find(le=>le.id===u.value.id);if(!W)return;const H=((ae=u.value.widgets)==null?void 0:ae.length)||0,K=((ee=u.value.widgets)==null?void 0:ee.filter(le=>S.value.has(le.id.toString())).length)||0,L=H>0?Math.round(K/H*100):0;W.progress=L,W.lessons.forEach(le=>{if(le.widgets&&le.widgets.length>0){const ye=le.widgets.filter(Re=>S.value.has(Re.id.toString())).length;le.completed=ye===le.widgets.length}})},be=()=>{var ee,le;if(!u.value)return;const W=n.value.find(ye=>ye.id===u.value.id);if(!W)return;const H=((ee=u.value.widgets)==null?void 0:ee.length)||0,K=((le=u.value.widgets)==null?void 0:le.filter(ye=>S.value.has(ye.id.toString())).length)||0,L=H>0?Math.round(K/H*100):0,ae=W.progress;if(W.progress=L,L>ae){const ye=document.querySelector(`[data-section-id="${W.id}"] .progress-text`);ye&&(ye.classList.add("updating"),setTimeout(()=>{ye.classList.remove("updating")},1e3))}W.lessons.forEach(ye=>{if(ye.widgets&&ye.widgets.length>0){const Re=ye.widgets.filter(Fe=>S.value.has(Fe.id.toString())).length;ye.completed=Re===ye.widgets.length}}),L>0&&L%25===0&&L!==ae&&r.info(`Module progress: ${L}%`)},Ce=()=>{n.value.forEach(W=>{var L,ae;const H=((L=W.lessons)==null?void 0:L.reduce((ee,le)=>{var ye;return ee+(((ye=le.widgets)==null?void 0:ye.length)||0)},0))||0,K=((ae=W.lessons)==null?void 0:ae.reduce((ee,le)=>{var ye;return ee+(((ye=le.widgets)==null?void 0:ye.filter(Re=>S.value.has(Re.id.toString())).length)||0)},0))||0;W.progress=H>0?Math.round(K/H*100):0})},Oe=W=>!W.widgets||W.widgets.length===0?"0 / 0":`${W.widgets.filter(K=>S.value.has(K.id.toString())).length} / ${W.widgets.length}`,Xe=W=>!W.widgets||W.widgets.length===0?[]:W.widgets.map((H,K)=>({id:H.id,title:st(H,K+1),type:H.widget_type,widget:H})),st=(W,H)=>{const K=W.widget_type,L=W.widget_data||{};switch(K){case"video":return`${H}. Video - ${L.title||"Video Content"}`;case"text":return`${H}. ${L.title||"Text Content"}`;case"image":return`${H}. Image - ${L.alt||"Image Content"}`;case"quiz":return`${H}. Quiz - ${L.question||"Quiz Question"}`;case"mcq":return`${H}. Multiple Choice - ${L.question||"MCQ Question"}`;default:return`${H}. ${K.charAt(0).toUpperCase()+K.slice(1)} Content`}},I=W=>W?/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/.+/.test(W):!1,F=W=>{if(!W)return"";let H="";return W.includes("youtu.be/")?H=W.split("youtu.be/")[1].split("?")[0]:W.includes("youtube.com/watch")?H=new URLSearchParams(W.split("?")[1]).get("v"):W.includes("youtube.com/embed/")&&(H=W.split("youtube.com/embed/")[1].split("?")[0]),H?`https://www.youtube.com/embed/${H}`:W},ne=W=>{w.value=W.id;const H=document.querySelector(`[data-widget-id="${W.id}"]`);H&&(H.scrollIntoView({behavior:"smooth",block:"center"}),H.style.backgroundColor="#fef3c7",H.style.border="2px solid #f59e0b",setTimeout(()=>{H.style.backgroundColor="",H.style.border=""},3e3))},me=async W=>{try{return(await ie.get(`/progress/course/${W}`)).data.data}catch(H){return console.error("Error loading course progress:",H),null}},ce=async(W,H)=>{if(W)try{for(const K of W.widgets||[])await ie.post("/progress/mark-complete",{course_id:l.value.id,page_id:W.id,widget_id:K.id,completed:H});r.success(H?"Page marked as complete!":"Page marked as incomplete"),await loadCourse()}catch(K){console.error("Error marking page complete:",K),r.error("Failed to update page status")}};return it(()=>{M()}),no(()=>{h.value&&h.value.disconnect()}),xt(u,async W=>{W&&(await so(),q(),Z())},{immediate:!0}),xt(()=>t.params.slug,()=>{M()}),(W,H)=>{var K,L,ae;return p(),v("div",sO,[s("div",oO,[s("div",rO,[s("button",{onClick:te,class:"hamburger-btn"},H[6]||(H[6]=[s("i",{class:"fas fa-bars"},null,-1)])),s("h1",nO,E(((K=f.value)==null?void 0:K.title)||((L=l.value)==null?void 0:L.title)||"Loading..."),1)]),s("div",{class:"navbar-right"},[s("button",{onClick:te,class:"nav-btn"},H[7]||(H[7]=[s("i",{class:"fas fa-list"},null,-1),de(" Content ",-1)])),s("button",{onClick:se,class:"nav-btn"},H[8]||(H[8]=[s("i",{class:"fas fa-moon"},null,-1)])),s("button",{onClick:Ve,class:"nav-btn"},H[9]||(H[9]=[s("i",{class:"fas fa-search"},null,-1)])),s("button",{onClick:Se,class:"nav-btn"},H[10]||(H[10]=[s("i",{class:"fas fa-expand"},null,-1)]))])]),s("div",aO,[s("div",{class:ue(["sidebar",{"sidebar-collapsed":m.value}])},[s("div",lO,[s("button",{class:ue(["tab-btn",{active:g.value==="outline"}]),onClick:H[0]||(H[0]=ee=>g.value="outline")}," Course Outline ",2),s("button",{class:ue(["tab-btn",{active:g.value==="resources"}]),onClick:H[1]||(H[1]=ee=>g.value="resources")}," Resources ",2)]),s("div",iO,[H[11]||(H[11]=s("i",{class:"fas fa-search search-icon"},null,-1)),xe(s("input",{"onUpdate:modelValue":H[2]||(H[2]=ee=>y.value=ee),type:"text",placeholder:"Search course outline",class:"search-input"},null,512),[[Pe,y.value]])]),g.value==="outline"?(p(),v("div",dO,[(p(!0),v(_e,null,Ee(P.value,(ee,le)=>(p(),v("div",{key:ee.id,class:"module-section"},[s("div",{class:ue(["module-header",{active:c.value===ee.id,expanded:k.value.includes(ee.id)}]),"data-section-id":ee.id,onClick:ye=>G(ee.id)},[s("div",cO,[s("div",fO,[s("span",pO,"Module "+E(le+1)+":",1),s("i",{class:ue(["fas chevron-icon",k.value.includes(ee.id)?"fa-chevron-up":"fa-chevron-down"]),onClick:Ue(ye=>X(ee.id),["stop"])},null,10,mO)]),s("div",gO,E(ee.title),1),s("div",vO,[s("div",hO,[s("div",{class:"progress-fill",style:ns({width:ee.progress+"%"})},null,4)]),s("span",yO,E(ee.progress)+"%",1)])])],10,uO),k.value.includes(ee.id)?(p(),v("div",xO,[(p(!0),v(_e,null,Ee(ee.lessons,(ye,Re)=>(p(),v("div",{key:ye.id,class:ue(["lesson-row",{active:i.value===ye.id,completed:ye.completed}]),onClick:Fe=>B(ye)},[s("div",wO,[s("div",_O,[ye.completed?(p(),v("i",CO)):i.value===ye.id?(p(),v("i",kO)):(p(),v("i",$O))]),s("div",SO,[s("span",EO,E(le+1)+"."+E(Re)+". "+E(ye.title),1),s("span",AO,E(Oe(ye)),1)])]),s("div",TO,[(p(!0),v(_e,null,Ee(Xe(ye),(Fe,he)=>(p(),v("div",{key:Fe.id,class:ue(["sub-item",{active:w.value===Fe.id}]),onClick:Ue(U=>ne(Fe),["stop"])},[s("span",RO,E(Fe.title),1),H[12]||(H[12]=s("i",{class:"fas fa-chevron-right sub-chevron"},null,-1))],10,PO))),128))])],10,bO))),128))])):N("",!0)]))),128))])):N("",!0),g.value==="resources"?(p(),v("div",MO,H[13]||(H[13]=[ft('<div class="resource-item" data-v-a1a63386><i class="fas fa-file-pdf" data-v-a1a63386></i><span data-v-a1a63386>Course Materials</span></div><div class="resource-item" data-v-a1a63386><i class="fas fa-video" data-v-a1a63386></i><span data-v-a1a63386>Video Resources</span></div><div class="resource-item" data-v-a1a63386><i class="fas fa-link" data-v-a1a63386></i><span data-v-a1a63386>External Links</span></div>',3)]))):N("",!0)],2),s("div",IO,[u.value?(p(),v("div",OO,[s("div",DO,[s("h1",jO,E(u.value.title||"Untitled Page"),1)])])):N("",!0),s("div",LO,[(ae=u.value)!=null&&ae.widgets?(p(),v("div",FO,[(p(!0),v(_e,null,Ee(u.value.widgets,ee=>{var le,ye,Re,Fe,he,U;return p(),v("div",{key:ee.id,class:"content-widget","data-widget-id":ee.id},[ee.widget_type==="text"?(p(),v("div",BO,[s("div",{class:"text-content",innerHTML:R((le=ee.widget_data)==null?void 0:le.content)},null,8,UO)])):ee.widget_type==="video"?(p(),v("div",VO,[s("div",HO,[(ye=ee.widget_data)!=null&&ye.url?(p(),v("div",zO,[I(ee.widget_data.url)?(p(),v("iframe",{key:0,src:F(ee.widget_data.url),frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",class:"youtube-iframe"},null,8,WO)):(p(),v("video",{key:1,src:ee.widget_data.url,controls:"",class:"video-element"},null,8,KO))])):(p(),v("div",GO,H[14]||(H[14]=[s("i",{class:"fas fa-video"},null,-1),s("p",null,"Video content will be displayed here",-1)])))])])):ee.widget_type==="image"?(p(),v("div",qO,[(Re=ee.widget_data)!=null&&Re.url?(p(),v("img",{key:0,src:ee.widget_data.url,alt:((Fe=ee.widget_data)==null?void 0:Fe.alt)||"Course image",class:"content-image"},null,8,YO)):N("",!0)])):ee.widget_type==="quiz"?(p(),v("div",XO,[s("div",JO,[s("h3",null,E(((he=ee.widget_data)==null?void 0:he.question)||"Quiz Question"),1),(U=ee.widget_data)!=null&&U.options?(p(),v("div",QO,[(p(!0),v(_e,null,Ee(ee.widget_data.options,(Y,re)=>(p(),v("label",{key:re,class:"quiz-option"},[s("input",{type:"radio",name:`quiz-${ee.id}`,value:re},null,8,ZO),s("span",null,E(Y),1)]))),128))])):N("",!0),H[15]||(H[15]=s("button",{class:"quiz-submit-btn"},"Submit Answer",-1))])])):(p(),v("div",eD,[s("h3",null,E(ee.widget_type),1),s("pre",null,E(JSON.stringify(ee.widget_data,null,2)),1)]))],8,NO)}),128))])):(p(),v("div",tD,H[16]||(H[16]=[s("i",{class:"fas fa-book-open"},null,-1),s("h3",null,"No content available",-1),s("p",null,"This lesson doesn't have any content yet.",-1)])))]),l.value?(p(),v("div",sD,[pe(Bm,{"course-id":l.value.id},null,8,["course-id"])])):N("",!0),l.value?(p(),v("div",oD,[pe(Um,{"course-id":l.value.id,"is-enrolled":!0},null,8,["course-id"])])):N("",!0),s("div",rD,[H[18]||(H[18]=s("button",{class:"fab",title:"Code View"},[s("i",{class:"fas fa-code"})],-1)),s("button",{class:"fab primary",title:"Mark Complete",onClick:H[3]||(H[3]=ee=>{var le;return ce(u.value,!((le=u.value)!=null&&le.completed))}),disabled:!u.value},H[17]||(H[17]=[s("i",{class:"fas fa-check"},null,-1)]),8,nD),H[19]||(H[19]=s("button",{class:"fab beta",title:"Beta Features"},[s("span",null,"Beta")],-1))])])]),A.value?(p(),v("div",{key:0,class:"search-modal-overlay",onClick:$e},[s("div",{class:"search-modal",onClick:H[5]||(H[5]=Ue(()=>{},["stop"]))},[s("div",{class:"search-header"},[H[21]||(H[21]=s("h3",null,"Search Content",-1)),s("button",{onClick:$e,class:"close-btn"},H[20]||(H[20]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("div",aD,[xe(s("input",{"onUpdate:modelValue":H[4]||(H[4]=ee=>T.value=ee),onInput:ze,type:"text",placeholder:"Search within lesson content...",class:"content-search-input",ref:"contentSearchInput"},null,544),[[Pe,T.value]]),H[22]||(H[22]=s("i",{class:"fas fa-search search-icon"},null,-1))]),s("div",lD,[$.value.length>0?(p(),v("div",iD,[(p(!0),v(_e,null,Ee($.value,(ee,le)=>(p(),v("div",{key:le,class:"search-result-item",onClick:ye=>ge(ee)},[s("div",uD,[s("span",{innerHTML:ee.preview},null,8,cD)]),s("div",fD," Found in: "+E(ee.widgetType),1)],8,dD))),128))])):T.value&&!x.value?(p(),v("div",pD,[H[23]||(H[23]=s("i",{class:"fas fa-search"},null,-1)),s("p",null,'No results found for "'+E(T.value)+'"',1)])):T.value?N("",!0):(p(),v("div",mD,H[24]||(H[24]=[s("i",{class:"fas fa-lightbulb"},null,-1),s("p",null,"Type to search within the lesson content",-1)])))])])])):N("",!0)])}}},vD=Kt(gD,[["__scopeId","data-v-a1a63386"]]),hD={__name:"CourseLessons",setup(e){return(t,o)=>(p(),wt(vD))}};const yD={class:"bg-white rounded-lg shadow-md overflow-hidden animate-pulse"},xD={__name:"CourseSkeleton",setup(e){return(t,o)=>(p(),v("div",yD,o[0]||(o[0]=[ft('<div class="aspect-w-16 aspect-h-9 bg-gray-200 h-48" data-v-69101a4b></div><div class="p-4" data-v-69101a4b><div class="flex items-center justify-between mb-2" data-v-69101a4b><div class="h-4 bg-gray-200 rounded w-16" data-v-69101a4b></div><div class="h-4 bg-gray-200 rounded w-20" data-v-69101a4b></div></div><div class="h-5 bg-gray-200 rounded w-full mb-2" data-v-69101a4b></div><div class="h-4 bg-gray-200 rounded w-3/4 mb-3" data-v-69101a4b></div><div class="flex items-center justify-between" data-v-69101a4b><div class="flex items-center space-x-2" data-v-69101a4b><div class="w-6 h-6 bg-gray-200 rounded-full" data-v-69101a4b></div><div class="h-4 bg-gray-200 rounded w-24" data-v-69101a4b></div></div><div class="text-right" data-v-69101a4b><div class="h-4 bg-gray-200 rounded w-12 mb-1" data-v-69101a4b></div><div class="h-3 bg-gray-200 rounded w-16" data-v-69101a4b></div></div></div></div>',2)])))}},bD=Kt(xD,[["__scopeId","data-v-69101a4b"]]);const wD={class:"min-h-screen bg-gray-50"},_D={class:"bg-white shadow"},CD={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},kD={class:"flex items-center justify-between"},$D={class:"mt-1 text-sm text-gray-500"},SD={class:"flex space-x-3"},ED={key:0,class:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800"},AD={class:"relative"},TD={key:0,class:"bg-white border-b border-gray-200"},PD={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},RD={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},MD={class:"relative"},ID=["value"],OD={class:"mt-4 flex justify-between items-center"},DD={class:"text-sm text-gray-500"},jD={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},LD={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},FD={key:1,class:"text-center py-12"},ND={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},BD=["onClick"],UD={class:"aspect-w-16 aspect-h-9 bg-gray-200"},VD=["src","alt"],HD={key:1,class:"w-full h-48 bg-gray-200 flex items-center justify-center"},zD={class:"p-4"},WD={class:"flex items-center justify-between mb-2"},KD={class:"text-sm text-gray-500"},GD={class:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2"},qD={class:"text-gray-600 text-sm mb-3 line-clamp-2"},YD={class:"flex items-center justify-between"},XD={class:"flex items-center space-x-2"},JD=["src","alt"],QD={class:"text-sm text-gray-600"},ZD={class:"text-right"},ej={key:0,class:"text-green-600 font-semibold"},tj={key:1,class:"text-gray-900 font-semibold"},sj={class:"text-xs text-gray-500"},oj={key:3,class:"mt-8 flex justify-center"},rj={class:"flex items-center space-x-2"},nj=["disabled"],aj=["onClick"],lj=["disabled"],vf=12,ij={__name:"CourseList",setup(e){const t=kt(),o=ao(),r=j(!1),a=j([]),l=j([]),n=j(!1),i=j(1),d=j(1),f=j(null),u=j("newest"),c=j({search:"",category:"",level:"",price:""}),m=Ne(()=>{let h=a.value;if(c.value.search){const w=c.value.search.toLowerCase();h=h.filter(_=>{var b;return _.title.toLowerCase().includes(w)||_.description.toLowerCase().includes(w)||((b=_.instructor)==null?void 0:b.name.toLowerCase().includes(w))})}if(c.value.category&&(h=h.filter(w=>w.category_id==c.value.category)),c.value.level&&(h=h.filter(w=>w.level===c.value.level)),c.value.price)switch(c.value.price){case"free":h=h.filter(w=>w.is_free);break;case"paid":h=h.filter(w=>!w.is_free);break;case"under_50":h=h.filter(w=>!w.is_free&&w.price<50);break;case"under_100":h=h.filter(w=>!w.is_free&&w.price<100);break}return h}),g=Ne(()=>{const h=[],w=Math.max(1,i.value-2),_=Math.min(d.value,i.value+2);for(let b=w;b<=_;b++)h.push(b);return h}),y=Ne(()=>Object.values(c.value).filter(h=>h!=="").length),k=Ne(()=>a.value.length),C=Ne(()=>{let h=m.value;return u.value==="newest"?h=[...h].sort((w,_)=>new Date(_.created_at)-new Date(w.created_at)):u.value==="oldest"?h=[...h].sort((w,_)=>new Date(w.created_at)-new Date(_.created_at)):u.value==="popular"?h=[...h].sort((w,_)=>(_.enrollments_count||0)-(w.enrollments_count||0)):u.value==="rating"?h=[...h].sort((w,_)=>(_.average_rating||0)-(w.average_rating||0)):u.value==="price_low"?h=[...h].sort((w,_)=>(w.price||0)-(_.price||0)):u.value==="price_high"&&(h=[...h].sort((w,_)=>(_.price||0)-(w.price||0))),h}),A=async()=>{r.value=!0;try{const h=await o.fetchCourses({page:i.value,per_page:vf,...c.value,sort_by:u.value});a.value=h.data||[],d.value=Math.ceil((h.total||0)/vf)}catch(h){console.error("Error fetching courses:",h),console.log(" No courses available")}finally{r.value=!1}},T=async()=>{try{const h=await o.fetchCategories();l.value=h||[]}catch(h){console.error("Error fetching categories:",h)}},$=()=>{c.value={search:"",category:"",level:"",price:""},u.value="newest",i.value=1},x=h=>{t.push(`/courses/${h.slug}`)},S=h=>h.startsWith("http")?h:`${vr.apiUrl}/storage/${h}`;return xt(c.value.search,()=>{clearTimeout(f.value),f.value=setTimeout(()=>{A()},300)}),xt([c.value.category,c.value.level,c.value.price],()=>{A()},{deep:!0}),xt(i,()=>{A()}),xt(u,()=>{A()}),it(()=>{A(),T()}),(h,w)=>(p(),v("div",wD,[s("div",_D,[s("div",CD,[s("div",kD,[s("div",null,[w[8]||(w[8]=s("h1",{class:"text-3xl font-bold text-gray-900"},"Browse Courses",-1)),w[9]||(w[9]=s("p",{class:"mt-2 text-gray-600"},"Discover amazing courses from expert instructors",-1)),s("p",$D,E(k.value)+" courses available",1)]),s("div",SD,[s("button",{onClick:w[0]||(w[0]=_=>n.value=!n.value),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},[w[10]||(w[10]=s("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})],-1)),w[11]||(w[11]=de(" Filters ",-1)),y.value>0?(p(),v("span",ED,E(y.value),1)):N("",!0)]),s("div",AD,[xe(s("select",{"onUpdate:modelValue":w[1]||(w[1]=_=>u.value=_),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500"},w[12]||(w[12]=[ft('<option value="newest" data-v-e5d680ac>Newest First</option><option value="oldest" data-v-e5d680ac>Oldest First</option><option value="popular" data-v-e5d680ac>Most Popular</option><option value="rating" data-v-e5d680ac>Highest Rated</option><option value="price_low" data-v-e5d680ac>Price: Low to High</option><option value="price_high" data-v-e5d680ac>Price: High to Low</option>',6)]),512),[[_t,u.value]])])])])])]),n.value?(p(),v("div",TD,[s("div",PD,[s("div",RD,[s("div",null,[w[14]||(w[14]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),s("div",MD,[xe(s("input",{"onUpdate:modelValue":w[2]||(w[2]=_=>c.value.search=_),type:"text",placeholder:"Search courses...",class:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"},null,512),[[Pe,c.value.search]]),w[13]||(w[13]=s("svg",{class:"absolute left-3 top-2.5 h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),s("div",null,[w[16]||(w[16]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),xe(s("select",{"onUpdate:modelValue":w[3]||(w[3]=_=>c.value.category=_),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"},[w[15]||(w[15]=s("option",{value:""},"All Categories",-1)),(p(!0),v(_e,null,Ee(l.value,_=>(p(),v("option",{key:_.id,value:_.id},E(_.name)+" ("+E(_.courses_count||0)+") ",9,ID))),128))],512),[[_t,c.value.category]])]),s("div",null,[w[18]||(w[18]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Level",-1)),xe(s("select",{"onUpdate:modelValue":w[4]||(w[4]=_=>c.value.level=_),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"},w[17]||(w[17]=[s("option",{value:""},"All Levels",-1),s("option",{value:"beginner"}," Beginner",-1),s("option",{value:"intermediate"}," Intermediate",-1),s("option",{value:"advanced"}," Advanced",-1)]),512),[[_t,c.value.level]])]),s("div",null,[w[20]||(w[20]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Price",-1)),xe(s("select",{"onUpdate:modelValue":w[5]||(w[5]=_=>c.value.price=_),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"},w[19]||(w[19]=[ft('<option value="" data-v-e5d680ac>All Prices</option><option value="free" data-v-e5d680ac> Free</option><option value="paid" data-v-e5d680ac> Paid</option><option value="under_50" data-v-e5d680ac> Under $50</option><option value="under_100" data-v-e5d680ac> Under $100</option>',5)]),512),[[_t,c.value.price]])])]),s("div",OD,[s("div",DD,E(C.value.length)+" of "+E(k.value)+" courses ",1),s("button",{onClick:$,class:"text-sm text-gray-500 hover:text-gray-700 underline"}," Clear all filters ")])])])):N("",!0),s("div",jD,[r.value?(p(),v("div",LD,[(p(),v(_e,null,Ee(6,_=>pe(bD,{key:_})),64))])):m.value.length===0?(p(),v("div",FD,w[21]||(w[21]=[s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})],-1),s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No courses found",-1),s("p",{class:"mt-1 text-sm text-gray-500"},"Try adjusting your search or filter criteria.",-1)]))):(p(),v("div",ND,[(p(!0),v(_e,null,Ee(C.value,_=>{var b,P,R;return p(),v("div",{key:_.id,class:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200 cursor-pointer",onClick:M=>x(_)},[s("div",UD,[_.thumbnail?(p(),v("img",{key:0,src:S(_.thumbnail),alt:_.title,class:"w-full h-48 object-cover"},null,8,VD)):(p(),v("div",HD,w[22]||(w[22]=[s("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)])))]),s("div",zD,[s("div",WD,[s("span",{class:ue(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",_.level==="beginner"?"bg-green-100 text-green-800":_.level==="intermediate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"])},E(_.level),3),s("span",KD,E((b=_.category)==null?void 0:b.name),1)]),s("h3",GD,E(_.title),1),s("p",qD,E(_.short_description),1),s("div",YD,[s("div",XD,[(P=_.instructor)!=null&&P.avatar?(p(),v("img",{key:0,src:_.instructor.avatar,alt:_.instructor.name,class:"w-6 h-6 rounded-full"},null,8,JD)):N("",!0),s("span",QD,E((R=_.instructor)==null?void 0:R.name),1)]),s("div",ZD,[_.is_free?(p(),v("div",ej,"Free")):(p(),v("div",tj,"$"+E(_.price||0),1)),s("div",sj,E(_.enrollments_count||0)+" students",1)])])])],8,BD)}),128))])),d.value>1?(p(),v("div",oj,[s("nav",rj,[s("button",{onClick:w[6]||(w[6]=_=>i.value--),disabled:i.value===1,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,nj),(p(!0),v(_e,null,Ee(g.value,_=>(p(),v("button",{key:_,onClick:b=>i.value=_,class:ue(["px-3 py-2 text-sm font-medium rounded-md",i.value===_?"bg-primary-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"])},E(_),11,aj))),128)),s("button",{onClick:w[7]||(w[7]=_=>i.value++),disabled:i.value===d.value,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,lj)])])):N("",!0)])]))}},dj=Kt(ij,[["__scopeId","data-v-e5d680ac"]]),uj={class:"min-h-screen bg-gray-50 py-8"},cj={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},fj={class:"mb-8"},pj={class:"flex items-center justify-between"},mj={class:"mb-6 bg-white rounded-lg shadow-sm p-4"},gj={class:"flex flex-wrap gap-4"},vj={class:"flex items-center space-x-2"},hj={class:"flex items-center space-x-2"},yj={key:0,class:"flex justify-center py-12"},xj={key:1,class:"text-center py-12"},bj={class:"mt-1 text-sm text-gray-500"},wj={class:"mt-6"},_j={key:2,class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6"},Cj={class:"relative h-48 bg-gray-200"},kj=["src","alt"],$j={key:1,class:"w-full h-full flex items-center justify-center"},Sj={class:"absolute top-2 right-2"},Ej={class:"p-6"},Aj={class:"flex items-start justify-between mb-2"},Tj={class:"text-lg font-medium text-gray-900 truncate"},Pj={class:"text-sm text-gray-600 mb-3 line-clamp-2"},Rj={class:"flex items-center justify-between text-sm text-gray-500 mb-4"},Mj={class:"flex items-center space-x-4"},Ij={class:"flex items-center"},Oj={class:"mb-4"},Dj={class:"flex justify-between text-xs text-gray-500 mb-1"},jj={class:"w-full bg-gray-200 rounded-full h-2"},Lj={class:"flex items-center justify-between text-xs text-gray-500 mb-4"},Fj={class:"flex space-x-2"},Nj=["onClick"],Bj={class:"mt-3 text-xs text-gray-400"},Uj={key:3,class:"mt-8 flex justify-center"},Vj={class:"flex items-center space-x-2"},Hj=["disabled"],zj=["onClick"],Wj=["disabled"],Kj=12,Vm={__name:"MyCourses",setup(e){const t=ao(),o=gt(),r=j(!1),a=j("all"),l=j("recent"),n=j(1),i=Ne(()=>{let g=t.myCourses;return a.value==="in-progress"?g=g.filter(y=>y.progress>0&&y.progress<100):a.value==="completed"?g=g.filter(y=>y.progress===100):a.value==="not-started"&&(g=g.filter(y=>y.progress===0)),g.sort((y,k)=>{var C,A;switch(l.value){case"progress":return k.progress-y.progress;case"name":return(((C=y.course)==null?void 0:C.title)||"").localeCompare(((A=k.course)==null?void 0:A.title)||"");case"recent":default:return new Date(k.enrolled_at||k.created_at)-new Date(y.enrolled_at||y.created_at)}}),g}),d=Ne(()=>Math.ceil(i.value.length/Kj)),f=Ne(()=>{const g=[],y=Math.max(1,n.value-2),k=Math.min(d.value,n.value+2);for(let C=y;C<=k;C++)g.push(C);return g}),u=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),c=async g=>{try{o.success("Certificate download started")}catch{o.error("Failed to download certificate")}},m=async()=>{r.value=!0;try{await t.fetchMyCourses()}catch(g){console.error("Error fetching my courses:",g),o.error("Failed to load your courses")}finally{r.value=!1}};return xt([a,l],()=>{n.value=1}),it(()=>{m()}),(g,y)=>{const k=lt("router-link");return p(),v("div",uj,[s("div",cj,[s("div",fj,[s("div",pj,[y[5]||(y[5]=s("div",null,[s("h1",{class:"text-3xl font-bold text-gray-900"},"My Learning"),s("p",{class:"mt-2 text-gray-600"},"Continue your learning journey")],-1)),pe(k,{to:"/courses",class:"btn btn-primary"},{default:ke(()=>y[4]||(y[4]=[de(" Browse More Courses ",-1)])),_:1,__:[4]})])]),s("div",mj,[s("div",gj,[s("div",vj,[y[7]||(y[7]=s("label",{class:"text-sm font-medium text-gray-700"},"Filter:",-1)),xe(s("select",{"onUpdate:modelValue":y[0]||(y[0]=C=>a.value=C),class:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},y[6]||(y[6]=[s("option",{value:"all"},"All Courses",-1),s("option",{value:"in-progress"},"In Progress",-1),s("option",{value:"completed"},"Completed",-1),s("option",{value:"not-started"},"Not Started",-1)]),512),[[_t,a.value]])]),s("div",hj,[y[9]||(y[9]=s("label",{class:"text-sm font-medium text-gray-700"},"Sort:",-1)),xe(s("select",{"onUpdate:modelValue":y[1]||(y[1]=C=>l.value=C),class:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},y[8]||(y[8]=[s("option",{value:"recent"},"Recently Enrolled",-1),s("option",{value:"progress"},"Progress",-1),s("option",{value:"name"},"Course Name",-1)]),512),[[_t,l.value]])])])]),r.value?(p(),v("div",yj,y[10]||(y[10]=[s("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)]))):i.value.length===0?(p(),v("div",xj,[y[12]||(y[12]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),y[13]||(y[13]=s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No courses found",-1)),s("p",bj,E(a.value==="all"?"You haven't enrolled in any courses yet.":`No ${a.value.replace("-"," ")} courses found.`),1),s("div",wj,[pe(k,{to:"/courses",class:"btn btn-primary"},{default:ke(()=>y[11]||(y[11]=[de(" Browse Courses ",-1)])),_:1,__:[11]})])])):(p(),v("div",_j,[(p(!0),v(_e,null,Ee(i.value,C=>{var A,T,$,x,S,h,w,_,b,P,R,M;return p(),v("div",{key:C.id,class:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow duration-200"},[s("div",Cj,[(A=C.course)!=null&&A.image?(p(),v("img",{key:0,src:C.course.image,alt:C.course.title,class:"w-full h-full object-cover"},null,8,kj)):(p(),v("div",$j,y[14]||(y[14]=[s("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)]))),s("div",Sj,[s("span",{class:ue(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",(C.progress||0)===100?"bg-success-100 text-success-800":"bg-primary-100 text-primary-800"])},E(C.progress||0)+"% Complete ",3)])]),s("div",Ej,[s("div",Aj,[s("h3",Tj,E((T=C.course)==null?void 0:T.title),1)]),s("p",Pj,E((($=C.course)==null?void 0:$.subtitle)||((x=C.course)==null?void 0:x.description)),1),s("div",Rj,[s("div",Mj,[s("span",null,E((h=(S=C.course)==null?void 0:S.instructor)==null?void 0:h.name),1),s("span",null,E((w=C.course)==null?void 0:w.level),1)]),s("div",Ij,[y[15]||(y[15]=s("svg",{class:"w-4 h-4 text-yellow-400 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),s("span",null,E(((_=C.course)==null?void 0:_.average_rating)||0),1)])]),s("div",Oj,[s("div",Dj,[y[16]||(y[16]=s("span",null,"Progress",-1)),s("span",null,E(C.progress||0)+"%",1)]),s("div",jj,[s("div",{class:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:ns({width:(C.progress||0)+"%"})},null,4)])]),s("div",Lj,[s("span",null,E(C.completed_lessons||0)+" of "+E(((b=C.course)==null?void 0:b.total_lessons)||0)+" lessons",1),s("span",null,E(((P=C.course)==null?void 0:P.total_duration)||0)+"h",1)]),s("div",Fj,[pe(k,{to:`/courses/${(R=C.course)==null?void 0:R.slug}`,class:"btn btn-primary flex-1"},{default:ke(()=>[de(E((C.progress||0)===100?"Review Course":"Continue Learning"),1)]),_:2},1032,["to"]),(C.progress||0)===100?(p(),v("button",{key:0,onClick:D=>c(),class:"btn btn-secondary"}," Certificate ",8,Nj)):N("",!0),(M=C.course)!=null&&M.id?(p(),wt(k,{key:1,to:`/courses/${C.course.id}/builder`,class:"btn btn-secondary"},{default:ke(()=>y[17]||(y[17]=[de(" Builder ",-1)])),_:2,__:[17]},1032,["to"])):N("",!0)]),s("div",Bj," Enrolled "+E(u(C.enrolled_at||C.created_at)),1)])])}),128))])),d.value>1?(p(),v("div",Uj,[s("nav",Vj,[s("button",{onClick:y[2]||(y[2]=C=>n.value--),disabled:n.value===1,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Hj),(p(!0),v(_e,null,Ee(f.value,C=>(p(),v("button",{key:C,onClick:A=>n.value=C,class:ue(["px-3 py-2 text-sm font-medium rounded-md",C===n.value?"bg-primary-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"])},E(C),11,zj))),128)),s("button",{onClick:y[3]||(y[3]=C=>n.value++),disabled:n.value===d.value,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,Wj)])])):N("",!0)])])}}},Gj=Object.freeze(Object.defineProperty({__proto__:null,default:Vm},Symbol.toStringTag,{value:"Module"})),qj={class:"min-h-screen bg-gray-50 py-8"},Yj={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},Xj={class:"bg-white rounded-lg shadow-sm"},Jj={class:"p-6"},Qj={key:0,class:"flex justify-center py-8"},Zj={key:1,class:"space-y-8"},eL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},tL={key:0,class:"text-red-500 text-xs mt-1"},sL={key:0,class:"text-red-500 text-xs mt-1"},oL={key:0,class:"text-red-500 text-xs mt-1"},rL=["value"],nL={key:0,class:"text-red-500 text-xs mt-1"},aL={class:"flex justify-end"},lL=["disabled"],iL={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},dL={class:"border-t border-gray-200 pt-8"},uL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},cL={key:0,class:"text-red-500 text-xs mt-1"},fL={key:0,class:"text-red-500 text-xs mt-1"},pL={key:0,class:"text-red-500 text-xs mt-1"},mL={class:"flex justify-end"},gL=["disabled"],vL={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},hL={class:"border-t border-gray-200 pt-8"},yL={class:"space-y-4"},xL={class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},bL={class:"relative inline-flex items-center cursor-pointer"},wL={class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},_L={class:"relative inline-flex items-center cursor-pointer"},CL={class:"border-t border-gray-200 pt-8"},kL={class:"p-4 bg-red-50 border border-red-200 rounded-lg"},$L={class:"flex items-center justify-between"},SL={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},EL={class:"bg-white rounded-lg p-6 max-w-md w-full mx-4"},AL={class:"flex space-x-3"},TL=["disabled"],PL={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},Hm={__name:"Profile",setup(e){const t=kt(),o=Ot(),r=gt(),a=j(!1),l=j(!1),n=j(!1),i=j(!1),d=j(!1),f=Ye({name:"",email:"",phone:"",bio:""}),u=Ye({current_password:"",new_password:"",new_password_confirmation:""}),c=Ye({emailNotifications:!0,pushNotifications:!0}),m=Ye({}),g=Ye({}),y=async()=>{a.value=!0;const $=o.user;$&&(f.name=$.name||"",f.email=$.email||"",f.phone=$.phone||"",f.bio=$.bio||"");try{const x=await jr.getProfile();if(x.data.status==="success"){const S=x.data.data;f.name=S.name||"",f.email=S.email||"",f.phone=S.phone||"",f.bio=S.bio||"";const h=o.user,w={...S,roles:S.roles||(h==null?void 0:h.roles)||[],role:S.role||(h==null?void 0:h.role)||"student"};o.user=w}}catch{console.log("Could not fetch fresh profile data, using cached data")}finally{a.value=!1}},k=async()=>{var $,x,S,h;l.value=!0,m.value={};try{const w=await jr.updateProfile(f);if(w.data.status==="success"){const _=w.data.data,b=o.user,P={..._,roles:_.roles||(b==null?void 0:b.roles)||[],role:_.role||(b==null?void 0:b.role)||"student"};o.user=P}r.success("Profile updated successfully")}catch(w){console.error("Profile update error:",w),(x=($=w.response)==null?void 0:$.data)!=null&&x.errors?m.value=w.response.data.errors:(h=(S=w.response)==null?void 0:S.data)!=null&&h.message?r.error(w.response.data.message):r.error("Failed to update profile")}finally{l.value=!1}},C=async()=>{var x,S,h,w;if(console.log("changePassword function called!"),console.log("changingPassword.value:",n.value),n.value){console.log("Already processing, ignoring duplicate submission");return}console.log("Starting password change process..."),n.value=!0,g.value={};const $={};if(u.current_password||($.current_password="Current password is required"),u.new_password?u.new_password.length<8&&($.new_password="Password must be at least 8 characters"):$.new_password="New password is required",u.new_password_confirmation?u.new_password!==u.new_password_confirmation&&($.new_password_confirmation="Passwords do not match"):$.new_password_confirmation="Password confirmation is required",Object.keys($).length>0){g.value=$,n.value=!1;return}try{await jr.changePassword(u),r.success("Password changed successfully"),u.current_password="",u.new_password="",u.new_password_confirmation=""}catch(_){console.error("Password change error:",_),(S=(x=_.response)==null?void 0:x.data)!=null&&S.errors?g.value=_.response.data.errors:(w=(h=_.response)==null?void 0:h.data)!=null&&w.message?r.error(_.response.data.message):r.error("Failed to change password")}finally{n.value=!1}},A=async()=>{try{await jr.updateSettings(c),r.success("Settings updated successfully")}catch{r.error("Failed to update settings")}},T=async()=>{i.value=!0;try{await jr.deleteAccount(),await o.logout(),r.success("Account deleted successfully"),t.push("/")}catch{r.error("Failed to delete account")}finally{i.value=!1,d.value=!1}};return it(()=>{y()}),($,x)=>(p(),v("div",qj,[s("div",Yj,[s("div",Xj,[x[31]||(x[31]=s("div",{class:"px-6 py-4 border-b border-gray-200"},[s("h1",{class:"text-2xl font-bold text-gray-900"},"Profile Settings"),s("p",{class:"text-gray-600 mt-1"},"Manage your account information and preferences")],-1)),s("div",Jj,[a.value?(p(),v("div",Qj,x[13]||(x[13]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):(p(),v("div",Zj,[s("div",null,[x[19]||(x[19]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Profile Information",-1)),s("form",{onSubmit:Ue(k,["prevent"]),class:"space-y-4"},[s("div",eL,[s("div",null,[x[14]||(x[14]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Full Name",-1)),xe(s("input",{"onUpdate:modelValue":x[0]||(x[0]=S=>f.name=S),type:"text",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":m.name}])},null,2),[[Pe,f.name]]),m.name?(p(),v("p",tL,E(m.name),1)):N("",!0)]),s("div",null,[x[15]||(x[15]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),xe(s("input",{"onUpdate:modelValue":x[1]||(x[1]=S=>f.email=S),type:"email",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":m.email}])},null,2),[[Pe,f.email]]),m.email?(p(),v("p",sL,E(m.email),1)):N("",!0)]),s("div",null,[x[16]||(x[16]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Phone",-1)),xe(s("input",{"onUpdate:modelValue":x[2]||(x[2]=S=>f.phone=S),type:"tel",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":m.phone}])},null,2),[[Pe,f.phone]]),m.phone?(p(),v("p",oL,E(m.phone),1)):N("",!0)]),s("div",null,[x[17]||(x[17]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Role",-1)),s("input",{value:mt(o).userRole,type:"text",disabled:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"},null,8,rL)])]),s("div",null,[x[18]||(x[18]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Bio",-1)),xe(s("textarea",{"onUpdate:modelValue":x[3]||(x[3]=S=>f.bio=S),rows:"4",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":m.bio}]),placeholder:"Tell us about yourself..."},null,2),[[Pe,f.bio]]),m.bio?(p(),v("p",nL,E(m.bio),1)):N("",!0)]),s("div",aL,[s("button",{type:"submit",disabled:l.value,class:"btn btn-primary"},[l.value?(p(),v("span",iL)):N("",!0),de(" "+E(l.value?"Updating...":"Update Profile"),1)],8,lL)])],32)]),s("div",dL,[x[23]||(x[23]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Change Password",-1)),s("form",{onSubmit:[Ue(C,["prevent"]),x[8]||(x[8]=S=>console.log("Form submit event triggered!"))],class:"space-y-4"},[s("div",uL,[s("div",null,[x[20]||(x[20]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Current Password",-1)),xe(s("input",{"onUpdate:modelValue":x[4]||(x[4]=S=>u.current_password=S),type:"password",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":g.current_password}])},null,2),[[Pe,u.current_password]]),g.current_password?(p(),v("p",cL,E(g.current_password),1)):N("",!0)]),s("div",null,[x[21]||(x[21]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"New Password",-1)),xe(s("input",{"onUpdate:modelValue":x[5]||(x[5]=S=>u.new_password=S),type:"password",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":g.new_password}])},null,2),[[Pe,u.new_password]]),g.new_password?(p(),v("p",fL,E(g.new_password),1)):N("",!0)])]),s("div",null,[x[22]||(x[22]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Confirm New Password",-1)),xe(s("input",{"onUpdate:modelValue":x[6]||(x[6]=S=>u.new_password_confirmation=S),type:"password",class:ue(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":g.new_password_confirmation}])},null,2),[[Pe,u.new_password_confirmation]]),g.new_password_confirmation?(p(),v("p",pL,E(g.new_password_confirmation),1)):N("",!0)]),s("div",mL,[s("button",{type:"submit",disabled:n.value,class:"btn btn-secondary",onClick:x[7]||(x[7]=S=>console.log("Button clicked!",{changingPassword:n.value,formData:u}))},[n.value?(p(),v("span",vL)):N("",!0),de(" "+E(n.value?"Changing...":"Change Password"),1)],8,gL)])],32)]),s("div",hL,[x[28]||(x[28]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Account Settings",-1)),s("div",yL,[s("div",xL,[x[25]||(x[25]=s("div",null,[s("h4",{class:"text-sm font-medium text-gray-900"},"Email Notifications"),s("p",{class:"text-sm text-gray-500"},"Receive email notifications about course updates and announcements")],-1)),s("label",bL,[xe(s("input",{"onUpdate:modelValue":x[9]||(x[9]=S=>c.emailNotifications=S),type:"checkbox",class:"sr-only peer",onChange:A},null,544),[[bs,c.emailNotifications]]),x[24]||(x[24]=s("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"},null,-1))])]),s("div",wL,[x[27]||(x[27]=s("div",null,[s("h4",{class:"text-sm font-medium text-gray-900"},"Push Notifications"),s("p",{class:"text-sm text-gray-500"},"Receive push notifications on your device")],-1)),s("label",_L,[xe(s("input",{"onUpdate:modelValue":x[10]||(x[10]=S=>c.pushNotifications=S),type:"checkbox",class:"sr-only peer",onChange:A},null,544),[[bs,c.pushNotifications]]),x[26]||(x[26]=s("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"},null,-1))])])])]),s("div",CL,[x[30]||(x[30]=s("h3",{class:"text-lg font-medium text-red-900 mb-4"},"Danger Zone",-1)),s("div",kL,[s("div",$L,[x[29]||(x[29]=s("div",null,[s("h4",{class:"text-sm font-medium text-red-900"},"Delete Account"),s("p",{class:"text-sm text-red-700"},"Permanently delete your account and all associated data")],-1)),s("button",{onClick:x[11]||(x[11]=S=>d.value=!0),class:"btn btn-danger"}," Delete Account ")])])])]))])])]),d.value?(p(),v("div",SL,[s("div",EL,[x[32]||(x[32]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Delete Account",-1)),x[33]||(x[33]=s("p",{class:"text-sm text-gray-600 mb-6"}," Are you sure you want to delete your account? This action cannot be undone and will permanently remove all your data. ",-1)),s("div",AL,[s("button",{onClick:x[12]||(x[12]=S=>d.value=!1),class:"btn btn-secondary flex-1"}," Cancel "),s("button",{onClick:T,disabled:i.value,class:"btn btn-danger flex-1"},[i.value?(p(),v("span",PL)):N("",!0),de(" "+E(i.value?"Deleting...":"Delete Account"),1)],8,TL)])])])):N("",!0)]))}},hf=Object.freeze(Object.defineProperty({__proto__:null,default:Hm},Symbol.toStringTag,{value:"Module"}));const RL={class:"min-h-screen bg-gray-50 py-8"},ML={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},IL={class:"mb-8"},OL={class:"flex items-center justify-between"},DL={class:"flex items-center space-x-3"},jL=["disabled"],LL={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},FL=["disabled"],NL={key:0,class:"flex justify-center py-12"},BL={key:1,class:"text-center py-12"},UL={key:2,class:"space-y-4"},VL=["onClick"],HL={class:"flex items-start space-x-4"},zL={class:"flex-shrink-0"},WL={class:"flex-1 min-w-0"},KL={class:"flex items-start justify-between"},GL={class:"flex-1"},qL={class:"text-lg font-medium text-gray-900 mb-1"},YL={class:"text-gray-700 mb-2"},XL={class:"text-sm text-gray-500"},JL={class:"flex-shrink-0 ml-4 flex items-center space-x-2"},QL={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},ZL={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},eF=["onClick","disabled"],tF={key:0,class:"animate-spin rounded-full h-3 w-3 border-b-2 border-primary-600 inline-block mr-1"},sF=["onClick","disabled"],oF={key:0,class:"animate-spin rounded-full h-3 w-3 border-b-2 border-red-600 inline-block mr-1"},rF={key:1,class:"flex items-center text-sm text-primary-600 hover:text-primary-700 font-medium"},nF={key:3,class:"mt-8 text-center"},aF=["disabled"],lF={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600 mr-2"},iF={key:4,class:"mt-8 text-center text-sm text-gray-500"},dF={__name:"Notifications",setup(e){const t=kt(),o=Ot(),r=gt(),a=j(!1),l=j(!1),n=j(!1),i=j(null),d=j(null),f=j([]),u=j(0),c=j(0),m=j(1),g=j(!0),y={course_enrollment:{icon:"svg",bg:"bg-green-100",color:"text-green-600",path:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},course_completion:{icon:"svg",bg:"bg-blue-100",color:"text-blue-600",path:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},new_announcement:{icon:"svg",bg:"bg-yellow-100",color:"text-yellow-600",path:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},forum_reply:{icon:"svg",bg:"bg-purple-100",color:"text-purple-600",path:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},payment_success:{icon:"svg",bg:"bg-green-100",color:"text-green-600",path:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},default:{icon:"svg",bg:"bg-gray-100",color:"text-gray-600",path:"M15 17h5l-5 5v-5zM4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"}},k=b=>y[b]||y.default,C=b=>{const P=new Date(b),R=new Date,M=Math.floor((R-P)/(1e3*60*60));return M<1?"Just now":M<24?`${M} hour${M>1?"s":""} ago`:M<48?"Yesterday":P.toLocaleDateString("en-US",{month:"short",day:"numeric",year:P.getFullYear()!==R.getFullYear()?"numeric":void 0,hour:"2-digit",minute:"2-digit"})},A=async(b=1,P=!1)=>{b===1?a.value=!0:l.value=!0;try{const R=await Qs.getAll({page:b,per_page:20});let M;R.data.data&&R.data.data.data?(M=R.data.data.data,c.value=R.data.data.total,g.value=R.data.data.current_page<R.data.data.last_page):R.data.data?(M=R.data.data,c.value=M.length,g.value=!1):(M=R.data,c.value=M.length,g.value=!1),P?f.value=[...f.value,...M]:f.value=M,u.value=f.value.filter(D=>!D.read_at).length}catch(R){console.error("Error fetching notifications:",R),r.error("Failed to load notifications")}finally{a.value=!1,l.value=!1}},T=async()=>{m.value=1,await A(1,!1)},$=async()=>{m.value++,await A(m.value,!0)},x=async b=>{i.value=b;try{await Qs.markAsRead(b);const P=f.value.find(R=>R.id===b);P&&(P.read_at=new Date().toISOString(),u.value=Math.max(0,u.value-1)),r.success("Notification marked as read")}catch(P){console.error("Error marking notification as read:",P),r.error("Failed to mark notification as read")}finally{i.value=null}},S=async()=>{n.value=!0;try{await Qs.markAllAsRead(),f.value.forEach(b=>{b.read_at=new Date().toISOString()}),u.value=0,r.success("All notifications marked as read")}catch(b){console.error("Error marking all notifications as read:",b),r.error("Failed to mark all notifications as read")}finally{n.value=!1}},h=async b=>{d.value=b;try{await Qs.deleteNotification(b);const P=f.value.find(R=>R.id===b);P&&!P.read_at&&(u.value=Math.max(0,u.value-1)),f.value=f.value.filter(R=>R.id!==b),c.value=Math.max(0,c.value-1),r.success("Notification deleted")}catch(P){console.error("Error deleting notification:",P),r.error("Failed to delete notification")}finally{d.value=null}},w=b=>{console.log("Attempting to scroll to element:",b);const P=(R=1,M=5)=>{const D=document.getElementById(b);console.log(`Attempt ${R}: Element found:`,D),D?(console.log("Scrolling to element:",D),D.scrollIntoView({behavior:"smooth",block:"center"}),D.style.backgroundColor="#fef3c7",D.style.border="2px solid #f59e0b",setTimeout(()=>{D.style.backgroundColor="",D.style.border=""},3e3)):R<M?(console.log(`Element not found, retrying in ${R*200}ms...`),setTimeout(()=>P(R+1,M),R*200)):console.log("Element not found after maximum attempts")};setTimeout(()=>{P()},500)},_=async b=>{var P;if((P=b.data)!=null&&P.action_url){b.read_at||await x(b.id);const R=b.data.action_url;if(R.includes("#")){const[M,D]=R.split("#");t.currentRoute.value.path===M?w(D):t.push(M).then(()=>{setTimeout(()=>{w(D)},1e3)})}else t.push(R)}};return it(()=>{if(!o.isAuthenticated){r.info("Please log in to view notifications");return}A()}),(b,P)=>(p(),v("div",RL,[s("div",ML,[s("div",IL,[s("div",OL,[P[3]||(P[3]=s("div",null,[s("h1",{class:"text-3xl font-bold text-gray-900"},"Notifications"),s("p",{class:"mt-2 text-gray-600"},"Stay updated with your latest activities")],-1)),s("div",DL,[u.value>0?(p(),v("button",{key:0,onClick:S,disabled:n.value,class:"btn btn-secondary"},[n.value?(p(),v("span",LL)):N("",!0),de(" "+E(n.value?"Marking...":"Mark all as read"),1)],8,jL)):N("",!0),s("button",{onClick:T,disabled:a.value,class:"btn btn-outline"},[(p(),v("svg",{class:ue(["w-4 h-4 mr-2",{"animate-spin":a.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},P[1]||(P[1]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]),2)),P[2]||(P[2]=de(" Refresh ",-1))],8,FL)])])]),a.value?(p(),v("div",NL,P[4]||(P[4]=[s("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)]))):f.value.length===0?(p(),v("div",BL,P[5]||(P[5]=[s("svg",{class:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})],-1),s("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No notifications",-1),s("p",{class:"text-gray-600"},"You're all caught up! Check back later for new updates.",-1)]))):(p(),v("div",UL,[(p(!0),v(_e,null,Ee(f.value,R=>{var M,D,J,G,B,X,te,se;return p(),v("div",{key:R.id,class:ue(["bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",{"bg-blue-50 border-blue-200":!R.read_at,"cursor-pointer hover:border-primary-300 hover:shadow-lg":(M=R.data)==null?void 0:M.action_url}]),onClick:Se=>_(R)},[s("div",HL,[s("div",zL,[s("div",{class:ue(["w-10 h-10 rounded-full flex items-center justify-center",k(((D=R.data)==null?void 0:D.type)||"default").bg])},[(p(),wt(Jo(k(((J=R.data)==null?void 0:J.type)||"default").icon),{class:ue(["w-5 h-5",k(((G=R.data)==null?void 0:G.type)||"default").color])},null,8,["class"]))],2)]),s("div",WL,[s("div",KL,[s("div",GL,[s("h3",qL,E(((B=R.data)==null?void 0:B.title)||"Notification"),1),s("p",YL,E(((X=R.data)==null?void 0:X.message)||"You have a new notification"),1),s("p",XL,E(C(R.created_at)),1)]),s("div",JL,[R.read_at?N("",!0):(p(),v("div",QL," New ")),(te=R.data)!=null&&te.action_url?(p(),v("div",ZL,P[6]||(P[6]=[s("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1),de(" Clickable ",-1)]))):N("",!0)])]),s("div",{class:"mt-4 flex items-center space-x-3",onClick:P[0]||(P[0]=Ue(()=>{},["stop"]))},[R.read_at?N("",!0):(p(),v("button",{key:0,onClick:Se=>x(R.id),disabled:i.value===R.id,class:"text-sm text-primary-600 hover:text-primary-700 font-medium"},[i.value===R.id?(p(),v("span",tF)):N("",!0),P[7]||(P[7]=de(" Mark as read ",-1))],8,eF)),s("button",{onClick:Se=>h(R.id),disabled:d.value===R.id,class:"text-sm text-red-600 hover:text-red-700 font-medium"},[d.value===R.id?(p(),v("span",oF)):N("",!0),P[8]||(P[8]=de(" Delete ",-1))],8,sF),(se=R.data)!=null&&se.action_url?(p(),v("div",rF,P[9]||(P[9]=[s("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1),de(" Click to view reply ",-1)]))):N("",!0)])])])],10,VL)}),128))])),g.value&&!a.value?(p(),v("div",nF,[s("button",{onClick:$,disabled:l.value,class:"btn btn-outline"},[l.value?(p(),v("span",lF)):N("",!0),de(" "+E(l.value?"Loading...":"Load More"),1)],8,aF)])):N("",!0),f.value.length>0?(p(),v("div",iF," Showing "+E(f.value.length)+" of "+E(c.value)+" notifications ",1)):N("",!0)])]))}},uF=Kt(dF,[["__scopeId","data-v-4011d55d"]]);const cF={class:"min-h-screen bg-gray-50 py-8"},fF={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},pF={class:"flex items-center justify-between mb-8"},mF=["disabled"],gF={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},vF={key:1,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},hF={class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8"},yF={class:"bg-white rounded-lg shadow-sm p-3 sm:p-6 border border-gray-200"},xF={class:"flex items-center"},bF={class:"ml-2 sm:ml-4"},wF={class:"text-lg sm:text-2xl font-bold text-gray-900"},_F={class:"bg-white rounded-lg shadow-sm p-3 sm:p-6 border border-gray-200"},CF={class:"flex items-center"},kF={class:"ml-2 sm:ml-4"},$F={class:"text-lg sm:text-2xl font-bold text-gray-900"},SF={class:"bg-white rounded-lg shadow-sm p-3 sm:p-6 border border-gray-200"},EF={class:"flex items-center"},AF={class:"ml-2 sm:ml-4"},TF={class:"text-lg sm:text-2xl font-bold text-gray-900"},PF={class:"bg-white rounded-lg shadow-sm p-3 sm:p-6 border border-gray-200"},RF={class:"flex items-center"},MF={class:"ml-2 sm:ml-4"},IF={class:"text-lg sm:text-2xl font-bold text-gray-900"},OF={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},DF={class:"bg-white rounded-lg shadow-sm border border-gray-200"},jF={class:"px-6 py-4 border-b border-gray-200"},LF={class:"flex items-center justify-between"},FF={class:"p-6"},NF={key:0,class:"flex justify-center py-8"},BF={key:1,class:"space-y-4"},UF={class:"flex-shrink-0"},VF={class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},HF={class:"text-sm font-medium text-blue-600"},zF={class:"flex-1 min-w-0"},WF={class:"text-sm font-medium text-gray-900 truncate"},KF={class:"text-sm text-gray-500 truncate"},GF={class:"flex-shrink-0"},qF={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},YF={key:2,class:"text-center py-8 text-gray-500"},XF={class:"bg-white rounded-lg shadow-sm border border-gray-200"},JF={class:"px-6 py-4 border-b border-gray-200"},QF={class:"flex items-center justify-between"},ZF={class:"p-6"},eN={key:0,class:"flex justify-center py-8"},tN={key:1,class:"space-y-4"},sN={class:"flex items-start justify-between"},oN={class:"flex-1"},rN={class:"text-sm font-medium text-gray-900"},nN={class:"text-sm text-gray-500 mt-1"},aN={class:"flex space-x-2 ml-4"},lN=["onClick","disabled"],iN={key:0},dN={key:1},uN=["onClick","disabled"],cN={key:0},fN={key:1},pN={key:2,class:"text-center py-8 text-gray-500"},mN={class:"mt-8 grid grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6"},gN={__name:"AdminDashboard",setup(e){const t=kt(),o=gt(),r=Ot(),a=j(!1),l=j(!1),n=j({totalUsers:0,totalCourses:0,pendingCourses:0,totalRevenue:0}),i=j([]),d=j([]),f=Ne(()=>r.isAuthenticated&&r.isAdmin),u=async()=>{var k,C,A,T,$,x,S,h;if(!f.value){console.log(" User does not have admin access"),o.error("Access denied. Admin privileges required.");return}a.value=!0;try{console.log(" Fetching dashboard stats...");const _=(await Ar.getAllUsers()).data.data||[];console.log(" Users fetched:",_.length);let b=0;try{const M=await fetch("/api/categories",{headers:{Authorization:`Bearer ${r.token}`,"Content-Type":"application/json"}});if(M.ok)b=((await M.json()).data||[]).reduce((G,B)=>G+(B.courses_count||0),0),console.log(" Categories fetched. Total courses from categories:",b);else throw new Error("Categories API failed")}catch{console.log(" Categories API failed, trying admin courses API as fallback...");try{b=((C=(k=(await Ar.getAllCourses()).data)==null?void 0:k.data)==null?void 0:C.total)||0,console.log(" Fallback: Courses fetched from admin API. Total:",b)}catch{console.error(" Both categories and admin courses API failed"),b=0}}const P=await Ar.getPendingCourses(),R=((T=(A=P.data)==null?void 0:A.data)==null?void 0:T.total)||0;console.log(" Pending courses fetched. Total:",R),n.value={totalUsers:_.length,totalCourses:b,pendingCourses:R,totalRevenue:0},i.value=_.slice(0,5),d.value=((x=($=P.data)==null?void 0:$.data)==null?void 0:x.data)||[],console.log(" Dashboard stats loaded successfully:",n.value)}catch(w){console.error(" Error fetching dashboard stats:",w),((S=w.response)==null?void 0:S.status)===403?o.error("Access denied. Please check your admin privileges."):((h=w.response)==null?void 0:h.status)===401?o.error("Authentication required. Please log in again."):o.error("Failed to load dashboard statistics: "+(w.message||"Unknown error"))}finally{a.value=!1}},c=async()=>{var k,C;if(f.value){l.value=!0;try{const A=await Ar.getPendingCourses();d.value=((C=(k=A.data)==null?void 0:k.data)==null?void 0:C.data)||[],console.log(" Pending courses loaded:",d.value.length)}catch(A){console.error(" Error fetching pending courses:",A),o.error("Failed to load pending courses")}finally{l.value=!1}}},m=async k=>{try{const C=d.value.find(A=>A.id===k);C&&(C.approving=!0),await Ar.approveCourse(k),o.success("Course approved successfully!"),await Promise.all([u(),c()])}catch(C){console.error(" Error approving course:",C),o.error("Failed to approve course")}finally{const C=d.value.find(A=>A.id===k);C&&(C.approving=!1)}},g=async k=>{try{const C=d.value.find(A=>A.id===k);C&&(C.rejecting=!0),await Ar.rejectCourse(k,"Rejected by admin"),o.success("Course rejected successfully!"),await Promise.all([u(),c()])}catch(C){console.error(" Error rejecting course:",C),o.error("Failed to reject course")}finally{const C=d.value.find(A=>A.id===k);C&&(C.rejecting=!1)}},y=async()=>{await Promise.all([u(),c()])};return it(async()=>{console.log(" AdminDashboard component mounted"),console.log(" Auth state:",{isAuthenticated:r.isAuthenticated,isAdmin:r.isAdmin,userRole:r.userRole}),f.value?await u():(console.log(" User does not have admin access"),o.error("Access denied. Admin privileges required."),t.push("/"))}),(k,C)=>{const A=lt("router-link");return p(),v("div",cF,[s("div",fF,[s("div",pF,[C[3]||(C[3]=s("div",null,[s("h1",{class:"text-3xl font-bold text-gray-900"},"Admin Dashboard"),s("p",{class:"text-gray-600 mt-1"},"Manage the eLearning platform")],-1)),s("button",{onClick:y,disabled:a.value,class:"btn btn-primary flex items-center"},[a.value?(p(),v("svg",gF,C[0]||(C[0]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(p(),v("svg",vF,C[1]||(C[1]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))),C[2]||(C[2]=de(" Refresh ",-1))],8,mF)]),s("div",hF,[s("div",yF,[s("div",xF,[C[5]||(C[5]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])])],-1)),s("div",bF,[C[4]||(C[4]=s("p",{class:"text-xs sm:text-sm font-medium text-gray-600"},"Total Users",-1)),s("p",wF,E(n.value.totalUsers),1)])])]),s("div",_F,[s("div",CF,[C[7]||(C[7]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-green-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])])],-1)),s("div",kF,[C[6]||(C[6]=s("p",{class:"text-xs sm:text-sm font-medium text-gray-600"},"Total Courses",-1)),s("p",$F,E(n.value.totalCourses),1)])])]),s("div",SF,[s("div",EF,[C[9]||(C[9]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-yellow-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),s("div",AF,[C[8]||(C[8]=s("p",{class:"text-xs sm:text-sm font-medium text-gray-600"},"Pending Courses",-1)),s("p",TF,E(n.value.pendingCourses),1)])])]),s("div",PF,[s("div",RF,[C[11]||(C[11]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-purple-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1)),s("div",MF,[C[10]||(C[10]=s("p",{class:"text-xs sm:text-sm font-medium text-gray-600"},"Total Revenue",-1)),s("p",IF,"$"+E(n.value.totalRevenue),1)])])])]),s("div",OF,[s("div",DF,[s("div",jF,[s("div",LF,[C[13]||(C[13]=s("h3",{class:"text-lg font-medium text-gray-900"},"Recent Users",-1)),pe(A,{to:"/admin/users",class:"text-sm text-blue-600 hover:text-blue-700"},{default:ke(()=>C[12]||(C[12]=[de(" View All ",-1)])),_:1,__:[12]})])]),s("div",FF,[a.value?(p(),v("div",NF,C[14]||(C[14]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):i.value.length>0?(p(),v("div",BF,[(p(!0),v(_e,null,Ee(i.value,T=>(p(),v("div",{key:T.id,class:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50"},[s("div",UF,[s("div",VF,[s("span",HF,E(T.name.charAt(0).toUpperCase()),1)])]),s("div",zF,[s("p",WF,E(T.name),1),s("p",KF,E(T.email),1)]),s("div",GF,[s("span",qF,E(T.status||"active"),1)])]))),128))])):(p(),v("div",YF," No users found "))])]),s("div",XF,[s("div",JF,[s("div",QF,[C[16]||(C[16]=s("h3",{class:"text-lg font-medium text-gray-900"},"Pending Course Approvals",-1)),pe(A,{to:"/admin/courses",class:"text-sm text-blue-600 hover:text-blue-700"},{default:ke(()=>C[15]||(C[15]=[de(" View All ",-1)])),_:1,__:[15]})])]),s("div",ZF,[l.value?(p(),v("div",eN,C[17]||(C[17]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):d.value.length>0?(p(),v("div",tN,[(p(!0),v(_e,null,Ee(d.value,T=>{var $;return p(),v("div",{key:T.id,class:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50"},[s("div",sN,[s("div",oN,[s("h4",rN,E(T.title),1),s("p",nN," by "+E((($=T.instructor)==null?void 0:$.name)||"Unknown Instructor"),1)]),s("div",aN,[s("button",{onClick:x=>m(T.id),disabled:T.approving,class:"btn btn-primary text-xs px-3 py-1"},[T.approving?(p(),v("span",iN,"Approving...")):(p(),v("span",dN,"Approve"))],8,lN),s("button",{onClick:x=>g(T.id),disabled:T.rejecting,class:"btn btn-danger text-xs px-3 py-1"},[T.rejecting?(p(),v("span",cN,"Rejecting...")):(p(),v("span",fN,"Reject"))],8,uN)])])])}),128))])):(p(),v("div",pN," No pending courses "))])])]),s("div",mN,[pe(A,{to:"/admin/users",class:"bg-white rounded-lg shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow duration-200 border border-gray-200"},{default:ke(()=>C[18]||(C[18]=[s("div",{class:"flex items-center"},[s("div",{class:"flex-shrink-0"},[s("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])])]),s("div",{class:"ml-2 sm:ml-4"},[s("h3",{class:"text-sm sm:text-lg font-medium text-gray-900"},"User Management"),s("p",{class:"text-xs sm:text-sm text-gray-600"},"Manage platform users")])],-1)])),_:1,__:[18]}),pe(A,{to:"/admin/courses",class:"bg-white rounded-lg shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow duration-200 border border-gray-200"},{default:ke(()=>C[19]||(C[19]=[s("div",{class:"flex items-center"},[s("div",{class:"flex-shrink-0"},[s("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-green-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])])]),s("div",{class:"ml-2 sm:ml-4"},[s("h3",{class:"text-sm sm:text-lg font-medium text-gray-900"},"Course Management"),s("p",{class:"text-xs sm:text-sm text-gray-600"},"Manage platform courses")])],-1)])),_:1,__:[19]}),pe(A,{to:"/admin/analytics",class:"bg-white rounded-lg shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow duration-200 border border-gray-200"},{default:ke(()=>C[20]||(C[20]=[s("div",{class:"flex items-center"},[s("div",{class:"flex-shrink-0"},[s("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-purple-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])]),s("div",{class:"ml-2 sm:ml-4"},[s("h3",{class:"text-sm sm:text-lg font-medium text-gray-900"},"Analytics"),s("p",{class:"text-xs sm:text-sm text-gray-600"},"View platform analytics")])],-1)])),_:1,__:[20]}),pe(A,{to:"/admin/alumni",class:"bg-white rounded-lg shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow duration-200 border border-gray-200"},{default:ke(()=>C[21]||(C[21]=[s("div",{class:"flex items-center"},[s("div",{class:"flex-shrink-0"},[s("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-indigo-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])]),s("div",{class:"ml-2 sm:ml-4"},[s("h3",{class:"text-sm sm:text-lg font-medium text-gray-900"},"Alumni Management"),s("p",{class:"text-xs sm:text-sm text-gray-600"},"Manage alumni network")])],-1)])),_:1,__:[21]})])])])}}},vN=Kt(gN,[["__scopeId","data-v-f0c830de"]]),hN={class:"min-h-screen bg-gray-50 py-8"},yN={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},xN={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 sm:gap-6 mb-8"},bN={class:"bg-white rounded-lg shadow-sm p-3 sm:p-6"},wN={class:"flex items-center"},_N={class:"ml-2 sm:ml-4"},CN={class:"text-lg sm:text-2xl font-bold text-gray-900"},kN={class:"bg-white rounded-lg shadow-sm p-3 sm:p-6"},$N={class:"flex items-center"},SN={class:"ml-2 sm:ml-4"},EN={class:"text-lg sm:text-2xl font-bold text-gray-900"},AN={class:"bg-white rounded-lg shadow-sm p-3 sm:p-6"},TN={class:"flex items-center"},PN={class:"ml-2 sm:ml-4"},RN={class:"text-lg sm:text-2xl font-bold text-gray-900"},MN={class:"bg-white rounded-lg shadow-sm p-3 sm:p-6"},IN={class:"flex items-center"},ON={class:"ml-2 sm:ml-4"},DN={class:"text-lg sm:text-2xl font-bold text-gray-900"},jN={class:"bg-white rounded-lg shadow-sm p-3 sm:p-6"},LN={class:"flex items-center"},FN={class:"ml-2 sm:ml-4"},NN={class:"text-lg sm:text-2xl font-bold text-gray-900"},BN={class:"bg-white rounded-lg shadow-sm p-3 sm:p-6"},UN={class:"flex items-center"},VN={class:"ml-2 sm:ml-4"},HN={class:"text-lg sm:text-2xl font-bold text-gray-900"},zN={class:"mb-8"},WN={class:"border-b border-gray-200"},KN={class:"-mb-px flex space-x-8"},GN={key:0},qN={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},YN={class:"lg:col-span-2"},XN={class:"bg-white rounded-lg shadow-sm"},JN={class:"px-6 py-4 border-b border-gray-200"},QN={class:"flex items-center justify-between"},ZN={class:"flex items-center space-x-2"},eB={class:"p-6"},tB={key:0,class:"flex justify-center py-8"},sB={key:1,class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},oB={class:"flex items-center space-x-3"},rB={class:"flex-shrink-0 w-16 h-12 bg-gray-200 rounded-lg flex items-center justify-center"},nB=["src","alt"],aB={key:1,class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},lB={class:"flex-1 min-w-0"},iB={class:"text-sm font-medium text-gray-900 truncate"},dB={class:"text-sm text-gray-500"},uB={class:"flex items-center mt-1"},cB={class:"flex items-center"},fB={class:"text-sm text-gray-600 ml-1"},pB={class:"text-sm text-gray-500"},mB={class:"flex items-center gap-1 justify-center flex-wrap"},gB={key:2,class:"text-center py-8"},vB={class:"mt-6"},hB={class:"lg:col-span-1"},yB={class:"bg-white rounded-lg shadow-sm"},xB={class:"p-6"},bB={key:0,class:"flex justify-center py-8"},wB={key:1,class:"space-y-4"},_B={class:"flex-shrink-0 w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center"},CB={class:"text-sm font-medium text-primary-600"},kB={class:"flex-1 min-w-0"},$B={class:"text-sm font-medium text-gray-900 truncate"},SB={class:"text-xs text-gray-500"},EB={class:"text-xs text-gray-500"},AB={key:2,class:"text-center py-8"},TB={key:1},PB={class:"bg-white rounded-lg shadow-sm"},RB={class:"px-4 sm:px-6 py-4 border-b border-gray-200"},MB={class:"grid grid-cols-2 gap-2 sm:gap-4"},IB={class:"relative"},OB=["value"],DB={class:"p-4 sm:p-6"},jB={key:0,class:"flex justify-center py-8"},LB={key:1,class:"overflow-x-auto"},FB={class:"min-w-full divide-y divide-gray-200"},NB={class:"bg-white divide-y divide-gray-200"},BB={class:"px-6 py-4 whitespace-nowrap"},UB={class:"flex items-center"},VB={class:"flex-shrink-0 h-10 w-10"},HB={class:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center"},zB={class:"text-sm font-medium text-primary-600"},WB={class:"ml-4"},KB={class:"text-sm font-medium text-gray-900"},GB={class:"text-sm text-gray-500"},qB={class:"px-6 py-4 whitespace-nowrap"},YB={class:"text-sm text-gray-900"},XB={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},JB={class:"px-6 py-4 whitespace-nowrap"},QB={class:"flex items-center"},ZB={class:"w-full bg-gray-200 rounded-full h-2 mr-2"},eU={class:"text-sm text-gray-600"},tU={class:"px-6 py-4 whitespace-nowrap"},sU={key:2,class:"text-center py-8"},oU={key:2},rU={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},nU={class:"bg-white rounded-lg shadow-sm"},aU={class:"p-6"},lU={key:0,class:"flex justify-center py-8"},iU={key:1,class:"space-y-4"},dU={class:"flex-1"},uU={class:"text-sm font-medium text-gray-900"},cU={class:"text-xs text-gray-500"},fU={class:"flex items-center space-x-4 text-sm"},pU={class:"text-center"},mU={class:"font-medium text-gray-900"},gU={class:"text-center"},vU={class:"font-medium text-gray-900"},hU={class:"text-center"},yU={class:"font-medium text-gray-900"},xU={key:2,class:"text-center py-8"},bU={class:"bg-white rounded-lg shadow-sm"},wU={class:"p-6"},_U={class:"grid grid-cols-2 gap-4"},CU={class:"text-center p-4 bg-gray-50 rounded-lg"},kU={class:"text-2xl font-bold text-gray-900"},$U={class:"text-center p-4 bg-gray-50 rounded-lg"},SU={class:"text-2xl font-bold text-gray-900"},EU={class:"mt-8 grid grid-cols-2 md:grid-cols-3 gap-6"},AU={__name:"InstructorDashboard",setup(e){const t=ao(),o=gt(),r=j("overview"),a=j(!1),l=j(!1),n=j(!1),i=j({totalCourses:0,totalStudents:0,newStudentsThisMonth:0,totalRevenue:0,monthlyRevenue:0,totalEnrollments:0,completionRate:0,averageRating:0}),d=j([]),f=j([]),u=j([]),c=j([]),m=j([]),g=j(""),y=j(""),k=S=>new Date(S).toLocaleDateString("en-US",{month:"short",day:"numeric"}),C=async()=>{var S,h,w;a.value=!0;try{console.log(" Fetching dashboard data...");const[_,b,P]=await Promise.allSettled([Aa.getDashboardStats(),t.fetchMyCourses(),Aa.getRecentEnrollments()]);if(console.log(" Stats settled:",_.status),console.log(" My courses count:",Array.isArray(t.myCourses)?t.myCourses.length:0),console.log(" Enrollments settled:",P.status),_.status==="fulfilled"){const R=_.value,M=((S=R.data)==null?void 0:S.data)||R.data||{},D=M.stats||{};console.log(" Backend Stats:",D),i.value={totalCourses:D.total_courses||0,totalStudents:D.total_students||0,newStudentsThisMonth:D.new_students_this_month||0,totalRevenue:D.total_revenue||0,monthlyRevenue:D.monthly_revenue||0,totalEnrollments:D.total_enrollments||0,completionRate:D.completion_rate||0,averageRating:D.average_rating||0},d.value=M.recent_courses||[],c.value=M.course_performance||[]}else console.warn(" Stats request failed:",_.reason);d.value=d.value&&d.value.length>0?d.value:Array.isArray(t.myCourses)?t.myCourses.slice(0,5):[],(!i.value.totalCourses||i.value.totalCourses===0)&&(i.value.totalCourses=Array.isArray(t.myCourses)?t.myCourses.length:0),P.status==="fulfilled"?f.value=P.value.data||[]:(console.warn(" Enrollments request failed:",P.reason),f.value=[]),console.log(" Recent Courses:",d.value),console.log(" Recent Enrollments:",f.value)}catch(_){console.error(" Error fetching dashboard data:",_),console.error(" Error details:",{message:_.message,response:(h=_.response)==null?void 0:h.data,status:(w=_.response)==null?void 0:w.status}),i.value={totalCourses:0,totalStudents:0,newStudentsThisMonth:0,totalRevenue:0,monthlyRevenue:0,totalEnrollments:0,completionRate:0,averageRating:0},d.value=[],f.value=[],c.value=[],o.error(`Failed to load dashboard data: ${_.message}`)}finally{a.value=!1}},A=async()=>{var S;l.value=!0;try{const h={search:g.value,course_id:y.value,per_page:50},w=await Aa.getStudents(h);u.value=w.data.enrollments.data||[],m.value=w.data.courses||[]}catch(h){console.error(" Error fetching students:",h),((S=h.response)==null?void 0:S.status)>=400&&o.error("Failed to load students data"),u.value=[]}finally{l.value=!1}},T=async()=>{var S;n.value=!0;try{const h=await Aa.getAnalytics({period:30});c.value=h.data.course_performance||[]}catch(h){console.error(" Error fetching analytics:",h),((S=h.response)==null?void 0:S.status)>=400&&o.error("Failed to load analytics data"),c.value=[]}finally{n.value=!1}},$=()=>{A()},x=()=>{A()};return xt(r,S=>{S==="students"&&u.value.length===0?A():S==="analytics"&&c.value.length===0&&T()}),it(()=>{C()}),(S,h)=>{const w=lt("router-link");return p(),v("div",hN,[s("div",yN,[h[51]||(h[51]=s("div",{class:"mb-8"},[s("h1",{class:"text-3xl font-bold text-gray-900"},"Instructor Dashboard"),s("p",{class:"mt-2 text-gray-600"},"Manage your courses and track your performance")],-1)),s("div",xN,[s("div",bN,[s("div",wN,[h[6]||(h[6]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-primary-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])])],-1)),s("div",_N,[h[5]||(h[5]=s("p",{class:"text-xs sm:text-sm font-medium text-gray-600"},"Total Courses",-1)),s("p",CN,E(i.value.totalCourses),1)])])]),s("div",kN,[s("div",$N,[h[8]||(h[8]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-green-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])])],-1)),s("div",SN,[h[7]||(h[7]=s("p",{class:"text-xs sm:text-sm font-medium text-gray-600"},"Total Students",-1)),s("p",EN,E(i.value.totalStudents),1)])])]),s("div",AN,[s("div",TN,[h[10]||(h[10]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])])],-1)),s("div",PN,[h[9]||(h[9]=s("p",{class:"text-xs sm:text-sm font-medium text-gray-600"},"New This Month",-1)),s("p",RN,E(i.value.newStudentsThisMonth),1)])])]),s("div",MN,[s("div",IN,[h[12]||(h[12]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-yellow-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])])],-1)),s("div",ON,[h[11]||(h[11]=s("p",{class:"text-xs sm:text-sm font-medium text-gray-600"},"Total Revenue",-1)),s("p",DN,"$"+E(i.value.totalRevenue),1)])])]),s("div",jN,[s("div",LN,[h[14]||(h[14]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-purple-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1)),s("div",FN,[h[13]||(h[13]=s("p",{class:"text-xs sm:text-sm font-medium text-gray-600"},"Completion Rate",-1)),s("p",NN,E(i.value.completionRate)+"%",1)])])]),s("div",BN,[s("div",UN,[h[16]||(h[16]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-orange-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})])])],-1)),s("div",VN,[h[15]||(h[15]=s("p",{class:"text-xs sm:text-sm font-medium text-gray-600"},"Avg Rating",-1)),s("p",HN,E(i.value.averageRating),1)])])])]),s("div",zN,[s("div",WN,[s("nav",KN,[s("button",{onClick:h[0]||(h[0]=_=>r.value="overview"),class:ue([r.value==="overview"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"])}," Overview ",2),s("button",{onClick:h[1]||(h[1]=_=>r.value="students"),class:ue([r.value==="students"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"])}," Enrolled Students ",2),s("button",{onClick:h[2]||(h[2]=_=>r.value="analytics"),class:ue([r.value==="analytics"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"])}," Analytics ",2)])])]),r.value==="overview"?(p(),v("div",GN,[s("div",qN,[s("div",YN,[s("div",XN,[s("div",JN,[s("div",QN,[h[18]||(h[18]=s("h3",{class:"text-lg font-medium text-gray-900"},"Recent Courses",-1)),s("div",ZN,[pe(w,{to:"/instructor/create-course",class:"btn btn-primary flex items-center",title:"Create Course"},{default:ke(()=>h[17]||(h[17]=[s("svg",{class:"w-4 h-4 sm:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),s("span",{class:"hidden sm:inline"},"Create Course",-1)])),_:1,__:[17]})])])]),s("div",eB,[a.value?(p(),v("div",tB,h[19]||(h[19]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):d.value.length>0?(p(),v("div",sB,[(p(!0),v(_e,null,Ee(d.value,_=>(p(),v("div",{key:_.id,class:"flex flex-col space-y-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200"},[s("div",oB,[s("div",rB,[_.image?(p(),v("img",{key:0,src:_.image,alt:_.title,class:"w-full h-full object-cover rounded-lg"},null,8,nB)):(p(),v("svg",aB,h[20]||(h[20]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},null,-1)])))]),s("div",lB,[s("h4",iB,E(_.title),1),s("p",dB,E(_.enrollments_count||0)+" students",1),s("div",uB,[s("div",cB,[h[21]||(h[21]=s("svg",{class:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),s("span",fB,E(_.average_rating||0),1)]),h[22]||(h[22]=s("span",{class:"mx-2 text-gray-300"},"",-1)),s("span",pB,E(_.price===0||_.price===null||_.price===void 0?"Free":`$${_.price}`),1)])])]),s("div",mB,[pe(w,{to:`/courses/${_.id}/builder`,class:"btn btn-sm btn-primary flex items-center flex-1 min-w-0 justify-center",title:"Course Builder"},{default:ke(()=>h[23]||(h[23]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0l1.403 5.777c.194.8.8 1.406 1.6 1.6l5.777 1.403c1.756.426 1.756 2.924 0 3.35l-5.777 1.403c-.8.194-1.406.8-1.6 1.6l-1.403 5.777c-.426 1.756-2.924 1.756-3.35 0l-1.403-5.777c-.194-.8-.8-1.406-1.6-1.6l-5.777-1.403c-1.756-.426-1.756-2.924 0-3.35l5.777-1.403c.8-.194 1.406-.8 1.6-1.6l1.403-5.777z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])),_:2,__:[23]},1032,["to"]),pe(w,{to:`/courses/${_.slug}/edit`,class:"btn btn-sm btn-secondary flex items-center flex-1 min-w-0 justify-center",title:"Edit Course"},{default:ke(()=>h[24]||(h[24]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:2,__:[24]},1032,["to"]),pe(w,{to:`/courses/${_.slug}`,class:"btn btn-sm btn-outline flex items-center flex-1 min-w-0 justify-center",title:"View Course"},{default:ke(()=>h[25]||(h[25]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])),_:2,__:[25]},1032,["to"])])]))),128))])):(p(),v("div",gB,[h[27]||(h[27]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),h[28]||(h[28]=s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No courses yet",-1)),h[29]||(h[29]=s("p",{class:"mt-1 text-sm text-gray-500"},"Get started by creating your first course.",-1)),s("div",vB,[pe(w,{to:"/instructor/create-course",class:"btn btn-primary"},{default:ke(()=>h[26]||(h[26]=[de(" Create Your First Course ",-1)])),_:1,__:[26]})])]))])])]),s("div",hB,[s("div",yB,[h[32]||(h[32]=s("div",{class:"px-6 py-4 border-b border-gray-200"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Recent Enrollments")],-1)),s("div",xB,[a.value?(p(),v("div",bB,h[30]||(h[30]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):f.value.length>0?(p(),v("div",wB,[(p(!0),v(_e,null,Ee(f.value,_=>{var b,P,R,M,D;return p(),v("div",{key:_.id,class:"flex items-center space-x-3"},[s("div",_B,[s("span",CB,E((R=(P=(b=_.student)==null?void 0:b.name)==null?void 0:P.charAt(0))==null?void 0:R.toUpperCase()),1)]),s("div",kB,[s("p",$B,E((M=_.student)==null?void 0:M.name),1),s("p",SB,E((D=_.course)==null?void 0:D.title),1)]),s("div",EB,E(k(_.created_at)),1)])}),128))])):(p(),v("div",AB,h[31]||(h[31]=[s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1),s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No enrollments yet",-1),s("p",{class:"mt-1 text-sm text-gray-500"},"Students will appear here once they enroll in your courses.",-1)])))])])])])])):r.value==="students"?(p(),v("div",TB,[s("div",PB,[s("div",RB,[h[35]||(h[35]=s("h3",{class:"text-base sm:text-lg font-medium text-gray-900 mb-3"},"Enrolled Students",-1)),s("div",MB,[s("div",IB,[xe(s("input",{"onUpdate:modelValue":h[3]||(h[3]=_=>g.value=_),type:"text",placeholder:"Search students...",class:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",onInput:$},null,544),[[Pe,g.value]]),h[33]||(h[33]=s("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[s("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))]),xe(s("select",{"onUpdate:modelValue":h[4]||(h[4]=_=>y.value=_),onChange:x,class:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[h[34]||(h[34]=s("option",{value:""},"All Courses",-1)),(p(!0),v(_e,null,Ee(m.value,_=>(p(),v("option",{key:_.id,value:_.id},E(_.title),9,OB))),128))],544),[[_t,y.value]])])]),s("div",DB,[l.value?(p(),v("div",jB,h[36]||(h[36]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):u.value.length>0?(p(),v("div",LB,[s("table",FB,[h[37]||(h[37]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Student"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Course"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Enrolled"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Progress"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status")])],-1)),s("tbody",NB,[(p(!0),v(_e,null,Ee(u.value,_=>{var b,P,R,M,D,J;return p(),v("tr",{key:_.id,class:"hover:bg-gray-50"},[s("td",BB,[s("div",UB,[s("div",VB,[s("div",HB,[s("span",zB,E((R=(P=(b=_.student)==null?void 0:b.name)==null?void 0:P.charAt(0))==null?void 0:R.toUpperCase()),1)])]),s("div",WB,[s("div",KB,E((M=_.student)==null?void 0:M.name),1),s("div",GB,E((D=_.student)==null?void 0:D.email),1)])])]),s("td",qB,[s("div",YB,E((J=_.course)==null?void 0:J.title),1)]),s("td",XB,E(k(_.created_at)),1),s("td",JB,[s("div",QB,[s("div",ZB,[s("div",{class:"bg-primary-600 h-2 rounded-full",style:ns({width:`${_.progress_percentage||0}%`})},null,4)]),s("span",eU,E(_.progress_percentage||0)+"%",1)])]),s("td",tU,[s("span",{class:ue([_.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},E(_.status),3)])])}),128))])])])):(p(),v("div",sU,h[38]||(h[38]=[s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1),s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No students found",-1),s("p",{class:"mt-1 text-sm text-gray-500"},"No students have enrolled in your courses yet.",-1)])))])])])):r.value==="analytics"?(p(),v("div",oU,[s("div",rU,[s("div",nU,[h[44]||(h[44]=s("div",{class:"px-6 py-4 border-b border-gray-200"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Course Performance")],-1)),s("div",aU,[n.value?(p(),v("div",lU,h[39]||(h[39]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):c.value.length>0?(p(),v("div",iU,[(p(!0),v(_e,null,Ee(c.value.slice(0,5),_=>(p(),v("div",{key:_.id,class:"flex items-center justify-between p-4 border border-gray-200 rounded-lg"},[s("div",dU,[s("h4",uU,E(_.title),1),s("p",cU,E(_.category),1)]),s("div",fU,[s("div",pU,[s("div",mU,E(_.enrollments),1),h[40]||(h[40]=s("div",{class:"text-gray-500"},"Enrollments",-1))]),s("div",gU,[s("div",vU,E(_.completion_rate)+"%",1),h[41]||(h[41]=s("div",{class:"text-gray-500"},"Completion",-1))]),s("div",hU,[s("div",yU,"$"+E(_.revenue),1),h[42]||(h[42]=s("div",{class:"text-gray-500"},"Revenue",-1))])])]))),128))])):(p(),v("div",xU,h[43]||(h[43]=[s("p",{class:"text-gray-500"},"No course performance data available",-1)])))])]),s("div",bU,[h[47]||(h[47]=s("div",{class:"px-6 py-4 border-b border-gray-200"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Revenue Overview")],-1)),s("div",wU,[s("div",_U,[s("div",CU,[s("div",kU,"$"+E(i.value.totalRevenue),1),h[45]||(h[45]=s("div",{class:"text-sm text-gray-500"},"Total Revenue",-1))]),s("div",$U,[s("div",SU,"$"+E(i.value.monthlyRevenue),1),h[46]||(h[46]=s("div",{class:"text-sm text-gray-500"},"This Month",-1))])])])])])])):N("",!0),s("div",EU,[pe(w,{to:"/instructor/create-course",class:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow duration-200"},{default:ke(()=>h[48]||(h[48]=[s("div",{class:"flex items-center"},[s("div",{class:"flex-shrink-0"},[s("div",{class:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])])]),s("div",{class:"ml-4"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Create Course"),s("p",{class:"text-sm text-gray-600"},"Start building your next course")])],-1)])),_:1,__:[48]}),pe(w,{to:"/my-courses",class:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow duration-200"},{default:ke(()=>h[49]||(h[49]=[s("div",{class:"flex items-center"},[s("div",{class:"flex-shrink-0"},[s("div",{class:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])]),s("div",{class:"ml-4"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Manage Courses"),s("p",{class:"text-sm text-gray-600"},"Edit and update your courses")])],-1)])),_:1,__:[49]}),pe(w,{to:"/instructor/analytics",class:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow duration-200"},{default:ke(()=>h[50]||(h[50]=[s("div",{class:"flex items-center"},[s("div",{class:"flex-shrink-0"},[s("div",{class:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])]),s("div",{class:"ml-4"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Analytics"),s("p",{class:"text-sm text-gray-600"},"View detailed performance metrics")])],-1)])),_:1,__:[50]})])])])}}};function TU(e,t){return p(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"})])}function PU(e,t){return p(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function RU(e,t){return p(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})])}function MU(e,t){return p(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function IU(e,t){return p(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function OU(e,t){return p(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 6h.008v.008H6V6Z"})])}function DU(e,t){return p(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}const jU={class:"min-h-screen bg-gray-50"},LU={class:"flex"},FU={class:"flex items-center justify-between h-16 px-4 border-b border-gray-200 md:hidden"},NU={class:"pt-20 px-2"},BU={class:"space-y-1"},UU={class:"flex-1 p-4 sm:p-6 lg:p-8"},VU={__name:"InstructorLayout",setup(e){const t=kt(),o=Ot(),r=j(!1),a=j(!1);Ne(()=>o.user),Ne(()=>{var i;return((i=t.currentRoute.value.meta)==null?void 0:i.title)||"Instructor Panel"}),Ne(()=>vr.apiUrl);const l=[{name:"Dashboard",href:"/instructor",icon:IU},{name:"My Courses",href:"/instructor/courses",icon:TU},{name:"Enrolled Students",href:"/instructor/students",icon:DU},{name:"Create Course",href:"/instructor/create-course",icon:RU},{name:"Categories",href:"/instructor/create-category",icon:OU},{name:"Analytics",href:"/instructor/analytics",icon:PU},{name:"Settings",href:"/instructor/profile",icon:MU}];return it(()=>{document.addEventListener("click",n=>{n.target.closest(".relative")||(r.value=!1)})}),(n,i)=>{const d=lt("router-link"),f=lt("router-view");return p(),v("div",jU,[s("div",LU,[a.value?(p(),v("div",{key:0,class:"fixed inset-0 z-40 md:hidden",onClick:i[0]||(i[0]=u=>a.value=!1)},i[3]||(i[3]=[s("div",{class:"absolute inset-0 bg-gray-600 opacity-75"},null,-1)]))):N("",!0),s("aside",{class:ue(["fixed inset-0 left-0 z-40 w-64 bg-white shadow-sm transform transition-transform duration-300 ease-in-out md:translate-x-0 md:static md:inset-0",a.value?"translate-x-0":"-translate-x-full"])},[s("div",FU,[i[5]||(i[5]=s("h2",{class:"text-lg font-semibold text-gray-900"},"Menu",-1)),s("button",{onClick:i[1]||(i[1]=u=>a.value=!1),class:"p-2 rounded-md text-gray-400 hover:text-gray-500"},i[4]||(i[4]=[s("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("nav",NU,[s("div",BU,[(p(),v(_e,null,Ee(l,u=>pe(d,{key:u.name,to:u.href,onClick:i[2]||(i[2]=c=>a.value=!1),class:ue([n.$route.path===u.href?"bg-primary-100 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-3 py-2 text-sm font-medium border-l-4"])},{default:ke(()=>[(p(),wt(Jo(u.icon),{class:ue([n.$route.path===u.href?"text-primary-500":"text-gray-400 group-hover:text-gray-500","mr-3 flex-shrink-0 h-6 w-6"])},null,8,["class"])),de(" "+E(u.name),1)]),_:2},1032,["to","class"])),64))])])],2),s("main",UU,[pe(f)])])])}}},HU={class:"min-h-screen bg-gray-50 py-8"},zU={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},WU={class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},KU={class:"bg-white rounded-lg shadow-sm p-6"},GU={class:"flex items-center"},qU={class:"ml-4"},YU={class:"text-2xl font-bold text-gray-900"},XU={class:"bg-white rounded-lg shadow-sm p-6"},JU={class:"flex items-center"},QU={class:"ml-4"},ZU={class:"text-2xl font-bold text-gray-900"},eV={class:"bg-white rounded-lg shadow-sm p-6"},tV={class:"flex items-center"},sV={class:"ml-4"},oV={class:"text-2xl font-bold text-gray-900"},rV={class:"bg-white rounded-lg shadow-sm p-6"},nV={class:"flex items-center"},aV={class:"ml-4"},lV={class:"text-2xl font-bold text-gray-900"},iV={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},dV={class:"lg:col-span-2"},uV={class:"bg-white rounded-lg shadow-sm"},cV={class:"px-6 py-4 border-b border-gray-200"},fV={class:"flex items-center justify-between"},pV={class:"p-6"},mV={key:0,class:"flex justify-center py-8"},gV={key:1,class:"space-y-4"},vV={class:"flex-shrink-0 w-16 h-12 bg-gray-200 rounded-lg flex items-center justify-center"},hV=["src","alt"],yV={key:1,class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xV={class:"flex-1 min-w-0"},bV={class:"text-sm font-medium text-gray-900 truncate"},wV={class:"text-sm text-gray-500"},_V={class:"mt-2"},CV={class:"flex items-center justify-between text-xs text-gray-500 mb-1"},kV={class:"w-full bg-gray-200 rounded-full h-2"},$V={class:"flex items-center space-x-2"},SV=["onClick"],EV={key:2,class:"text-center py-8"},AV={class:"mt-6"},TV={class:"lg:col-span-1 space-y-6"},PV={class:"bg-white rounded-lg shadow-sm"},RV={class:"p-6"},MV={key:0,class:"flex justify-center py-8"},IV={key:1,class:"space-y-4"},OV={class:"flex-1 min-w-0"},DV={class:"text-sm text-gray-900"},jV={class:"text-xs text-gray-500"},LV={key:2,class:"text-center py-8"},FV={class:"bg-white rounded-lg shadow-sm"},NV={class:"p-6"},BV={key:0,class:"flex justify-center py-8"},UV={key:1,class:"space-y-4"},VV={class:"flex-1 min-w-0"},HV={class:"text-sm font-medium text-gray-900 truncate"},zV={class:"text-xs text-gray-500"},WV=["onClick"],KV={key:2,class:"text-center py-8"},GV={class:"mt-8 grid grid-cols-2 md:grid-cols-3 gap-6"},qV={__name:"StudentDashboard",setup(e){const t=gt(),o=j(!1),r=j({enrolledCourses:0,completedCourses:0,studyHours:0,certificates:0}),a=j([]),l=j([]),n=j([]),i=u=>new Date(u).toLocaleDateString("en-US",{month:"short",day:"numeric"}),d=async u=>{try{const c=await xi.downloadCertificate(u.id);t.success("Certificate downloaded successfully!")}catch(c){console.error("Error downloading certificate:",c),t.error("Failed to download certificate")}},f=async()=>{var u,c,m,g,y,k;o.value=!0;try{const[C,A,T]=await Promise.allSettled([xi.getDashboardStats(),jr.getEnrollments(),xi.getCertificates()]);if(C.status==="fulfilled"){const x=(((u=C.value.data)==null?void 0:u.data)||C.value.data||{}).stats||{};r.value={enrolledCourses:x.total_courses||0,completedCourses:x.completed_courses||0,studyHours:0,certificates:x.certificates_earned||0}}if(A.status==="fulfilled"){const $=(c=A.value.data)==null?void 0:c.data;a.value=($==null?void 0:$.data)||[]}else a.value=[];T.status==="fulfilled"&&(n.value=((g=(m=T.value.data)==null?void 0:m.data)==null?void 0:g.data)||((y=T.value.data)==null?void 0:y.data)||[])}catch(C){console.error("Error fetching dashboard data:",C),((k=C.response)==null?void 0:k.status)>=400&&t.error("Failed to load dashboard data")}finally{o.value=!1}};return it(()=>{f()}),(u,c)=>{const m=lt("router-link");return p(),v("div",HU,[s("div",zU,[c[29]||(c[29]=s("div",{class:"mb-8"},[s("h1",{class:"text-3xl font-bold text-gray-900"},"Student Dashboard"),s("p",{class:"mt-2 text-gray-600"},"Track your learning progress and achievements")],-1)),s("div",WU,[s("div",KU,[s("div",GU,[c[1]||(c[1]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])])],-1)),s("div",qU,[c[0]||(c[0]=s("p",{class:"text-sm font-medium text-gray-600"},"Enrolled Courses",-1)),s("p",YU,E(r.value.enrolledCourses),1)])])]),s("div",XU,[s("div",JU,[c[3]||(c[3]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),s("div",QU,[c[2]||(c[2]=s("p",{class:"text-sm font-medium text-gray-600"},"Completed Courses",-1)),s("p",ZU,E(r.value.completedCourses),1)])])]),s("div",eV,[s("div",tV,[c[5]||(c[5]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),s("div",sV,[c[4]||(c[4]=s("p",{class:"text-sm font-medium text-gray-600"},"Study Hours",-1)),s("p",oV,E(r.value.studyHours)+"h",1)])])]),s("div",rV,[s("div",nV,[c[7]||(c[7]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])],-1)),s("div",aV,[c[6]||(c[6]=s("p",{class:"text-sm font-medium text-gray-600"},"Certificates",-1)),s("p",lV,E(r.value.certificates),1)])])])]),s("div",iV,[s("div",dV,[s("div",uV,[s("div",cV,[s("div",fV,[c[9]||(c[9]=s("h3",{class:"text-lg font-medium text-gray-900"},"Currently Learning",-1)),pe(m,{to:"/courses",class:"btn btn-primary"},{default:ke(()=>c[8]||(c[8]=[de(" Browse Courses ",-1)])),_:1,__:[8]})])]),s("div",pV,[o.value?(p(),v("div",mV,c[10]||(c[10]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):a.value.length>0?(p(),v("div",gV,[(p(!0),v(_e,null,Ee(a.value,g=>{var y,k,C,A,T,$;return p(),v("div",{key:g.id,class:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200"},[s("div",vV,[(y=g.course)!=null&&y.image?(p(),v("img",{key:0,src:g.course.image,alt:g.course.title,class:"w-full h-full object-cover rounded-lg"},null,8,hV)):(p(),v("svg",yV,c[11]||(c[11]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},null,-1)])))]),s("div",xV,[s("h4",bV,E((k=g.course)==null?void 0:k.title),1),s("p",wV,E((A=(C=g.course)==null?void 0:C.instructor)==null?void 0:A.name),1),s("div",_V,[s("div",CV,[c[12]||(c[12]=s("span",null,"Progress",-1)),s("span",null,E(Math.round(g.progress_percentage||0))+"%",1)]),s("div",kV,[s("div",{class:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:ns({width:`${g.progress_percentage||0}%`})},null,4)])])]),s("div",$V,[pe(m,{to:`/courses/${(T=g.course)==null?void 0:T.slug}/lessons`,class:"btn btn-sm btn-primary"},{default:ke(()=>c[13]||(c[13]=[de(" Continue ",-1)])),_:2,__:[13]},1032,["to"]),($=g.course)!=null&&$.allow_certificates&&g.progress_percentage>=100?(p(),v("button",{key:0,onClick:x=>d(g),class:"btn btn-sm btn-secondary"}," Certificate ",8,SV)):N("",!0)])])}),128))])):(p(),v("div",EV,[c[15]||(c[15]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),c[16]||(c[16]=s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No courses enrolled",-1)),c[17]||(c[17]=s("p",{class:"mt-1 text-sm text-gray-500"},"Start your learning journey by enrolling in a course.",-1)),s("div",AV,[pe(m,{to:"/courses",class:"btn btn-primary"},{default:ke(()=>c[14]||(c[14]=[de(" Browse Courses ",-1)])),_:1,__:[14]})])]))])])]),s("div",TV,[s("div",PV,[c[21]||(c[21]=s("div",{class:"px-6 py-4 border-b border-gray-200"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Recent Activity")],-1)),s("div",RV,[o.value?(p(),v("div",MV,c[18]||(c[18]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):l.value.length>0?(p(),v("div",IV,[(p(!0),v(_e,null,Ee(l.value,g=>(p(),v("div",{key:g.id,class:"flex items-start space-x-3"},[c[19]||(c[19]=s("div",{class:"flex-shrink-0 w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center"},[s("svg",{class:"w-4 h-4 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),s("div",OV,[s("p",DV,E(g.description),1),s("p",jV,E(i(g.created_at)),1)])]))),128))])):(p(),v("div",LV,c[20]||(c[20]=[s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No recent activity",-1),s("p",{class:"mt-1 text-sm text-gray-500"},"Your learning activity will appear here.",-1)])))])]),s("div",FV,[c[25]||(c[25]=s("div",{class:"px-6 py-4 border-b border-gray-200"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Certificates")],-1)),s("div",NV,[o.value?(p(),v("div",BV,c[22]||(c[22]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):n.value.length>0?(p(),v("div",UV,[(p(!0),v(_e,null,Ee(n.value,g=>{var y;return p(),v("div",{key:g.id,class:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg"},[c[23]||(c[23]=s("div",{class:"flex-shrink-0 w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),s("div",VV,[s("p",HV,E((y=g.course)==null?void 0:y.title),1),s("p",zV,E(i(g.issued_at)),1)]),s("button",{onClick:k=>d(g),class:"btn btn-sm btn-secondary"}," Download ",8,WV)])}),128))])):(p(),v("div",KV,c[24]||(c[24]=[s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No certificates yet",-1),s("p",{class:"mt-1 text-sm text-gray-500"},"Complete courses to earn certificates.",-1)])))])])])]),s("div",GV,[pe(m,{to:"/courses",class:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow duration-200"},{default:ke(()=>c[26]||(c[26]=[s("div",{class:"flex items-center"},[s("div",{class:"flex-shrink-0"},[s("div",{class:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])])]),s("div",{class:"ml-4"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Browse Courses"),s("p",{class:"text-sm text-gray-600"},"Discover new courses to learn")])],-1)])),_:1,__:[26]}),pe(m,{to:"/my-courses",class:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow duration-200"},{default:ke(()=>c[27]||(c[27]=[s("div",{class:"flex items-center"},[s("div",{class:"flex-shrink-0"},[s("div",{class:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])]),s("div",{class:"ml-4"},[s("h3",{class:"text-lg font-medium text-gray-900"},"My Courses"),s("p",{class:"text-sm text-gray-600"},"Continue your learning journey")])],-1)])),_:1,__:[27]}),pe(m,{to:"/forum",class:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow duration-200"},{default:ke(()=>c[28]||(c[28]=[s("div",{class:"flex items-center"},[s("div",{class:"flex-shrink-0"},[s("div",{class:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})])])]),s("div",{class:"ml-4"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Community"),s("p",{class:"text-sm text-gray-600"},"Join discussions and ask questions")])],-1)])),_:1,__:[28]})])])])}}},YV={class:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},XV={class:"max-w-md w-full text-center"},JV={class:"space-y-4"},QV={__name:"NotFound",setup(e){return(t,o)=>{const r=lt("router-link");return p(),v("div",YV,[s("div",XV,[o[2]||(o[2]=ft('<div class="mb-8"><svg class="mx-auto h-24 w-24 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.47-.881-6.08-2.33"></path></svg></div><h1 class="text-6xl font-bold text-gray-900 mb-4">404</h1><h2 class="text-2xl font-semibold text-gray-700 mb-4">Page Not Found</h2><p class="text-gray-600 mb-8"> Sorry, the page you&#39;re looking for doesn&#39;t exist or has been moved. </p>',4)),s("div",JV,[pe(r,{to:"/",class:"btn btn-primary w-full"},{default:ke(()=>o[0]||(o[0]=[de(" Go Back Home ",-1)])),_:1,__:[0]}),pe(r,{to:"/courses",class:"btn btn-secondary w-full"},{default:ke(()=>o[1]||(o[1]=[de(" Browse Courses ",-1)])),_:1,__:[1]})])])])}}};var ZV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var o=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};o.prototype=t.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(o,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),o}var eH={exports:{}};const tH=zm(Ih);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function yf(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),o.push.apply(o,r)}return o}function ro(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?yf(Object(o),!0).forEach(function(r){sH(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):yf(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function za(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?za=function(t){return typeof t}:za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}function sH(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Os(){return Os=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},Os.apply(this,arguments)}function oH(e,t){if(e==null)return{};var o={},r=Object.keys(e),a,l;for(l=0;l<r.length;l++)a=r[l],!(t.indexOf(a)>=0)&&(o[a]=e[a]);return o}function rH(e,t){if(e==null)return{};var o=oH(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function nH(e){return aH(e)||lH(e)||iH(e)||dH()}function aH(e){if(Array.isArray(e))return ud(e)}function lH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iH(e,t){if(e){if(typeof e=="string")return ud(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ud(e,t)}}function ud(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function dH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var uH="1.14.0";function yo(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var $o=yo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ua=yo(/Edge/i),xf=yo(/firefox/i),Dn=yo(/safari/i)&&!yo(/chrome/i)&&!yo(/android/i),Wm=yo(/iP(ad|od|hone)/i),cH=yo(/chrome/i)&&yo(/android/i),Km={capture:!1,passive:!1};function ut(e,t,o){e.addEventListener(t,o,!$o&&Km)}function at(e,t,o){e.removeEventListener(t,o,!$o&&Km)}function ml(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function fH(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Fs(e,t,o,r){if(e){o=o||document;do{if(t!=null&&(t[0]===">"?e.parentNode===o&&ml(e,t):ml(e,t))||r&&e===o)return e;if(e===o)break}while(e=fH(e))}return null}var bf=/\s+/g;function Mt(e,t,o){if(e&&t)if(e.classList)e.classList[o?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(bf," ").replace(" "+t+" "," ");e.className=(r+(o?" "+t:"")).replace(bf," ")}}function He(e,t,o){var r=e&&e.style;if(r){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(o=e.currentStyle),t===void 0?o:o[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=o+(typeof o=="string"?"":"px")}}function fr(e,t){var o="";if(typeof e=="string")o=e;else do{var r=He(e,"transform");r&&r!=="none"&&(o=r+" "+o)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(o)}function Gm(e,t,o){if(e){var r=e.getElementsByTagName(t),a=0,l=r.length;if(o)for(;a<l;a++)o(r[a],a);return r}return[]}function to(){var e=document.scrollingElement;return e||document.documentElement}function Pt(e,t,o,r,a){if(!(!e.getBoundingClientRect&&e!==window)){var l,n,i,d,f,u,c;if(e!==window&&e.parentNode&&e!==to()?(l=e.getBoundingClientRect(),n=l.top,i=l.left,d=l.bottom,f=l.right,u=l.height,c=l.width):(n=0,i=0,d=window.innerHeight,f=window.innerWidth,u=window.innerHeight,c=window.innerWidth),(t||o)&&e!==window&&(a=a||e.parentNode,!$o))do if(a&&a.getBoundingClientRect&&(He(a,"transform")!=="none"||o&&He(a,"position")!=="static")){var m=a.getBoundingClientRect();n-=m.top+parseInt(He(a,"border-top-width")),i-=m.left+parseInt(He(a,"border-left-width")),d=n+l.height,f=i+l.width;break}while(a=a.parentNode);if(r&&e!==window){var g=fr(a||e),y=g&&g.a,k=g&&g.d;g&&(n/=k,i/=y,c/=y,u/=k,d=n+u,f=i+c)}return{top:n,left:i,bottom:d,right:f,width:c,height:u}}}function wf(e,t,o){for(var r=Ko(e,!0),a=Pt(e)[t];r;){var l=Pt(r)[o],n=void 0;if(o==="top"||o==="left"?n=a>=l:n=a<=l,!n)return r;if(r===to())break;r=Ko(r,!1)}return!1}function Zr(e,t,o,r){for(var a=0,l=0,n=e.children;l<n.length;){if(n[l].style.display!=="none"&&n[l]!==qe.ghost&&(r||n[l]!==qe.dragged)&&Fs(n[l],o.draggable,e,!1)){if(a===t)return n[l];a++}l++}return null}function Zd(e,t){for(var o=e.lastElementChild;o&&(o===qe.ghost||He(o,"display")==="none"||t&&!ml(o,t));)o=o.previousElementSibling;return o||null}function Ft(e,t){var o=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==qe.clone&&(!t||ml(e,t))&&o++;return o}function _f(e){var t=0,o=0,r=to();if(e)do{var a=fr(e),l=a.a,n=a.d;t+=e.scrollLeft*l,o+=e.scrollTop*n}while(e!==r&&(e=e.parentNode));return[t,o]}function pH(e,t){for(var o in e)if(e.hasOwnProperty(o)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[o][r])return Number(o)}return-1}function Ko(e,t){if(!e||!e.getBoundingClientRect)return to();var o=e,r=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var a=He(o);if(o.clientWidth<o.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return to();if(r||t)return o;r=!0}}while(o=o.parentNode);return to()}function mH(e,t){if(e&&t)for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}function wi(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var jn;function qm(e,t){return function(){if(!jn){var o=arguments,r=this;o.length===1?e.call(r,o[0]):e.apply(r,o),jn=setTimeout(function(){jn=void 0},t)}}}function gH(){clearTimeout(jn),jn=void 0}function Ym(e,t,o){e.scrollLeft+=t,e.scrollTop+=o}function eu(e){var t=window.Polymer,o=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):o?o(e).clone(!0)[0]:e.cloneNode(!0)}function Cf(e,t){He(e,"position","absolute"),He(e,"top",t.top),He(e,"left",t.left),He(e,"width",t.width),He(e,"height",t.height)}function _i(e){He(e,"position",""),He(e,"top",""),He(e,"left",""),He(e,"width",""),He(e,"height","")}var os="Sortable"+new Date().getTime();function vH(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(a){if(!(He(a,"display")==="none"||a===qe.ghost)){e.push({target:a,rect:Pt(a)});var l=ro({},e[e.length-1].rect);if(a.thisAnimationDuration){var n=fr(a,!0);n&&(l.top-=n.f,l.left-=n.e)}a.fromRect=l}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(pH(e,{target:r}),1)},animateAll:function(r){var a=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var l=!1,n=0;e.forEach(function(i){var d=0,f=i.target,u=f.fromRect,c=Pt(f),m=f.prevFromRect,g=f.prevToRect,y=i.rect,k=fr(f,!0);k&&(c.top-=k.f,c.left-=k.e),f.toRect=c,f.thisAnimationDuration&&wi(m,c)&&!wi(u,c)&&(y.top-c.top)/(y.left-c.left)===(u.top-c.top)/(u.left-c.left)&&(d=yH(y,m,g,a.options)),wi(c,u)||(f.prevFromRect=u,f.prevToRect=c,d||(d=a.options.animation),a.animate(f,y,c,d)),d&&(l=!0,n=Math.max(n,d),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},d),f.thisAnimationDuration=d)}),clearTimeout(t),l?t=setTimeout(function(){typeof r=="function"&&r()},n):typeof r=="function"&&r(),e=[]},animate:function(r,a,l,n){if(n){He(r,"transition",""),He(r,"transform","");var i=fr(this.el),d=i&&i.a,f=i&&i.d,u=(a.left-l.left)/(d||1),c=(a.top-l.top)/(f||1);r.animatingX=!!u,r.animatingY=!!c,He(r,"transform","translate3d("+u+"px,"+c+"px,0)"),this.forRepaintDummy=hH(r),He(r,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),He(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){He(r,"transition",""),He(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},n)}}}}function hH(e){return e.offsetWidth}function yH(e,t,o,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-o.top,2)+Math.pow(t.left-o.left,2))*r.animation}var Pr=[],Ci={initializeByDefault:!0},ca={mount:function(t){for(var o in Ci)Ci.hasOwnProperty(o)&&!(o in t)&&(t[o]=Ci[o]);Pr.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Pr.push(t)},pluginEvent:function(t,o,r){var a=this;this.eventCanceled=!1,r.cancel=function(){a.eventCanceled=!0};var l=t+"Global";Pr.forEach(function(n){o[n.pluginName]&&(o[n.pluginName][l]&&o[n.pluginName][l](ro({sortable:o},r)),o.options[n.pluginName]&&o[n.pluginName][t]&&o[n.pluginName][t](ro({sortable:o},r)))})},initializePlugins:function(t,o,r,a){Pr.forEach(function(i){var d=i.pluginName;if(!(!t.options[d]&&!i.initializeByDefault)){var f=new i(t,o,t.options);f.sortable=t,f.options=t.options,t[d]=f,Os(r,f.defaults)}});for(var l in t.options)if(t.options.hasOwnProperty(l)){var n=this.modifyOption(t,l,t.options[l]);typeof n<"u"&&(t.options[l]=n)}},getEventProperties:function(t,o){var r={};return Pr.forEach(function(a){typeof a.eventProperties=="function"&&Os(r,a.eventProperties.call(o[a.pluginName],t))}),r},modifyOption:function(t,o,r){var a;return Pr.forEach(function(l){t[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[o]=="function"&&(a=l.optionListeners[o].call(t[l.pluginName],r))}),a}};function bn(e){var t=e.sortable,o=e.rootEl,r=e.name,a=e.targetEl,l=e.cloneEl,n=e.toEl,i=e.fromEl,d=e.oldIndex,f=e.newIndex,u=e.oldDraggableIndex,c=e.newDraggableIndex,m=e.originalEvent,g=e.putSortable,y=e.extraEventProperties;if(t=t||o&&o[os],!!t){var k,C=t.options,A="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!$o&&!ua?k=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(k=document.createEvent("Event"),k.initEvent(r,!0,!0)),k.to=n||o,k.from=i||o,k.item=a||o,k.clone=l,k.oldIndex=d,k.newIndex=f,k.oldDraggableIndex=u,k.newDraggableIndex=c,k.originalEvent=m,k.pullMode=g?g.lastPutMode:void 0;var T=ro(ro({},y),ca.getEventProperties(r,t));for(var $ in T)k[$]=T[$];o&&o.dispatchEvent(k),C[A]&&C[A].call(t,k)}}var xH=["evt"],ms=function(t,o){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=r.evt,l=rH(r,xH);ca.pluginEvent.bind(qe)(t,o,ro({dragEl:Ie,parentEl:Dt,ghostEl:et,rootEl:At,nextEl:ar,lastDownEl:Wa,cloneEl:jt,cloneHidden:Wo,dragStarted:wn,putSortable:qt,activeSortable:qe.active,originalEvent:a,oldIndex:Nr,oldDraggableIndex:Ln,newIndex:ks,newDraggableIndex:Ho,hideGhostForTarget:Zm,unhideGhostForTarget:e1,cloneNowHidden:function(){Wo=!0},cloneNowShown:function(){Wo=!1},dispatchSortableEvent:function(i){ls({sortable:o,name:i,originalEvent:a})}},l))};function ls(e){bn(ro({putSortable:qt,cloneEl:jt,targetEl:Ie,rootEl:At,oldIndex:Nr,oldDraggableIndex:Ln,newIndex:ks,newDraggableIndex:Ho},e))}var Ie,Dt,et,At,ar,Wa,jt,Wo,Nr,ks,Ln,Ho,Ta,qt,Lr=!1,gl=!1,vl=[],rr,js,ki,$i,kf,$f,wn,Rr,Fn,Nn=!1,Pa=!1,Ka,Zt,Si=[],cd=!1,hl=[],Jl=typeof document<"u",Ra=Wm,Sf=ua||$o?"cssFloat":"float",bH=Jl&&!cH&&!Wm&&"draggable"in document.createElement("div"),Xm=function(){if(Jl){if($o)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Jm=function(t,o){var r=He(t),a=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),l=Zr(t,0,o),n=Zr(t,1,o),i=l&&He(l),d=n&&He(n),f=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+Pt(l).width,u=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+Pt(n).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&i.float&&i.float!=="none"){var c=i.float==="left"?"left":"right";return n&&(d.clear==="both"||d.clear===c)?"vertical":"horizontal"}return l&&(i.display==="block"||i.display==="flex"||i.display==="table"||i.display==="grid"||f>=a&&r[Sf]==="none"||n&&r[Sf]==="none"&&f+u>a)?"vertical":"horizontal"},wH=function(t,o,r){var a=r?t.left:t.top,l=r?t.right:t.bottom,n=r?t.width:t.height,i=r?o.left:o.top,d=r?o.right:o.bottom,f=r?o.width:o.height;return a===i||l===d||a+n/2===i+f/2},_H=function(t,o){var r;return vl.some(function(a){var l=a[os].options.emptyInsertThreshold;if(!(!l||Zd(a))){var n=Pt(a),i=t>=n.left-l&&t<=n.right+l,d=o>=n.top-l&&o<=n.bottom+l;if(i&&d)return r=a}}),r},Qm=function(t){function o(l,n){return function(i,d,f,u){var c=i.options.group.name&&d.options.group.name&&i.options.group.name===d.options.group.name;if(l==null&&(n||c))return!0;if(l==null||l===!1)return!1;if(n&&l==="clone")return l;if(typeof l=="function")return o(l(i,d,f,u),n)(i,d,f,u);var m=(n?i:d).options.group.name;return l===!0||typeof l=="string"&&l===m||l.join&&l.indexOf(m)>-1}}var r={},a=t.group;(!a||za(a)!="object")&&(a={name:a}),r.name=a.name,r.checkPull=o(a.pull,!0),r.checkPut=o(a.put),r.revertClone=a.revertClone,t.group=r},Zm=function(){!Xm&&et&&He(et,"display","none")},e1=function(){!Xm&&et&&He(et,"display","")};Jl&&document.addEventListener("click",function(e){if(gl)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),gl=!1,!1},!0);var nr=function(t){if(Ie){t=t.touches?t.touches[0]:t;var o=_H(t.clientX,t.clientY);if(o){var r={};for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a]);r.target=r.rootEl=o,r.preventDefault=void 0,r.stopPropagation=void 0,o[os]._onDragOver(r)}}},CH=function(t){Ie&&Ie.parentNode[os]._isOutsideThisEl(t.target)};function qe(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Os({},t),e[os]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Jm(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(n,i){n.setData("Text",i.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:qe.supportPointer!==!1&&"PointerEvent"in window&&!Dn,emptyInsertThreshold:5};ca.initializePlugins(this,e,o);for(var r in o)!(r in t)&&(t[r]=o[r]);Qm(t);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=t.forceFallback?!1:bH,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?ut(e,"pointerdown",this._onTapStart):(ut(e,"mousedown",this._onTapStart),ut(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(ut(e,"dragover",this),ut(e,"dragenter",this)),vl.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Os(this,vH())}qe.prototype={constructor:qe,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Rr=null)},_getDirection:function(t,o){return typeof this.options.direction=="function"?this.options.direction.call(this,t,o,Ie):this.options.direction},_onTapStart:function(t){if(t.cancelable){var o=this,r=this.el,a=this.options,l=a.preventOnFilter,n=t.type,i=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,d=(i||t).target,f=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||d,u=a.filter;if(RH(r),!Ie&&!(/mousedown|pointerdown/.test(n)&&t.button!==0||a.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&Dn&&d&&d.tagName.toUpperCase()==="SELECT")&&(d=Fs(d,a.draggable,r,!1),!(d&&d.animated)&&Wa!==d)){if(Nr=Ft(d),Ln=Ft(d,a.draggable),typeof u=="function"){if(u.call(this,t,d,this)){ls({sortable:o,rootEl:f,name:"filter",targetEl:d,toEl:r,fromEl:r}),ms("filter",o,{evt:t}),l&&t.cancelable&&t.preventDefault();return}}else if(u&&(u=u.split(",").some(function(c){if(c=Fs(f,c.trim(),r,!1),c)return ls({sortable:o,rootEl:c,name:"filter",targetEl:d,fromEl:r,toEl:r}),ms("filter",o,{evt:t}),!0}),u)){l&&t.cancelable&&t.preventDefault();return}a.handle&&!Fs(f,a.handle,r,!1)||this._prepareDragStart(t,i,d)}}},_prepareDragStart:function(t,o,r){var a=this,l=a.el,n=a.options,i=l.ownerDocument,d;if(r&&!Ie&&r.parentNode===l){var f=Pt(r);if(At=l,Ie=r,Dt=Ie.parentNode,ar=Ie.nextSibling,Wa=r,Ta=n.group,qe.dragged=Ie,rr={target:Ie,clientX:(o||t).clientX,clientY:(o||t).clientY},kf=rr.clientX-f.left,$f=rr.clientY-f.top,this._lastX=(o||t).clientX,this._lastY=(o||t).clientY,Ie.style["will-change"]="all",d=function(){if(ms("delayEnded",a,{evt:t}),qe.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!xf&&a.nativeDraggable&&(Ie.draggable=!0),a._triggerDragStart(t,o),ls({sortable:a,name:"choose",originalEvent:t}),Mt(Ie,n.chosenClass,!0)},n.ignore.split(",").forEach(function(u){Gm(Ie,u.trim(),Ei)}),ut(i,"dragover",nr),ut(i,"mousemove",nr),ut(i,"touchmove",nr),ut(i,"mouseup",a._onDrop),ut(i,"touchend",a._onDrop),ut(i,"touchcancel",a._onDrop),xf&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ie.draggable=!0),ms("delayStart",this,{evt:t}),n.delay&&(!n.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(ua||$o))){if(qe.eventCanceled){this._onDrop();return}ut(i,"mouseup",a._disableDelayedDrag),ut(i,"touchend",a._disableDelayedDrag),ut(i,"touchcancel",a._disableDelayedDrag),ut(i,"mousemove",a._delayedDragTouchMoveHandler),ut(i,"touchmove",a._delayedDragTouchMoveHandler),n.supportPointer&&ut(i,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(d,n.delay)}else d()}},_delayedDragTouchMoveHandler:function(t){var o=t.touches?t.touches[0]:t;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ie&&Ei(Ie),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;at(t,"mouseup",this._disableDelayedDrag),at(t,"touchend",this._disableDelayedDrag),at(t,"touchcancel",this._disableDelayedDrag),at(t,"mousemove",this._delayedDragTouchMoveHandler),at(t,"touchmove",this._delayedDragTouchMoveHandler),at(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,o){o=o||t.pointerType=="touch"&&t,!this.nativeDraggable||o?this.options.supportPointer?ut(document,"pointermove",this._onTouchMove):o?ut(document,"touchmove",this._onTouchMove):ut(document,"mousemove",this._onTouchMove):(ut(Ie,"dragend",this),ut(At,"dragstart",this._onDragStart));try{document.selection?Ga(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,o){if(Lr=!1,At&&Ie){ms("dragStarted",this,{evt:o}),this.nativeDraggable&&ut(document,"dragover",CH);var r=this.options;!t&&Mt(Ie,r.dragClass,!1),Mt(Ie,r.ghostClass,!0),qe.active=this,t&&this._appendGhost(),ls({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(js){this._lastX=js.clientX,this._lastY=js.clientY,Zm();for(var t=document.elementFromPoint(js.clientX,js.clientY),o=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(js.clientX,js.clientY),t!==o);)o=t;if(Ie.parentNode[os]._isOutsideThisEl(t),o)do{if(o[os]){var r=void 0;if(r=o[os]._onDragOver({clientX:js.clientX,clientY:js.clientY,target:t,rootEl:o}),r&&!this.options.dragoverBubble)break}t=o}while(o=o.parentNode);e1()}},_onTouchMove:function(t){if(rr){var o=this.options,r=o.fallbackTolerance,a=o.fallbackOffset,l=t.touches?t.touches[0]:t,n=et&&fr(et,!0),i=et&&n&&n.a,d=et&&n&&n.d,f=Ra&&Zt&&_f(Zt),u=(l.clientX-rr.clientX+a.x)/(i||1)+(f?f[0]-Si[0]:0)/(i||1),c=(l.clientY-rr.clientY+a.y)/(d||1)+(f?f[1]-Si[1]:0)/(d||1);if(!qe.active&&!Lr){if(r&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(et){n?(n.e+=u-(ki||0),n.f+=c-($i||0)):n={a:1,b:0,c:0,d:1,e:u,f:c};var m="matrix(".concat(n.a,",").concat(n.b,",").concat(n.c,",").concat(n.d,",").concat(n.e,",").concat(n.f,")");He(et,"webkitTransform",m),He(et,"mozTransform",m),He(et,"msTransform",m),He(et,"transform",m),ki=u,$i=c,js=l}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!et){var t=this.options.fallbackOnBody?document.body:At,o=Pt(Ie,!0,Ra,!0,t),r=this.options;if(Ra){for(Zt=t;He(Zt,"position")==="static"&&He(Zt,"transform")==="none"&&Zt!==document;)Zt=Zt.parentNode;Zt!==document.body&&Zt!==document.documentElement?(Zt===document&&(Zt=to()),o.top+=Zt.scrollTop,o.left+=Zt.scrollLeft):Zt=to(),Si=_f(Zt)}et=Ie.cloneNode(!0),Mt(et,r.ghostClass,!1),Mt(et,r.fallbackClass,!0),Mt(et,r.dragClass,!0),He(et,"transition",""),He(et,"transform",""),He(et,"box-sizing","border-box"),He(et,"margin",0),He(et,"top",o.top),He(et,"left",o.left),He(et,"width",o.width),He(et,"height",o.height),He(et,"opacity","0.8"),He(et,"position",Ra?"absolute":"fixed"),He(et,"zIndex","100000"),He(et,"pointerEvents","none"),qe.ghost=et,t.appendChild(et),He(et,"transform-origin",kf/parseInt(et.style.width)*100+"% "+$f/parseInt(et.style.height)*100+"%")}},_onDragStart:function(t,o){var r=this,a=t.dataTransfer,l=r.options;if(ms("dragStart",this,{evt:t}),qe.eventCanceled){this._onDrop();return}ms("setupClone",this),qe.eventCanceled||(jt=eu(Ie),jt.draggable=!1,jt.style["will-change"]="",this._hideClone(),Mt(jt,this.options.chosenClass,!1),qe.clone=jt),r.cloneId=Ga(function(){ms("clone",r),!qe.eventCanceled&&(r.options.removeCloneOnHide||At.insertBefore(jt,Ie),r._hideClone(),ls({sortable:r,name:"clone"}))}),!o&&Mt(Ie,l.dragClass,!0),o?(gl=!0,r._loopId=setInterval(r._emulateDragOver,50)):(at(document,"mouseup",r._onDrop),at(document,"touchend",r._onDrop),at(document,"touchcancel",r._onDrop),a&&(a.effectAllowed="move",l.setData&&l.setData.call(r,a,Ie)),ut(document,"drop",r),He(Ie,"transform","translateZ(0)")),Lr=!0,r._dragStartId=Ga(r._dragStarted.bind(r,o,t)),ut(document,"selectstart",r),wn=!0,Dn&&He(document.body,"user-select","none")},_onDragOver:function(t){var o=this.el,r=t.target,a,l,n,i=this.options,d=i.group,f=qe.active,u=Ta===d,c=i.sort,m=qt||f,g,y=this,k=!1;if(cd)return;function C(te,se){ms(te,y,ro({evt:t,isOwner:u,axis:g?"vertical":"horizontal",revert:n,dragRect:a,targetRect:l,canSort:c,fromSortable:m,target:r,completed:T,onMove:function(Ve,$e){return Ma(At,o,Ie,a,Ve,Pt(Ve),t,$e)},changed:$},se))}function A(){C("dragOverAnimationCapture"),y.captureAnimationState(),y!==m&&m.captureAnimationState()}function T(te){return C("dragOverCompleted",{insertion:te}),te&&(u?f._hideClone():f._showClone(y),y!==m&&(Mt(Ie,qt?qt.options.ghostClass:f.options.ghostClass,!1),Mt(Ie,i.ghostClass,!0)),qt!==y&&y!==qe.active?qt=y:y===qe.active&&qt&&(qt=null),m===y&&(y._ignoreWhileAnimating=r),y.animateAll(function(){C("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(r===Ie&&!Ie.animated||r===o&&!r.animated)&&(Rr=null),!i.dragoverBubble&&!t.rootEl&&r!==document&&(Ie.parentNode[os]._isOutsideThisEl(t.target),!te&&nr(t)),!i.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),k=!0}function $(){ks=Ft(Ie),Ho=Ft(Ie,i.draggable),ls({sortable:y,name:"change",toEl:o,newIndex:ks,newDraggableIndex:Ho,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=Fs(r,i.draggable,o,!0),C("dragOver"),qe.eventCanceled)return k;if(Ie.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||y._ignoreWhileAnimating===r)return T(!1);if(gl=!1,f&&!i.disabled&&(u?c||(n=Dt!==At):qt===this||(this.lastPutMode=Ta.checkPull(this,f,Ie,t))&&d.checkPut(this,f,Ie,t))){if(g=this._getDirection(t,r)==="vertical",a=Pt(Ie),C("dragOverValid"),qe.eventCanceled)return k;if(n)return Dt=At,A(),this._hideClone(),C("revert"),qe.eventCanceled||(ar?At.insertBefore(Ie,ar):At.appendChild(Ie)),T(!0);var x=Zd(o,i.draggable);if(!x||EH(t,g,this)&&!x.animated){if(x===Ie)return T(!1);if(x&&o===t.target&&(r=x),r&&(l=Pt(r)),Ma(At,o,Ie,a,r,l,t,!!r)!==!1)return A(),o.appendChild(Ie),Dt=o,$(),T(!0)}else if(x&&SH(t,g,this)){var S=Zr(o,0,i,!0);if(S===Ie)return T(!1);if(r=S,l=Pt(r),Ma(At,o,Ie,a,r,l,t,!1)!==!1)return A(),o.insertBefore(Ie,S),Dt=o,$(),T(!0)}else if(r.parentNode===o){l=Pt(r);var h=0,w,_=Ie.parentNode!==o,b=!wH(Ie.animated&&Ie.toRect||a,r.animated&&r.toRect||l,g),P=g?"top":"left",R=wf(r,"top","top")||wf(Ie,"top","top"),M=R?R.scrollTop:void 0;Rr!==r&&(w=l[P],Nn=!1,Pa=!b&&i.invertSwap||_),h=AH(t,r,l,g,b?1:i.swapThreshold,i.invertedSwapThreshold==null?i.swapThreshold:i.invertedSwapThreshold,Pa,Rr===r);var D;if(h!==0){var J=Ft(Ie);do J-=h,D=Dt.children[J];while(D&&(He(D,"display")==="none"||D===et))}if(h===0||D===r)return T(!1);Rr=r,Fn=h;var G=r.nextElementSibling,B=!1;B=h===1;var X=Ma(At,o,Ie,a,r,l,t,B);if(X!==!1)return(X===1||X===-1)&&(B=X===1),cd=!0,setTimeout($H,30),A(),B&&!G?o.appendChild(Ie):r.parentNode.insertBefore(Ie,B?G:r),R&&Ym(R,0,M-R.scrollTop),Dt=Ie.parentNode,w!==void 0&&!Pa&&(Ka=Math.abs(w-Pt(r)[P])),$(),T(!0)}if(o.contains(Ie))return T(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){at(document,"mousemove",this._onTouchMove),at(document,"touchmove",this._onTouchMove),at(document,"pointermove",this._onTouchMove),at(document,"dragover",nr),at(document,"mousemove",nr),at(document,"touchmove",nr)},_offUpEvents:function(){var t=this.el.ownerDocument;at(t,"mouseup",this._onDrop),at(t,"touchend",this._onDrop),at(t,"pointerup",this._onDrop),at(t,"touchcancel",this._onDrop),at(document,"selectstart",this)},_onDrop:function(t){var o=this.el,r=this.options;if(ks=Ft(Ie),Ho=Ft(Ie,r.draggable),ms("drop",this,{evt:t}),Dt=Ie&&Ie.parentNode,ks=Ft(Ie),Ho=Ft(Ie,r.draggable),qe.eventCanceled){this._nulling();return}Lr=!1,Pa=!1,Nn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),fd(this.cloneId),fd(this._dragStartId),this.nativeDraggable&&(at(document,"drop",this),at(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Dn&&He(document.body,"user-select",""),He(Ie,"transform",""),t&&(wn&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),et&&et.parentNode&&et.parentNode.removeChild(et),(At===Dt||qt&&qt.lastPutMode!=="clone")&&jt&&jt.parentNode&&jt.parentNode.removeChild(jt),Ie&&(this.nativeDraggable&&at(Ie,"dragend",this),Ei(Ie),Ie.style["will-change"]="",wn&&!Lr&&Mt(Ie,qt?qt.options.ghostClass:this.options.ghostClass,!1),Mt(Ie,this.options.chosenClass,!1),ls({sortable:this,name:"unchoose",toEl:Dt,newIndex:null,newDraggableIndex:null,originalEvent:t}),At!==Dt?(ks>=0&&(ls({rootEl:Dt,name:"add",toEl:Dt,fromEl:At,originalEvent:t}),ls({sortable:this,name:"remove",toEl:Dt,originalEvent:t}),ls({rootEl:Dt,name:"sort",toEl:Dt,fromEl:At,originalEvent:t}),ls({sortable:this,name:"sort",toEl:Dt,originalEvent:t})),qt&&qt.save()):ks!==Nr&&ks>=0&&(ls({sortable:this,name:"update",toEl:Dt,originalEvent:t}),ls({sortable:this,name:"sort",toEl:Dt,originalEvent:t})),qe.active&&((ks==null||ks===-1)&&(ks=Nr,Ho=Ln),ls({sortable:this,name:"end",toEl:Dt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){ms("nulling",this),At=Ie=Dt=et=ar=jt=Wa=Wo=rr=js=wn=ks=Ho=Nr=Ln=Rr=Fn=qt=Ta=qe.dragged=qe.ghost=qe.clone=qe.active=null,hl.forEach(function(t){t.checked=!0}),hl.length=ki=$i=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Ie&&(this._onDragOver(t),kH(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],o,r=this.el.children,a=0,l=r.length,n=this.options;a<l;a++)o=r[a],Fs(o,n.draggable,this.el,!1)&&t.push(o.getAttribute(n.dataIdAttr)||PH(o));return t},sort:function(t,o){var r={},a=this.el;this.toArray().forEach(function(l,n){var i=a.children[n];Fs(i,this.options.draggable,a,!1)&&(r[l]=i)},this),o&&this.captureAnimationState(),t.forEach(function(l){r[l]&&(a.removeChild(r[l]),a.appendChild(r[l]))}),o&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,o){return Fs(t,o||this.options.draggable,this.el,!1)},option:function(t,o){var r=this.options;if(o===void 0)return r[t];var a=ca.modifyOption(this,t,o);typeof a<"u"?r[t]=a:r[t]=o,t==="group"&&Qm(r)},destroy:function(){ms("destroy",this);var t=this.el;t[os]=null,at(t,"mousedown",this._onTapStart),at(t,"touchstart",this._onTapStart),at(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(at(t,"dragover",this),at(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),vl.splice(vl.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Wo){if(ms("hideClone",this),qe.eventCanceled)return;He(jt,"display","none"),this.options.removeCloneOnHide&&jt.parentNode&&jt.parentNode.removeChild(jt),Wo=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Wo){if(ms("showClone",this),qe.eventCanceled)return;Ie.parentNode==At&&!this.options.group.revertClone?At.insertBefore(jt,Ie):ar?At.insertBefore(jt,ar):At.appendChild(jt),this.options.group.revertClone&&this.animate(Ie,jt),He(jt,"display",""),Wo=!1}}};function kH(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Ma(e,t,o,r,a,l,n,i){var d,f=e[os],u=f.options.onMove,c;return window.CustomEvent&&!$o&&!ua?d=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(d=document.createEvent("Event"),d.initEvent("move",!0,!0)),d.to=t,d.from=e,d.dragged=o,d.draggedRect=r,d.related=a||t,d.relatedRect=l||Pt(t),d.willInsertAfter=i,d.originalEvent=n,e.dispatchEvent(d),u&&(c=u.call(f,d,n)),c}function Ei(e){e.draggable=!1}function $H(){cd=!1}function SH(e,t,o){var r=Pt(Zr(o.el,0,o.options,!0)),a=10;return t?e.clientX<r.left-a||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-a||e.clientY<r.bottom&&e.clientX<r.left}function EH(e,t,o){var r=Pt(Zd(o.el,o.options.draggable)),a=10;return t?e.clientX>r.right+a||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+a}function AH(e,t,o,r,a,l,n,i){var d=r?e.clientY:e.clientX,f=r?o.height:o.width,u=r?o.top:o.left,c=r?o.bottom:o.right,m=!1;if(!n){if(i&&Ka<f*a){if(!Nn&&(Fn===1?d>u+f*l/2:d<c-f*l/2)&&(Nn=!0),Nn)m=!0;else if(Fn===1?d<u+Ka:d>c-Ka)return-Fn}else if(d>u+f*(1-a)/2&&d<c-f*(1-a)/2)return TH(t)}return m=m||n,m&&(d<u+f*l/2||d>c-f*l/2)?d>u+f/2?1:-1:0}function TH(e){return Ft(Ie)<Ft(e)?1:-1}function PH(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,o=t.length,r=0;o--;)r+=t.charCodeAt(o);return r.toString(36)}function RH(e){hl.length=0;for(var t=e.getElementsByTagName("input"),o=t.length;o--;){var r=t[o];r.checked&&hl.push(r)}}function Ga(e){return setTimeout(e,0)}function fd(e){return clearTimeout(e)}Jl&&ut(document,"touchmove",function(e){(qe.active||Lr)&&e.cancelable&&e.preventDefault()});qe.utils={on:ut,off:at,css:He,find:Gm,is:function(t,o){return!!Fs(t,o,t,!1)},extend:mH,throttle:qm,closest:Fs,toggleClass:Mt,clone:eu,index:Ft,nextTick:Ga,cancelNextTick:fd,detectDirection:Jm,getChild:Zr};qe.get=function(e){return e[os]};qe.mount=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(qe.utils=ro(ro({},qe.utils),r.utils)),ca.mount(r)})};qe.create=function(e,t){return new qe(e,t)};qe.version=uH;var Vt=[],_n,pd,md=!1,Ai,Ti,yl,Cn;function MH(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(o){var r=o.originalEvent;this.sortable.nativeDraggable?ut(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ut(document,"pointermove",this._handleFallbackAutoScroll):r.touches?ut(document,"touchmove",this._handleFallbackAutoScroll):ut(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var r=o.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?at(document,"dragover",this._handleAutoScroll):(at(document,"pointermove",this._handleFallbackAutoScroll),at(document,"touchmove",this._handleFallbackAutoScroll),at(document,"mousemove",this._handleFallbackAutoScroll)),Ef(),qa(),gH()},nulling:function(){yl=pd=_n=md=Cn=Ai=Ti=null,Vt.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,r){var a=this,l=(o.touches?o.touches[0]:o).clientX,n=(o.touches?o.touches[0]:o).clientY,i=document.elementFromPoint(l,n);if(yl=o,r||this.options.forceAutoScrollFallback||ua||$o||Dn){Pi(o,this.options,i,r);var d=Ko(i,!0);md&&(!Cn||l!==Ai||n!==Ti)&&(Cn&&Ef(),Cn=setInterval(function(){var f=Ko(document.elementFromPoint(l,n),!0);f!==d&&(d=f,qa()),Pi(o,a.options,f,r)},10),Ai=l,Ti=n)}else{if(!this.options.bubbleScroll||Ko(i,!0)===to()){qa();return}Pi(o,this.options,Ko(i,!1),!1)}}},Os(e,{pluginName:"scroll",initializeByDefault:!0})}function qa(){Vt.forEach(function(e){clearInterval(e.pid)}),Vt=[]}function Ef(){clearInterval(Cn)}var Pi=qm(function(e,t,o,r){if(t.scroll){var a=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,n=t.scrollSensitivity,i=t.scrollSpeed,d=to(),f=!1,u;pd!==o&&(pd=o,qa(),_n=t.scroll,u=t.scrollFn,_n===!0&&(_n=Ko(o,!0)));var c=0,m=_n;do{var g=m,y=Pt(g),k=y.top,C=y.bottom,A=y.left,T=y.right,$=y.width,x=y.height,S=void 0,h=void 0,w=g.scrollWidth,_=g.scrollHeight,b=He(g),P=g.scrollLeft,R=g.scrollTop;g===d?(S=$<w&&(b.overflowX==="auto"||b.overflowX==="scroll"||b.overflowX==="visible"),h=x<_&&(b.overflowY==="auto"||b.overflowY==="scroll"||b.overflowY==="visible")):(S=$<w&&(b.overflowX==="auto"||b.overflowX==="scroll"),h=x<_&&(b.overflowY==="auto"||b.overflowY==="scroll"));var M=S&&(Math.abs(T-a)<=n&&P+$<w)-(Math.abs(A-a)<=n&&!!P),D=h&&(Math.abs(C-l)<=n&&R+x<_)-(Math.abs(k-l)<=n&&!!R);if(!Vt[c])for(var J=0;J<=c;J++)Vt[J]||(Vt[J]={});(Vt[c].vx!=M||Vt[c].vy!=D||Vt[c].el!==g)&&(Vt[c].el=g,Vt[c].vx=M,Vt[c].vy=D,clearInterval(Vt[c].pid),(M!=0||D!=0)&&(f=!0,Vt[c].pid=setInterval((function(){r&&this.layer===0&&qe.active._onTouchMove(yl);var G=Vt[this.layer].vy?Vt[this.layer].vy*i:0,B=Vt[this.layer].vx?Vt[this.layer].vx*i:0;typeof u=="function"&&u.call(qe.dragged.parentNode[os],B,G,e,yl,Vt[this.layer].el)!=="continue"||Ym(Vt[this.layer].el,B,G)}).bind({layer:c}),24))),c++}while(t.bubbleScroll&&m!==d&&(m=Ko(m,!1)));md=f}},30),t1=function(t){var o=t.originalEvent,r=t.putSortable,a=t.dragEl,l=t.activeSortable,n=t.dispatchSortableEvent,i=t.hideGhostForTarget,d=t.unhideGhostForTarget;if(o){var f=r||l;i();var u=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,c=document.elementFromPoint(u.clientX,u.clientY);d(),f&&!f.el.contains(c)&&(n("spill"),this.onSpill({dragEl:a,putSortable:r}))}};function tu(){}tu.prototype={startIndex:null,dragStart:function(t){var o=t.oldDraggableIndex;this.startIndex=o},onSpill:function(t){var o=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var a=Zr(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(o,a):this.sortable.el.appendChild(o),this.sortable.animateAll(),r&&r.animateAll()},drop:t1};Os(tu,{pluginName:"revertOnSpill"});function su(){}su.prototype={onSpill:function(t){var o=t.dragEl,r=t.putSortable,a=r||this.sortable;a.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),a.animateAll()},drop:t1};Os(su,{pluginName:"removeOnSpill"});var Rs;function IH(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(o){var r=o.dragEl;Rs=r},dragOverValid:function(o){var r=o.completed,a=o.target,l=o.onMove,n=o.activeSortable,i=o.changed,d=o.cancel;if(n.options.swap){var f=this.sortable.el,u=this.options;if(a&&a!==f){var c=Rs;l(a)!==!1?(Mt(a,u.swapClass,!0),Rs=a):Rs=null,c&&c!==Rs&&Mt(c,u.swapClass,!1)}i(),r(!0),d()}},drop:function(o){var r=o.activeSortable,a=o.putSortable,l=o.dragEl,n=a||this.sortable,i=this.options;Rs&&Mt(Rs,i.swapClass,!1),Rs&&(i.swap||a&&a.options.swap)&&l!==Rs&&(n.captureAnimationState(),n!==r&&r.captureAnimationState(),OH(l,Rs),n.animateAll(),n!==r&&r.animateAll())},nulling:function(){Rs=null}},Os(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Rs}}})}function OH(e,t){var o=e.parentNode,r=t.parentNode,a,l;!o||!r||o.isEqualNode(t)||r.isEqualNode(e)||(a=Ft(e),l=Ft(t),o.isEqualNode(r)&&a<l&&l++,o.insertBefore(t,o.children[a]),r.insertBefore(e,r.children[l]))}var Qe=[],Cs=[],gn,Ls,vn=!1,gs=!1,Mr=!1,$t,hn,Ia;function DH(){function e(t){for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));t.options.supportPointer?ut(document,"pointerup",this._deselectMultiDrag):(ut(document,"mouseup",this._deselectMultiDrag),ut(document,"touchend",this._deselectMultiDrag)),ut(document,"keydown",this._checkKeyDown),ut(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(a,l){var n="";Qe.length&&Ls===t?Qe.forEach(function(i,d){n+=(d?", ":"")+i.textContent}):n=l.textContent,a.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(o){var r=o.dragEl;$t=r},delayEnded:function(){this.isMultiDrag=~Qe.indexOf($t)},setupClone:function(o){var r=o.sortable,a=o.cancel;if(this.isMultiDrag){for(var l=0;l<Qe.length;l++)Cs.push(eu(Qe[l])),Cs[l].sortableIndex=Qe[l].sortableIndex,Cs[l].draggable=!1,Cs[l].style["will-change"]="",Mt(Cs[l],this.options.selectedClass,!1),Qe[l]===$t&&Mt(Cs[l],this.options.chosenClass,!1);r._hideClone(),a()}},clone:function(o){var r=o.sortable,a=o.rootEl,l=o.dispatchSortableEvent,n=o.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Qe.length&&Ls===r&&(Af(!0,a),l("clone"),n()))},showClone:function(o){var r=o.cloneNowShown,a=o.rootEl,l=o.cancel;this.isMultiDrag&&(Af(!1,a),Cs.forEach(function(n){He(n,"display","")}),r(),Ia=!1,l())},hideClone:function(o){var r=this;o.sortable;var a=o.cloneNowHidden,l=o.cancel;this.isMultiDrag&&(Cs.forEach(function(n){He(n,"display","none"),r.options.removeCloneOnHide&&n.parentNode&&n.parentNode.removeChild(n)}),a(),Ia=!0,l())},dragStartGlobal:function(o){o.sortable,!this.isMultiDrag&&Ls&&Ls.multiDrag._deselectMultiDrag(),Qe.forEach(function(r){r.sortableIndex=Ft(r)}),Qe=Qe.sort(function(r,a){return r.sortableIndex-a.sortableIndex}),Mr=!0},dragStarted:function(o){var r=this,a=o.sortable;if(this.isMultiDrag){if(this.options.sort&&(a.captureAnimationState(),this.options.animation)){Qe.forEach(function(n){n!==$t&&He(n,"position","absolute")});var l=Pt($t,!1,!0,!0);Qe.forEach(function(n){n!==$t&&Cf(n,l)}),gs=!0,vn=!0}a.animateAll(function(){gs=!1,vn=!1,r.options.animation&&Qe.forEach(function(n){_i(n)}),r.options.sort&&Oa()})}},dragOver:function(o){var r=o.target,a=o.completed,l=o.cancel;gs&&~Qe.indexOf(r)&&(a(!1),l())},revert:function(o){var r=o.fromSortable,a=o.rootEl,l=o.sortable,n=o.dragRect;Qe.length>1&&(Qe.forEach(function(i){l.addAnimationState({target:i,rect:gs?Pt(i):n}),_i(i),i.fromRect=n,r.removeAnimationState(i)}),gs=!1,jH(!this.options.removeCloneOnHide,a))},dragOverCompleted:function(o){var r=o.sortable,a=o.isOwner,l=o.insertion,n=o.activeSortable,i=o.parentEl,d=o.putSortable,f=this.options;if(l){if(a&&n._hideClone(),vn=!1,f.animation&&Qe.length>1&&(gs||!a&&!n.options.sort&&!d)){var u=Pt($t,!1,!0,!0);Qe.forEach(function(m){m!==$t&&(Cf(m,u),i.appendChild(m))}),gs=!0}if(!a)if(gs||Oa(),Qe.length>1){var c=Ia;n._showClone(r),n.options.animation&&!Ia&&c&&Cs.forEach(function(m){n.addAnimationState({target:m,rect:hn}),m.fromRect=hn,m.thisAnimationDuration=null})}else n._showClone(r)}},dragOverAnimationCapture:function(o){var r=o.dragRect,a=o.isOwner,l=o.activeSortable;if(Qe.forEach(function(i){i.thisAnimationDuration=null}),l.options.animation&&!a&&l.multiDrag.isMultiDrag){hn=Os({},r);var n=fr($t,!0);hn.top-=n.f,hn.left-=n.e}},dragOverAnimationComplete:function(){gs&&(gs=!1,Oa())},drop:function(o){var r=o.originalEvent,a=o.rootEl,l=o.parentEl,n=o.sortable,i=o.dispatchSortableEvent,d=o.oldIndex,f=o.putSortable,u=f||this.sortable;if(r){var c=this.options,m=l.children;if(!Mr)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Mt($t,c.selectedClass,!~Qe.indexOf($t)),~Qe.indexOf($t))Qe.splice(Qe.indexOf($t),1),gn=null,bn({sortable:n,rootEl:a,name:"deselect",targetEl:$t,originalEvt:r});else{if(Qe.push($t),bn({sortable:n,rootEl:a,name:"select",targetEl:$t,originalEvt:r}),r.shiftKey&&gn&&n.el.contains(gn)){var g=Ft(gn),y=Ft($t);if(~g&&~y&&g!==y){var k,C;for(y>g?(C=g,k=y):(C=y,k=g+1);C<k;C++)~Qe.indexOf(m[C])||(Mt(m[C],c.selectedClass,!0),Qe.push(m[C]),bn({sortable:n,rootEl:a,name:"select",targetEl:m[C],originalEvt:r}))}}else gn=$t;Ls=u}if(Mr&&this.isMultiDrag){if(gs=!1,(l[os].options.sort||l!==a)&&Qe.length>1){var A=Pt($t),T=Ft($t,":not(."+this.options.selectedClass+")");if(!vn&&c.animation&&($t.thisAnimationDuration=null),u.captureAnimationState(),!vn&&(c.animation&&($t.fromRect=A,Qe.forEach(function(x){if(x.thisAnimationDuration=null,x!==$t){var S=gs?Pt(x):A;x.fromRect=S,u.addAnimationState({target:x,rect:S})}})),Oa(),Qe.forEach(function(x){m[T]?l.insertBefore(x,m[T]):l.appendChild(x),T++}),d===Ft($t))){var $=!1;Qe.forEach(function(x){if(x.sortableIndex!==Ft(x)){$=!0;return}}),$&&i("update")}Qe.forEach(function(x){_i(x)}),u.animateAll()}Ls=u}(a===l||f&&f.lastPutMode!=="clone")&&Cs.forEach(function(x){x.parentNode&&x.parentNode.removeChild(x)})}},nullingGlobal:function(){this.isMultiDrag=Mr=!1,Cs.length=0},destroyGlobal:function(){this._deselectMultiDrag(),at(document,"pointerup",this._deselectMultiDrag),at(document,"mouseup",this._deselectMultiDrag),at(document,"touchend",this._deselectMultiDrag),at(document,"keydown",this._checkKeyDown),at(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(o){if(!(typeof Mr<"u"&&Mr)&&Ls===this.sortable&&!(o&&Fs(o.target,this.options.draggable,this.sortable.el,!1))&&!(o&&o.button!==0))for(;Qe.length;){var r=Qe[0];Mt(r,this.options.selectedClass,!1),Qe.shift(),bn({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:o})}},_checkKeyDown:function(o){o.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(o){o.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Os(e,{pluginName:"multiDrag",utils:{select:function(o){var r=o.parentNode[os];!r||!r.options.multiDrag||~Qe.indexOf(o)||(Ls&&Ls!==r&&(Ls.multiDrag._deselectMultiDrag(),Ls=r),Mt(o,r.options.selectedClass,!0),Qe.push(o))},deselect:function(o){var r=o.parentNode[os],a=Qe.indexOf(o);!r||!r.options.multiDrag||!~a||(Mt(o,r.options.selectedClass,!1),Qe.splice(a,1))}},eventProperties:function(){var o=this,r=[],a=[];return Qe.forEach(function(l){r.push({multiDragElement:l,index:l.sortableIndex});var n;gs&&l!==$t?n=-1:gs?n=Ft(l,":not(."+o.options.selectedClass+")"):n=Ft(l),a.push({multiDragElement:l,index:n})}),{items:nH(Qe),clones:[].concat(Cs),oldIndicies:r,newIndicies:a}},optionListeners:{multiDragKey:function(o){return o=o.toLowerCase(),o==="ctrl"?o="Control":o.length>1&&(o=o.charAt(0).toUpperCase()+o.substr(1)),o}}})}function jH(e,t){Qe.forEach(function(o,r){var a=t.children[o.sortableIndex+(e?Number(r):0)];a?t.insertBefore(o,a):t.appendChild(o)})}function Af(e,t){Cs.forEach(function(o,r){var a=t.children[o.sortableIndex+(e?Number(r):0)];a?t.insertBefore(o,a):t.appendChild(o)})}function Oa(){Qe.forEach(function(e){e!==$t&&e.parentNode&&e.parentNode.removeChild(e)})}qe.mount(new MH);qe.mount(su,tu);const LH=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:DH,Sortable:qe,Swap:IH,default:qe},Symbol.toStringTag,{value:"Module"})),FH=zm(LH);(function(e,t){(function(r,a){e.exports=a(tH,FH)})(typeof self<"u"?self:ZV,function(o,r){return function(a){var l={};function n(i){if(l[i])return l[i].exports;var d=l[i]={i,l:!1,exports:{}};return a[i].call(d.exports,d,d.exports,n),d.l=!0,d.exports}return n.m=a,n.c=l,n.d=function(i,d,f){n.o(i,d)||Object.defineProperty(i,d,{enumerable:!0,get:f})},n.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.t=function(i,d){if(d&1&&(i=n(i)),d&8||d&4&&typeof i=="object"&&i&&i.__esModule)return i;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:i}),d&2&&typeof i!="string")for(var u in i)n.d(f,u,(function(c){return i[c]}).bind(null,u));return f},n.n=function(i){var d=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(d,"a",d),d},n.o=function(i,d){return Object.prototype.hasOwnProperty.call(i,d)},n.p="",n(n.s="fb15")}({"00ee":function(a,l,n){var i=n("b622"),d=i("toStringTag"),f={};f[d]="z",a.exports=String(f)==="[object z]"},"0366":function(a,l,n){var i=n("1c0b");a.exports=function(d,f,u){if(i(d),f===void 0)return d;switch(u){case 0:return function(){return d.call(f)};case 1:return function(c){return d.call(f,c)};case 2:return function(c,m){return d.call(f,c,m)};case 3:return function(c,m,g){return d.call(f,c,m,g)}}return function(){return d.apply(f,arguments)}}},"057f":function(a,l,n){var i=n("fc6a"),d=n("241c").f,f={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(m){try{return d(m)}catch{return u.slice()}};a.exports.f=function(g){return u&&f.call(g)=="[object Window]"?c(g):d(i(g))}},"06cf":function(a,l,n){var i=n("83ab"),d=n("d1e7"),f=n("5c6c"),u=n("fc6a"),c=n("c04e"),m=n("5135"),g=n("0cfb"),y=Object.getOwnPropertyDescriptor;l.f=i?y:function(C,A){if(C=u(C),A=c(A,!0),g)try{return y(C,A)}catch{}if(m(C,A))return f(!d.f.call(C,A),C[A])}},"0cfb":function(a,l,n){var i=n("83ab"),d=n("d039"),f=n("cc12");a.exports=!i&&!d(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(a,l,n){var i=n("23e7"),d=n("d58f").left,f=n("a640"),u=n("ae40"),c=f("reduce"),m=u("reduce",{1:0});i({target:"Array",proto:!0,forced:!c||!m},{reduce:function(y){return d(this,y,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(a,l,n){var i=n("c6b6"),d=n("9263");a.exports=function(f,u){var c=f.exec;if(typeof c=="function"){var m=c.call(f,u);if(typeof m!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return m}if(i(f)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return d.call(f,u)}},"159b":function(a,l,n){var i=n("da84"),d=n("fdbc"),f=n("17c2"),u=n("9112");for(var c in d){var m=i[c],g=m&&m.prototype;if(g&&g.forEach!==f)try{u(g,"forEach",f)}catch{g.forEach=f}}},"17c2":function(a,l,n){var i=n("b727").forEach,d=n("a640"),f=n("ae40"),u=d("forEach"),c=f("forEach");a.exports=!u||!c?function(g){return i(this,g,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(a,l,n){var i=n("d066");a.exports=i("document","documentElement")},"1c0b":function(a,l){a.exports=function(n){if(typeof n!="function")throw TypeError(String(n)+" is not a function");return n}},"1c7e":function(a,l,n){var i=n("b622"),d=i("iterator"),f=!1;try{var u=0,c={next:function(){return{done:!!u++}},return:function(){f=!0}};c[d]=function(){return this},Array.from(c,function(){throw 2})}catch{}a.exports=function(m,g){if(!g&&!f)return!1;var y=!1;try{var k={};k[d]=function(){return{next:function(){return{done:y=!0}}}},m(k)}catch{}return y}},"1d80":function(a,l){a.exports=function(n){if(n==null)throw TypeError("Can't call method on "+n);return n}},"1dde":function(a,l,n){var i=n("d039"),d=n("b622"),f=n("2d00"),u=d("species");a.exports=function(c){return f>=51||!i(function(){var m=[],g=m.constructor={};return g[u]=function(){return{foo:1}},m[c](Boolean).foo!==1})}},"23cb":function(a,l,n){var i=n("a691"),d=Math.max,f=Math.min;a.exports=function(u,c){var m=i(u);return m<0?d(m+c,0):f(m,c)}},"23e7":function(a,l,n){var i=n("da84"),d=n("06cf").f,f=n("9112"),u=n("6eeb"),c=n("ce4e"),m=n("e893"),g=n("94ca");a.exports=function(y,k){var C=y.target,A=y.global,T=y.stat,$,x,S,h,w,_;if(A?x=i:T?x=i[C]||c(C,{}):x=(i[C]||{}).prototype,x)for(S in k){if(w=k[S],y.noTargetGet?(_=d(x,S),h=_&&_.value):h=x[S],$=g(A?S:C+(T?".":"#")+S,y.forced),!$&&h!==void 0){if(typeof w==typeof h)continue;m(w,h)}(y.sham||h&&h.sham)&&f(w,"sham",!0),u(x,S,w,y)}}},"241c":function(a,l,n){var i=n("ca84"),d=n("7839"),f=d.concat("length","prototype");l.f=Object.getOwnPropertyNames||function(c){return i(c,f)}},"25f0":function(a,l,n){var i=n("6eeb"),d=n("825a"),f=n("d039"),u=n("ad6d"),c="toString",m=RegExp.prototype,g=m[c],y=f(function(){return g.call({source:"a",flags:"b"})!="/a/b"}),k=g.name!=c;(y||k)&&i(RegExp.prototype,c,function(){var A=d(this),T=String(A.source),$=A.flags,x=String($===void 0&&A instanceof RegExp&&!("flags"in m)?u.call(A):$);return"/"+T+"/"+x},{unsafe:!0})},"2ca0":function(a,l,n){var i=n("23e7"),d=n("06cf").f,f=n("50c4"),u=n("5a34"),c=n("1d80"),m=n("ab13"),g=n("c430"),y="".startsWith,k=Math.min,C=m("startsWith"),A=!g&&!C&&!!function(){var T=d(String.prototype,"startsWith");return T&&!T.writable}();i({target:"String",proto:!0,forced:!A&&!C},{startsWith:function($){var x=String(c(this));u($);var S=f(k(arguments.length>1?arguments[1]:void 0,x.length)),h=String($);return y?y.call(x,h,S):x.slice(S,S+h.length)===h}})},"2d00":function(a,l,n){var i=n("da84"),d=n("342f"),f=i.process,u=f&&f.versions,c=u&&u.v8,m,g;c?(m=c.split("."),g=m[0]+m[1]):d&&(m=d.match(/Edge\/(\d+)/),(!m||m[1]>=74)&&(m=d.match(/Chrome\/(\d+)/),m&&(g=m[1]))),a.exports=g&&+g},"342f":function(a,l,n){var i=n("d066");a.exports=i("navigator","userAgent")||""},"35a1":function(a,l,n){var i=n("f5df"),d=n("3f8c"),f=n("b622"),u=f("iterator");a.exports=function(c){if(c!=null)return c[u]||c["@@iterator"]||d[i(c)]}},"37e8":function(a,l,n){var i=n("83ab"),d=n("9bf2"),f=n("825a"),u=n("df75");a.exports=i?Object.defineProperties:function(m,g){f(m);for(var y=u(g),k=y.length,C=0,A;k>C;)d.f(m,A=y[C++],g[A]);return m}},"3bbe":function(a,l,n){var i=n("861d");a.exports=function(d){if(!i(d)&&d!==null)throw TypeError("Can't set "+String(d)+" as a prototype");return d}},"3ca3":function(a,l,n){var i=n("6547").charAt,d=n("69f3"),f=n("7dd0"),u="String Iterator",c=d.set,m=d.getterFor(u);f(String,"String",function(g){c(this,{type:u,string:String(g),index:0})},function(){var y=m(this),k=y.string,C=y.index,A;return C>=k.length?{value:void 0,done:!0}:(A=i(k,C),y.index+=A.length,{value:A,done:!1})})},"3f8c":function(a,l){a.exports={}},4160:function(a,l,n){var i=n("23e7"),d=n("17c2");i({target:"Array",proto:!0,forced:[].forEach!=d},{forEach:d})},"428f":function(a,l,n){var i=n("da84");a.exports=i},"44ad":function(a,l,n){var i=n("d039"),d=n("c6b6"),f="".split;a.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return d(u)=="String"?f.call(u,""):Object(u)}:Object},"44d2":function(a,l,n){var i=n("b622"),d=n("7c73"),f=n("9bf2"),u=i("unscopables"),c=Array.prototype;c[u]==null&&f.f(c,u,{configurable:!0,value:d(null)}),a.exports=function(m){c[u][m]=!0}},"44e7":function(a,l,n){var i=n("861d"),d=n("c6b6"),f=n("b622"),u=f("match");a.exports=function(c){var m;return i(c)&&((m=c[u])!==void 0?!!m:d(c)=="RegExp")}},4930:function(a,l,n){var i=n("d039");a.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},"4d64":function(a,l,n){var i=n("fc6a"),d=n("50c4"),f=n("23cb"),u=function(c){return function(m,g,y){var k=i(m),C=d(k.length),A=f(y,C),T;if(c&&g!=g){for(;C>A;)if(T=k[A++],T!=T)return!0}else for(;C>A;A++)if((c||A in k)&&k[A]===g)return c||A||0;return!c&&-1}};a.exports={includes:u(!0),indexOf:u(!1)}},"4de4":function(a,l,n){var i=n("23e7"),d=n("b727").filter,f=n("1dde"),u=n("ae40"),c=f("filter"),m=u("filter");i({target:"Array",proto:!0,forced:!c||!m},{filter:function(y){return d(this,y,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(a,l,n){var i=n("0366"),d=n("7b0b"),f=n("9bdd"),u=n("e95a"),c=n("50c4"),m=n("8418"),g=n("35a1");a.exports=function(k){var C=d(k),A=typeof this=="function"?this:Array,T=arguments.length,$=T>1?arguments[1]:void 0,x=$!==void 0,S=g(C),h=0,w,_,b,P,R,M;if(x&&($=i($,T>2?arguments[2]:void 0,2)),S!=null&&!(A==Array&&u(S)))for(P=S.call(C),R=P.next,_=new A;!(b=R.call(P)).done;h++)M=x?f(P,$,[b.value,h],!0):b.value,m(_,h,M);else for(w=c(C.length),_=new A(w);w>h;h++)M=x?$(C[h],h):C[h],m(_,h,M);return _.length=h,_}},"4fad":function(a,l,n){var i=n("23e7"),d=n("6f53").entries;i({target:"Object",stat:!0},{entries:function(u){return d(u)}})},"50c4":function(a,l,n){var i=n("a691"),d=Math.min;a.exports=function(f){return f>0?d(i(f),9007199254740991):0}},5135:function(a,l){var n={}.hasOwnProperty;a.exports=function(i,d){return n.call(i,d)}},5319:function(a,l,n){var i=n("d784"),d=n("825a"),f=n("7b0b"),u=n("50c4"),c=n("a691"),m=n("1d80"),g=n("8aa5"),y=n("14c3"),k=Math.max,C=Math.min,A=Math.floor,T=/\$([$&'`]|\d\d?|<[^>]*>)/g,$=/\$([$&'`]|\d\d?)/g,x=function(S){return S===void 0?S:String(S)};i("replace",2,function(S,h,w,_){var b=_.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,P=_.REPLACE_KEEPS_$0,R=b?"$":"$0";return[function(J,G){var B=m(this),X=J==null?void 0:J[S];return X!==void 0?X.call(J,B,G):h.call(String(B),J,G)},function(D,J){if(!b&&P||typeof J=="string"&&J.indexOf(R)===-1){var G=w(h,D,this,J);if(G.done)return G.value}var B=d(D),X=String(this),te=typeof J=="function";te||(J=String(J));var se=B.global;if(se){var Se=B.unicode;B.lastIndex=0}for(var Ve=[];;){var $e=y(B,X);if($e===null||(Ve.push($e),!se))break;var ze=String($e[0]);ze===""&&(B.lastIndex=g(X,u(B.lastIndex),Se))}for(var ge="",q=0,we=0;we<Ve.length;we++){$e=Ve[we];for(var Z=String($e[0]),be=k(C(c($e.index),X.length),0),Ce=[],Oe=1;Oe<$e.length;Oe++)Ce.push(x($e[Oe]));var Xe=$e.groups;if(te){var st=[Z].concat(Ce,be,X);Xe!==void 0&&st.push(Xe);var I=String(J.apply(void 0,st))}else I=M(Z,X,be,Ce,Xe,J);be>=q&&(ge+=X.slice(q,be)+I,q=be+Z.length)}return ge+X.slice(q)}];function M(D,J,G,B,X,te){var se=G+D.length,Se=B.length,Ve=$;return X!==void 0&&(X=f(X),Ve=T),h.call(te,Ve,function($e,ze){var ge;switch(ze.charAt(0)){case"$":return"$";case"&":return D;case"`":return J.slice(0,G);case"'":return J.slice(se);case"<":ge=X[ze.slice(1,-1)];break;default:var q=+ze;if(q===0)return $e;if(q>Se){var we=A(q/10);return we===0?$e:we<=Se?B[we-1]===void 0?ze.charAt(1):B[we-1]+ze.charAt(1):$e}ge=B[q-1]}return ge===void 0?"":ge})}})},5692:function(a,l,n){var i=n("c430"),d=n("c6cd");(a.exports=function(f,u){return d[f]||(d[f]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(a,l,n){var i=n("d066"),d=n("241c"),f=n("7418"),u=n("825a");a.exports=i("Reflect","ownKeys")||function(m){var g=d.f(u(m)),y=f.f;return y?g.concat(y(m)):g}},"5a34":function(a,l,n){var i=n("44e7");a.exports=function(d){if(i(d))throw TypeError("The method doesn't accept regular expressions");return d}},"5c6c":function(a,l){a.exports=function(n,i){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:i}}},"5db7":function(a,l,n){var i=n("23e7"),d=n("a2bf"),f=n("7b0b"),u=n("50c4"),c=n("1c0b"),m=n("65f0");i({target:"Array",proto:!0},{flatMap:function(y){var k=f(this),C=u(k.length),A;return c(y),A=m(k,0),A.length=d(A,k,k,C,0,1,y,arguments.length>1?arguments[1]:void 0),A}})},6547:function(a,l,n){var i=n("a691"),d=n("1d80"),f=function(u){return function(c,m){var g=String(d(c)),y=i(m),k=g.length,C,A;return y<0||y>=k?u?"":void 0:(C=g.charCodeAt(y),C<55296||C>56319||y+1===k||(A=g.charCodeAt(y+1))<56320||A>57343?u?g.charAt(y):C:u?g.slice(y,y+2):(C-55296<<10)+(A-56320)+65536)}};a.exports={codeAt:f(!1),charAt:f(!0)}},"65f0":function(a,l,n){var i=n("861d"),d=n("e8b5"),f=n("b622"),u=f("species");a.exports=function(c,m){var g;return d(c)&&(g=c.constructor,typeof g=="function"&&(g===Array||d(g.prototype))?g=void 0:i(g)&&(g=g[u],g===null&&(g=void 0))),new(g===void 0?Array:g)(m===0?0:m)}},"69f3":function(a,l,n){var i=n("7f9a"),d=n("da84"),f=n("861d"),u=n("9112"),c=n("5135"),m=n("f772"),g=n("d012"),y=d.WeakMap,k,C,A,T=function(b){return A(b)?C(b):k(b,{})},$=function(b){return function(P){var R;if(!f(P)||(R=C(P)).type!==b)throw TypeError("Incompatible receiver, "+b+" required");return R}};if(i){var x=new y,S=x.get,h=x.has,w=x.set;k=function(b,P){return w.call(x,b,P),P},C=function(b){return S.call(x,b)||{}},A=function(b){return h.call(x,b)}}else{var _=m("state");g[_]=!0,k=function(b,P){return u(b,_,P),P},C=function(b){return c(b,_)?b[_]:{}},A=function(b){return c(b,_)}}a.exports={set:k,get:C,has:A,enforce:T,getterFor:$}},"6eeb":function(a,l,n){var i=n("da84"),d=n("9112"),f=n("5135"),u=n("ce4e"),c=n("8925"),m=n("69f3"),g=m.get,y=m.enforce,k=String(String).split("String");(a.exports=function(C,A,T,$){var x=$?!!$.unsafe:!1,S=$?!!$.enumerable:!1,h=$?!!$.noTargetGet:!1;if(typeof T=="function"&&(typeof A=="string"&&!f(T,"name")&&d(T,"name",A),y(T).source=k.join(typeof A=="string"?A:"")),C===i){S?C[A]=T:u(A,T);return}else x?!h&&C[A]&&(S=!0):delete C[A];S?C[A]=T:d(C,A,T)})(Function.prototype,"toString",function(){return typeof this=="function"&&g(this).source||c(this)})},"6f53":function(a,l,n){var i=n("83ab"),d=n("df75"),f=n("fc6a"),u=n("d1e7").f,c=function(m){return function(g){for(var y=f(g),k=d(y),C=k.length,A=0,T=[],$;C>A;)$=k[A++],(!i||u.call(y,$))&&T.push(m?[$,y[$]]:y[$]);return T}};a.exports={entries:c(!0),values:c(!1)}},"73d9":function(a,l,n){var i=n("44d2");i("flatMap")},7418:function(a,l){l.f=Object.getOwnPropertySymbols},"746f":function(a,l,n){var i=n("428f"),d=n("5135"),f=n("e538"),u=n("9bf2").f;a.exports=function(c){var m=i.Symbol||(i.Symbol={});d(m,c)||u(m,c,{value:f.f(c)})}},7839:function(a,l){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(a,l,n){var i=n("1d80");a.exports=function(d){return Object(i(d))}},"7c73":function(a,l,n){var i=n("825a"),d=n("37e8"),f=n("7839"),u=n("d012"),c=n("1be4"),m=n("cc12"),g=n("f772"),y=">",k="<",C="prototype",A="script",T=g("IE_PROTO"),$=function(){},x=function(b){return k+A+y+b+k+"/"+A+y},S=function(b){b.write(x("")),b.close();var P=b.parentWindow.Object;return b=null,P},h=function(){var b=m("iframe"),P="java"+A+":",R;return b.style.display="none",c.appendChild(b),b.src=String(P),R=b.contentWindow.document,R.open(),R.write(x("document.F=Object")),R.close(),R.F},w,_=function(){try{w=document.domain&&new ActiveXObject("htmlfile")}catch{}_=w?S(w):h();for(var b=f.length;b--;)delete _[C][f[b]];return _()};u[T]=!0,a.exports=Object.create||function(P,R){var M;return P!==null?($[C]=i(P),M=new $,$[C]=null,M[T]=P):M=_(),R===void 0?M:d(M,R)}},"7dd0":function(a,l,n){var i=n("23e7"),d=n("9ed3"),f=n("e163"),u=n("d2bb"),c=n("d44e"),m=n("9112"),g=n("6eeb"),y=n("b622"),k=n("c430"),C=n("3f8c"),A=n("ae93"),T=A.IteratorPrototype,$=A.BUGGY_SAFARI_ITERATORS,x=y("iterator"),S="keys",h="values",w="entries",_=function(){return this};a.exports=function(b,P,R,M,D,J,G){d(R,P,M);var B=function(we){if(we===D&&Ve)return Ve;if(!$&&we in se)return se[we];switch(we){case S:return function(){return new R(this,we)};case h:return function(){return new R(this,we)};case w:return function(){return new R(this,we)}}return function(){return new R(this)}},X=P+" Iterator",te=!1,se=b.prototype,Se=se[x]||se["@@iterator"]||D&&se[D],Ve=!$&&Se||B(D),$e=P=="Array"&&se.entries||Se,ze,ge,q;if($e&&(ze=f($e.call(new b)),T!==Object.prototype&&ze.next&&(!k&&f(ze)!==T&&(u?u(ze,T):typeof ze[x]!="function"&&m(ze,x,_)),c(ze,X,!0,!0),k&&(C[X]=_))),D==h&&Se&&Se.name!==h&&(te=!0,Ve=function(){return Se.call(this)}),(!k||G)&&se[x]!==Ve&&m(se,x,Ve),C[P]=Ve,D)if(ge={values:B(h),keys:J?Ve:B(S),entries:B(w)},G)for(q in ge)($||te||!(q in se))&&g(se,q,ge[q]);else i({target:P,proto:!0,forced:$||te},ge);return ge}},"7f9a":function(a,l,n){var i=n("da84"),d=n("8925"),f=i.WeakMap;a.exports=typeof f=="function"&&/native code/.test(d(f))},"825a":function(a,l,n){var i=n("861d");a.exports=function(d){if(!i(d))throw TypeError(String(d)+" is not an object");return d}},"83ab":function(a,l,n){var i=n("d039");a.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(a,l,n){var i=n("c04e"),d=n("9bf2"),f=n("5c6c");a.exports=function(u,c,m){var g=i(c);g in u?d.f(u,g,f(0,m)):u[g]=m}},"861d":function(a,l){a.exports=function(n){return typeof n=="object"?n!==null:typeof n=="function"}},8875:function(a,l,n){var i,d,f;(function(u,c){d=[],i=c,f=typeof i=="function"?i.apply(l,d):i,f!==void 0&&(a.exports=f)})(typeof self<"u"?self:this,function(){function u(){var c=Object.getOwnPropertyDescriptor(document,"currentScript");if(!c&&"currentScript"in document&&document.currentScript||c&&c.get!==u&&document.currentScript)return document.currentScript;try{throw new Error}catch(w){var m=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,g=/@([^@]*):(\d+):(\d+)\s*$/ig,y=m.exec(w.stack)||g.exec(w.stack),k=y&&y[1]||!1,C=y&&y[2]||!1,A=document.location.href.replace(document.location.hash,""),T,$,x,S=document.getElementsByTagName("script");k===A&&(T=document.documentElement.outerHTML,$=new RegExp("(?:[^\\n]+?\\n){0,"+(C-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),x=T.replace($,"$1").trim());for(var h=0;h<S.length;h++)if(S[h].readyState==="interactive"||S[h].src===k||k===A&&S[h].innerHTML&&S[h].innerHTML.trim()===x)return S[h];return null}}return u})},8925:function(a,l,n){var i=n("c6cd"),d=Function.toString;typeof i.inspectSource!="function"&&(i.inspectSource=function(f){return d.call(f)}),a.exports=i.inspectSource},"8aa5":function(a,l,n){var i=n("6547").charAt;a.exports=function(d,f,u){return f+(u?i(d,f).length:1)}},"8bbf":function(a,l){a.exports=o},"90e3":function(a,l){var n=0,i=Math.random();a.exports=function(d){return"Symbol("+String(d===void 0?"":d)+")_"+(++n+i).toString(36)}},9112:function(a,l,n){var i=n("83ab"),d=n("9bf2"),f=n("5c6c");a.exports=i?function(u,c,m){return d.f(u,c,f(1,m))}:function(u,c,m){return u[c]=m,u}},9263:function(a,l,n){var i=n("ad6d"),d=n("9f7f"),f=RegExp.prototype.exec,u=String.prototype.replace,c=f,m=function(){var C=/a/,A=/b*/g;return f.call(C,"a"),f.call(A,"a"),C.lastIndex!==0||A.lastIndex!==0}(),g=d.UNSUPPORTED_Y||d.BROKEN_CARET,y=/()??/.exec("")[1]!==void 0,k=m||y||g;k&&(c=function(A){var T=this,$,x,S,h,w=g&&T.sticky,_=i.call(T),b=T.source,P=0,R=A;return w&&(_=_.replace("y",""),_.indexOf("g")===-1&&(_+="g"),R=String(A).slice(T.lastIndex),T.lastIndex>0&&(!T.multiline||T.multiline&&A[T.lastIndex-1]!==`
`)&&(b="(?: "+b+")",R=" "+R,P++),x=new RegExp("^(?:"+b+")",_)),y&&(x=new RegExp("^"+b+"$(?!\\s)",_)),m&&($=T.lastIndex),S=f.call(w?x:T,R),w?S?(S.input=S.input.slice(P),S[0]=S[0].slice(P),S.index=T.lastIndex,T.lastIndex+=S[0].length):T.lastIndex=0:m&&S&&(T.lastIndex=T.global?S.index+S[0].length:$),y&&S&&S.length>1&&u.call(S[0],x,function(){for(h=1;h<arguments.length-2;h++)arguments[h]===void 0&&(S[h]=void 0)}),S}),a.exports=c},"94ca":function(a,l,n){var i=n("d039"),d=/#|\.prototype\./,f=function(y,k){var C=c[u(y)];return C==g?!0:C==m?!1:typeof k=="function"?i(k):!!k},u=f.normalize=function(y){return String(y).replace(d,".").toLowerCase()},c=f.data={},m=f.NATIVE="N",g=f.POLYFILL="P";a.exports=f},"99af":function(a,l,n){var i=n("23e7"),d=n("d039"),f=n("e8b5"),u=n("861d"),c=n("7b0b"),m=n("50c4"),g=n("8418"),y=n("65f0"),k=n("1dde"),C=n("b622"),A=n("2d00"),T=C("isConcatSpreadable"),$=9007199254740991,x="Maximum allowed index exceeded",S=A>=51||!d(function(){var b=[];return b[T]=!1,b.concat()[0]!==b}),h=k("concat"),w=function(b){if(!u(b))return!1;var P=b[T];return P!==void 0?!!P:f(b)},_=!S||!h;i({target:"Array",proto:!0,forced:_},{concat:function(P){var R=c(this),M=y(R,0),D=0,J,G,B,X,te;for(J=-1,B=arguments.length;J<B;J++)if(te=J===-1?R:arguments[J],w(te)){if(X=m(te.length),D+X>$)throw TypeError(x);for(G=0;G<X;G++,D++)G in te&&g(M,D,te[G])}else{if(D>=$)throw TypeError(x);g(M,D++,te)}return M.length=D,M}})},"9bdd":function(a,l,n){var i=n("825a");a.exports=function(d,f,u,c){try{return c?f(i(u)[0],u[1]):f(u)}catch(g){var m=d.return;throw m!==void 0&&i(m.call(d)),g}}},"9bf2":function(a,l,n){var i=n("83ab"),d=n("0cfb"),f=n("825a"),u=n("c04e"),c=Object.defineProperty;l.f=i?c:function(g,y,k){if(f(g),y=u(y,!0),f(k),d)try{return c(g,y,k)}catch{}if("get"in k||"set"in k)throw TypeError("Accessors not supported");return"value"in k&&(g[y]=k.value),g}},"9ed3":function(a,l,n){var i=n("ae93").IteratorPrototype,d=n("7c73"),f=n("5c6c"),u=n("d44e"),c=n("3f8c"),m=function(){return this};a.exports=function(g,y,k){var C=y+" Iterator";return g.prototype=d(i,{next:f(1,k)}),u(g,C,!1,!0),c[C]=m,g}},"9f7f":function(a,l,n){var i=n("d039");function d(f,u){return RegExp(f,u)}l.UNSUPPORTED_Y=i(function(){var f=d("a","y");return f.lastIndex=2,f.exec("abcd")!=null}),l.BROKEN_CARET=i(function(){var f=d("^r","gy");return f.lastIndex=2,f.exec("str")!=null})},a2bf:function(a,l,n){var i=n("e8b5"),d=n("50c4"),f=n("0366"),u=function(c,m,g,y,k,C,A,T){for(var $=k,x=0,S=A?f(A,T,3):!1,h;x<y;){if(x in g){if(h=S?S(g[x],x,m):g[x],C>0&&i(h))$=u(c,m,h,d(h.length),$,C-1)-1;else{if($>=9007199254740991)throw TypeError("Exceed the acceptable array length");c[$]=h}$++}x++}return $};a.exports=u},a352:function(a,l){a.exports=r},a434:function(a,l,n){var i=n("23e7"),d=n("23cb"),f=n("a691"),u=n("50c4"),c=n("7b0b"),m=n("65f0"),g=n("8418"),y=n("1dde"),k=n("ae40"),C=y("splice"),A=k("splice",{ACCESSORS:!0,0:0,1:2}),T=Math.max,$=Math.min,x=9007199254740991,S="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!C||!A},{splice:function(w,_){var b=c(this),P=u(b.length),R=d(w,P),M=arguments.length,D,J,G,B,X,te;if(M===0?D=J=0:M===1?(D=0,J=P-R):(D=M-2,J=$(T(f(_),0),P-R)),P+D-J>x)throw TypeError(S);for(G=m(b,J),B=0;B<J;B++)X=R+B,X in b&&g(G,B,b[X]);if(G.length=J,D<J){for(B=R;B<P-J;B++)X=B+J,te=B+D,X in b?b[te]=b[X]:delete b[te];for(B=P;B>P-J+D;B--)delete b[B-1]}else if(D>J)for(B=P-J;B>R;B--)X=B+J-1,te=B+D-1,X in b?b[te]=b[X]:delete b[te];for(B=0;B<D;B++)b[B+R]=arguments[B+2];return b.length=P-J+D,G}})},a4d3:function(a,l,n){var i=n("23e7"),d=n("da84"),f=n("d066"),u=n("c430"),c=n("83ab"),m=n("4930"),g=n("fdbf"),y=n("d039"),k=n("5135"),C=n("e8b5"),A=n("861d"),T=n("825a"),$=n("7b0b"),x=n("fc6a"),S=n("c04e"),h=n("5c6c"),w=n("7c73"),_=n("df75"),b=n("241c"),P=n("057f"),R=n("7418"),M=n("06cf"),D=n("9bf2"),J=n("d1e7"),G=n("9112"),B=n("6eeb"),X=n("5692"),te=n("f772"),se=n("d012"),Se=n("90e3"),Ve=n("b622"),$e=n("e538"),ze=n("746f"),ge=n("d44e"),q=n("69f3"),we=n("b727").forEach,Z=te("hidden"),be="Symbol",Ce="prototype",Oe=Ve("toPrimitive"),Xe=q.set,st=q.getterFor(be),I=Object[Ce],F=d.Symbol,ne=f("JSON","stringify"),me=M.f,ce=D.f,W=P.f,H=J.f,K=X("symbols"),L=X("op-symbols"),ae=X("string-to-symbol-registry"),ee=X("symbol-to-string-registry"),le=X("wks"),ye=d.QObject,Re=!ye||!ye[Ce]||!ye[Ce].findChild,Fe=c&&y(function(){return w(ce({},"a",{get:function(){return ce(this,"a",{value:7}).a}})).a!=7})?function(Ae,Le,We){var ot=me(I,Le);ot&&delete I[Le],ce(Ae,Le,We),ot&&Ae!==I&&ce(I,Le,ot)}:ce,he=function(Ae,Le){var We=K[Ae]=w(F[Ce]);return Xe(We,{type:be,tag:Ae,description:Le}),c||(We.description=Le),We},U=g?function(Ae){return typeof Ae=="symbol"}:function(Ae){return Object(Ae)instanceof F},Y=function(Le,We,ot){Le===I&&Y(L,We,ot),T(Le);var rt=S(We,!0);return T(ot),k(K,rt)?(ot.enumerable?(k(Le,Z)&&Le[Z][rt]&&(Le[Z][rt]=!1),ot=w(ot,{enumerable:h(0,!1)})):(k(Le,Z)||ce(Le,Z,h(1,{})),Le[Z][rt]=!0),Fe(Le,rt,ot)):ce(Le,rt,ot)},re=function(Le,We){T(Le);var ot=x(We),rt=_(ot).concat(De(ot));return we(rt,function(zt){(!c||z.call(ot,zt))&&Y(Le,zt,ot[zt])}),Le},ve=function(Le,We){return We===void 0?w(Le):re(w(Le),We)},z=function(Le){var We=S(Le,!0),ot=H.call(this,We);return this===I&&k(K,We)&&!k(L,We)?!1:ot||!k(this,We)||!k(K,We)||k(this,Z)&&this[Z][We]?ot:!0},V=function(Le,We){var ot=x(Le),rt=S(We,!0);if(!(ot===I&&k(K,rt)&&!k(L,rt))){var zt=me(ot,rt);return zt&&k(K,rt)&&!(k(ot,Z)&&ot[Z][rt])&&(zt.enumerable=!0),zt}},Me=function(Le){var We=W(x(Le)),ot=[];return we(We,function(rt){!k(K,rt)&&!k(se,rt)&&ot.push(rt)}),ot},De=function(Le){var We=Le===I,ot=W(We?L:x(Le)),rt=[];return we(ot,function(zt){k(K,zt)&&(!We||k(I,zt))&&rt.push(K[zt])}),rt};if(m||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor");var Le=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),We=Se(Le),ot=function(rt){this===I&&ot.call(L,rt),k(this,Z)&&k(this[Z],We)&&(this[Z][We]=!1),Fe(this,We,h(1,rt))};return c&&Re&&Fe(I,We,{configurable:!0,set:ot}),he(We,Le)},B(F[Ce],"toString",function(){return st(this).tag}),B(F,"withoutSetter",function(Ae){return he(Se(Ae),Ae)}),J.f=z,D.f=Y,M.f=V,b.f=P.f=Me,R.f=De,$e.f=function(Ae){return he(Ve(Ae),Ae)},c&&(ce(F[Ce],"description",{configurable:!0,get:function(){return st(this).description}}),u||B(I,"propertyIsEnumerable",z,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!m,sham:!m},{Symbol:F}),we(_(le),function(Ae){ze(Ae)}),i({target:be,stat:!0,forced:!m},{for:function(Ae){var Le=String(Ae);if(k(ae,Le))return ae[Le];var We=F(Le);return ae[Le]=We,ee[We]=Le,We},keyFor:function(Le){if(!U(Le))throw TypeError(Le+" is not a symbol");if(k(ee,Le))return ee[Le]},useSetter:function(){Re=!0},useSimple:function(){Re=!1}}),i({target:"Object",stat:!0,forced:!m,sham:!c},{create:ve,defineProperty:Y,defineProperties:re,getOwnPropertyDescriptor:V}),i({target:"Object",stat:!0,forced:!m},{getOwnPropertyNames:Me,getOwnPropertySymbols:De}),i({target:"Object",stat:!0,forced:y(function(){R.f(1)})},{getOwnPropertySymbols:function(Le){return R.f($(Le))}}),ne){var Ke=!m||y(function(){var Ae=F();return ne([Ae])!="[null]"||ne({a:Ae})!="{}"||ne(Object(Ae))!="{}"});i({target:"JSON",stat:!0,forced:Ke},{stringify:function(Le,We,ot){for(var rt=[Le],zt=1,So;arguments.length>zt;)rt.push(arguments[zt++]);if(So=We,!(!A(We)&&Le===void 0||U(Le)))return C(We)||(We=function(Eo,lo){if(typeof So=="function"&&(lo=So.call(this,Eo,lo)),!U(lo))return lo}),rt[1]=We,ne.apply(null,rt)}})}F[Ce][Oe]||G(F[Ce],Oe,F[Ce].valueOf),ge(F,be),se[Z]=!0},a630:function(a,l,n){var i=n("23e7"),d=n("4df4"),f=n("1c7e"),u=!f(function(c){Array.from(c)});i({target:"Array",stat:!0,forced:u},{from:d})},a640:function(a,l,n){var i=n("d039");a.exports=function(d,f){var u=[][d];return!!u&&i(function(){u.call(null,f||function(){throw 1},1)})}},a691:function(a,l){var n=Math.ceil,i=Math.floor;a.exports=function(d){return isNaN(d=+d)?0:(d>0?i:n)(d)}},ab13:function(a,l,n){var i=n("b622"),d=i("match");a.exports=function(f){var u=/./;try{"/./"[f](u)}catch{try{return u[d]=!1,"/./"[f](u)}catch{}}return!1}},ac1f:function(a,l,n){var i=n("23e7"),d=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},ad6d:function(a,l,n){var i=n("825a");a.exports=function(){var d=i(this),f="";return d.global&&(f+="g"),d.ignoreCase&&(f+="i"),d.multiline&&(f+="m"),d.dotAll&&(f+="s"),d.unicode&&(f+="u"),d.sticky&&(f+="y"),f}},ae40:function(a,l,n){var i=n("83ab"),d=n("d039"),f=n("5135"),u=Object.defineProperty,c={},m=function(g){throw g};a.exports=function(g,y){if(f(c,g))return c[g];y||(y={});var k=[][g],C=f(y,"ACCESSORS")?y.ACCESSORS:!1,A=f(y,0)?y[0]:m,T=f(y,1)?y[1]:void 0;return c[g]=!!k&&!d(function(){if(C&&!i)return!0;var $={length:-1};C?u($,1,{enumerable:!0,get:m}):$[1]=1,k.call($,A,T)})}},ae93:function(a,l,n){var i=n("e163"),d=n("9112"),f=n("5135"),u=n("b622"),c=n("c430"),m=u("iterator"),g=!1,y=function(){return this},k,C,A;[].keys&&(A=[].keys(),"next"in A?(C=i(i(A)),C!==Object.prototype&&(k=C)):g=!0),k==null&&(k={}),!c&&!f(k,m)&&d(k,m,y),a.exports={IteratorPrototype:k,BUGGY_SAFARI_ITERATORS:g}},b041:function(a,l,n){var i=n("00ee"),d=n("f5df");a.exports=i?{}.toString:function(){return"[object "+d(this)+"]"}},b0c0:function(a,l,n){var i=n("83ab"),d=n("9bf2").f,f=Function.prototype,u=f.toString,c=/^\s*function ([^ (]*)/,m="name";i&&!(m in f)&&d(f,m,{configurable:!0,get:function(){try{return u.call(this).match(c)[1]}catch{return""}}})},b622:function(a,l,n){var i=n("da84"),d=n("5692"),f=n("5135"),u=n("90e3"),c=n("4930"),m=n("fdbf"),g=d("wks"),y=i.Symbol,k=m?y:y&&y.withoutSetter||u;a.exports=function(C){return f(g,C)||(c&&f(y,C)?g[C]=y[C]:g[C]=k("Symbol."+C)),g[C]}},b64b:function(a,l,n){var i=n("23e7"),d=n("7b0b"),f=n("df75"),u=n("d039"),c=u(function(){f(1)});i({target:"Object",stat:!0,forced:c},{keys:function(g){return f(d(g))}})},b727:function(a,l,n){var i=n("0366"),d=n("44ad"),f=n("7b0b"),u=n("50c4"),c=n("65f0"),m=[].push,g=function(y){var k=y==1,C=y==2,A=y==3,T=y==4,$=y==6,x=y==5||$;return function(S,h,w,_){for(var b=f(S),P=d(b),R=i(h,w,3),M=u(P.length),D=0,J=_||c,G=k?J(S,M):C?J(S,0):void 0,B,X;M>D;D++)if((x||D in P)&&(B=P[D],X=R(B,D,b),y)){if(k)G[D]=X;else if(X)switch(y){case 3:return!0;case 5:return B;case 6:return D;case 2:m.call(G,B)}else if(T)return!1}return $?-1:A||T?T:G}};a.exports={forEach:g(0),map:g(1),filter:g(2),some:g(3),every:g(4),find:g(5),findIndex:g(6)}},c04e:function(a,l,n){var i=n("861d");a.exports=function(d,f){if(!i(d))return d;var u,c;if(f&&typeof(u=d.toString)=="function"&&!i(c=u.call(d))||typeof(u=d.valueOf)=="function"&&!i(c=u.call(d))||!f&&typeof(u=d.toString)=="function"&&!i(c=u.call(d)))return c;throw TypeError("Can't convert object to primitive value")}},c430:function(a,l){a.exports=!1},c6b6:function(a,l){var n={}.toString;a.exports=function(i){return n.call(i).slice(8,-1)}},c6cd:function(a,l,n){var i=n("da84"),d=n("ce4e"),f="__core-js_shared__",u=i[f]||d(f,{});a.exports=u},c740:function(a,l,n){var i=n("23e7"),d=n("b727").findIndex,f=n("44d2"),u=n("ae40"),c="findIndex",m=!0,g=u(c);c in[]&&Array(1)[c](function(){m=!1}),i({target:"Array",proto:!0,forced:m||!g},{findIndex:function(k){return d(this,k,arguments.length>1?arguments[1]:void 0)}}),f(c)},c8ba:function(a,l){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}a.exports=n},c975:function(a,l,n){var i=n("23e7"),d=n("4d64").indexOf,f=n("a640"),u=n("ae40"),c=[].indexOf,m=!!c&&1/[1].indexOf(1,-0)<0,g=f("indexOf"),y=u("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:m||!g||!y},{indexOf:function(C){return m?c.apply(this,arguments)||0:d(this,C,arguments.length>1?arguments[1]:void 0)}})},ca84:function(a,l,n){var i=n("5135"),d=n("fc6a"),f=n("4d64").indexOf,u=n("d012");a.exports=function(c,m){var g=d(c),y=0,k=[],C;for(C in g)!i(u,C)&&i(g,C)&&k.push(C);for(;m.length>y;)i(g,C=m[y++])&&(~f(k,C)||k.push(C));return k}},caad:function(a,l,n){var i=n("23e7"),d=n("4d64").includes,f=n("44d2"),u=n("ae40"),c=u("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!c},{includes:function(g){return d(this,g,arguments.length>1?arguments[1]:void 0)}}),f("includes")},cc12:function(a,l,n){var i=n("da84"),d=n("861d"),f=i.document,u=d(f)&&d(f.createElement);a.exports=function(c){return u?f.createElement(c):{}}},ce4e:function(a,l,n){var i=n("da84"),d=n("9112");a.exports=function(f,u){try{d(i,f,u)}catch{i[f]=u}return u}},d012:function(a,l){a.exports={}},d039:function(a,l){a.exports=function(n){try{return!!n()}catch{return!0}}},d066:function(a,l,n){var i=n("428f"),d=n("da84"),f=function(u){return typeof u=="function"?u:void 0};a.exports=function(u,c){return arguments.length<2?f(i[u])||f(d[u]):i[u]&&i[u][c]||d[u]&&d[u][c]}},d1e7:function(a,l,n){var i={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,f=d&&!i.call({1:2},1);l.f=f?function(c){var m=d(this,c);return!!m&&m.enumerable}:i},d28b:function(a,l,n){var i=n("746f");i("iterator")},d2bb:function(a,l,n){var i=n("825a"),d=n("3bbe");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f=!1,u={},c;try{c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,c.call(u,[]),f=u instanceof Array}catch{}return function(g,y){return i(g),d(y),f?c.call(g,y):g.__proto__=y,g}}():void 0)},d3b7:function(a,l,n){var i=n("00ee"),d=n("6eeb"),f=n("b041");i||d(Object.prototype,"toString",f,{unsafe:!0})},d44e:function(a,l,n){var i=n("9bf2").f,d=n("5135"),f=n("b622"),u=f("toStringTag");a.exports=function(c,m,g){c&&!d(c=g?c:c.prototype,u)&&i(c,u,{configurable:!0,value:m})}},d58f:function(a,l,n){var i=n("1c0b"),d=n("7b0b"),f=n("44ad"),u=n("50c4"),c=function(m){return function(g,y,k,C){i(y);var A=d(g),T=f(A),$=u(A.length),x=m?$-1:0,S=m?-1:1;if(k<2)for(;;){if(x in T){C=T[x],x+=S;break}if(x+=S,m?x<0:$<=x)throw TypeError("Reduce of empty array with no initial value")}for(;m?x>=0:$>x;x+=S)x in T&&(C=y(C,T[x],x,A));return C}};a.exports={left:c(!1),right:c(!0)}},d784:function(a,l,n){n("ac1f");var i=n("6eeb"),d=n("d039"),f=n("b622"),u=n("9263"),c=n("9112"),m=f("species"),g=!d(function(){var T=/./;return T.exec=function(){var $=[];return $.groups={a:"7"},$},"".replace(T,"$<a>")!=="7"}),y=function(){return"a".replace(/./,"$0")==="$0"}(),k=f("replace"),C=function(){return/./[k]?/./[k]("a","$0")==="":!1}(),A=!d(function(){var T=/(?:)/,$=T.exec;T.exec=function(){return $.apply(this,arguments)};var x="ab".split(T);return x.length!==2||x[0]!=="a"||x[1]!=="b"});a.exports=function(T,$,x,S){var h=f(T),w=!d(function(){var D={};return D[h]=function(){return 7},""[T](D)!=7}),_=w&&!d(function(){var D=!1,J=/a/;return T==="split"&&(J={},J.constructor={},J.constructor[m]=function(){return J},J.flags="",J[h]=/./[h]),J.exec=function(){return D=!0,null},J[h](""),!D});if(!w||!_||T==="replace"&&!(g&&y&&!C)||T==="split"&&!A){var b=/./[h],P=x(h,""[T],function(D,J,G,B,X){return J.exec===u?w&&!X?{done:!0,value:b.call(J,G,B)}:{done:!0,value:D.call(G,J,B)}:{done:!1}},{REPLACE_KEEPS_$0:y,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:C}),R=P[0],M=P[1];i(String.prototype,T,R),i(RegExp.prototype,h,$==2?function(D,J){return M.call(D,this,J)}:function(D){return M.call(D,this)})}S&&c(RegExp.prototype[h],"sham",!0)}},d81d:function(a,l,n){var i=n("23e7"),d=n("b727").map,f=n("1dde"),u=n("ae40"),c=f("map"),m=u("map");i({target:"Array",proto:!0,forced:!c||!m},{map:function(y){return d(this,y,arguments.length>1?arguments[1]:void 0)}})},da84:function(a,l,n){(function(i){var d=function(f){return f&&f.Math==Math&&f};a.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof i=="object"&&i)||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(a,l,n){var i=n("23e7"),d=n("83ab"),f=n("56ef"),u=n("fc6a"),c=n("06cf"),m=n("8418");i({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(y){for(var k=u(y),C=c.f,A=f(k),T={},$=0,x,S;A.length>$;)S=C(k,x=A[$++]),S!==void 0&&m(T,x,S);return T}})},dbf1:function(a,l,n){(function(i){n.d(l,"a",function(){return f});function d(){return typeof window<"u"?window.console:i.console}var f=d()}).call(this,n("c8ba"))},ddb0:function(a,l,n){var i=n("da84"),d=n("fdbc"),f=n("e260"),u=n("9112"),c=n("b622"),m=c("iterator"),g=c("toStringTag"),y=f.values;for(var k in d){var C=i[k],A=C&&C.prototype;if(A){if(A[m]!==y)try{u(A,m,y)}catch{A[m]=y}if(A[g]||u(A,g,k),d[k]){for(var T in f)if(A[T]!==f[T])try{u(A,T,f[T])}catch{A[T]=f[T]}}}}},df75:function(a,l,n){var i=n("ca84"),d=n("7839");a.exports=Object.keys||function(u){return i(u,d)}},e01a:function(a,l,n){var i=n("23e7"),d=n("83ab"),f=n("da84"),u=n("5135"),c=n("861d"),m=n("9bf2").f,g=n("e893"),y=f.Symbol;if(d&&typeof y=="function"&&(!("description"in y.prototype)||y().description!==void 0)){var k={},C=function(){var h=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),w=this instanceof C?new y(h):h===void 0?y():y(h);return h===""&&(k[w]=!0),w};g(C,y);var A=C.prototype=y.prototype;A.constructor=C;var T=A.toString,$=String(y("test"))=="Symbol(test)",x=/^Symbol\((.*)\)[^)]+$/;m(A,"description",{configurable:!0,get:function(){var h=c(this)?this.valueOf():this,w=T.call(h);if(u(k,h))return"";var _=$?w.slice(7,-1):w.replace(x,"$1");return _===""?void 0:_}}),i({global:!0,forced:!0},{Symbol:C})}},e163:function(a,l,n){var i=n("5135"),d=n("7b0b"),f=n("f772"),u=n("e177"),c=f("IE_PROTO"),m=Object.prototype;a.exports=u?Object.getPrototypeOf:function(g){return g=d(g),i(g,c)?g[c]:typeof g.constructor=="function"&&g instanceof g.constructor?g.constructor.prototype:g instanceof Object?m:null}},e177:function(a,l,n){var i=n("d039");a.exports=!i(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},e260:function(a,l,n){var i=n("fc6a"),d=n("44d2"),f=n("3f8c"),u=n("69f3"),c=n("7dd0"),m="Array Iterator",g=u.set,y=u.getterFor(m);a.exports=c(Array,"Array",function(k,C){g(this,{type:m,target:i(k),index:0,kind:C})},function(){var k=y(this),C=k.target,A=k.kind,T=k.index++;return!C||T>=C.length?(k.target=void 0,{value:void 0,done:!0}):A=="keys"?{value:T,done:!1}:A=="values"?{value:C[T],done:!1}:{value:[T,C[T]],done:!1}},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},e439:function(a,l,n){var i=n("23e7"),d=n("d039"),f=n("fc6a"),u=n("06cf").f,c=n("83ab"),m=d(function(){u(1)}),g=!c||m;i({target:"Object",stat:!0,forced:g,sham:!c},{getOwnPropertyDescriptor:function(k,C){return u(f(k),C)}})},e538:function(a,l,n){var i=n("b622");l.f=i},e893:function(a,l,n){var i=n("5135"),d=n("56ef"),f=n("06cf"),u=n("9bf2");a.exports=function(c,m){for(var g=d(m),y=u.f,k=f.f,C=0;C<g.length;C++){var A=g[C];i(c,A)||y(c,A,k(m,A))}}},e8b5:function(a,l,n){var i=n("c6b6");a.exports=Array.isArray||function(f){return i(f)=="Array"}},e95a:function(a,l,n){var i=n("b622"),d=n("3f8c"),f=i("iterator"),u=Array.prototype;a.exports=function(c){return c!==void 0&&(d.Array===c||u[f]===c)}},f5df:function(a,l,n){var i=n("00ee"),d=n("c6b6"),f=n("b622"),u=f("toStringTag"),c=d(function(){return arguments}())=="Arguments",m=function(g,y){try{return g[y]}catch{}};a.exports=i?d:function(g){var y,k,C;return g===void 0?"Undefined":g===null?"Null":typeof(k=m(y=Object(g),u))=="string"?k:c?d(y):(C=d(y))=="Object"&&typeof y.callee=="function"?"Arguments":C}},f772:function(a,l,n){var i=n("5692"),d=n("90e3"),f=i("keys");a.exports=function(u){return f[u]||(f[u]=d(u))}},fb15:function(a,l,n){if(n.r(l),typeof window<"u"){var i=window.document.currentScript;{var d=n("8875");i=d(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:d})}var f=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);f&&(n.p=f[1])}n("99af"),n("4de4"),n("4160"),n("c975"),n("d81d"),n("a434"),n("159b"),n("a4d3"),n("e439"),n("dbb4"),n("b64b");function u(U,Y,re){return Y in U?Object.defineProperty(U,Y,{value:re,enumerable:!0,configurable:!0,writable:!0}):U[Y]=re,U}function c(U,Y){var re=Object.keys(U);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(U);Y&&(ve=ve.filter(function(z){return Object.getOwnPropertyDescriptor(U,z).enumerable})),re.push.apply(re,ve)}return re}function m(U){for(var Y=1;Y<arguments.length;Y++){var re=arguments[Y]!=null?arguments[Y]:{};Y%2?c(Object(re),!0).forEach(function(ve){u(U,ve,re[ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(re)):c(Object(re)).forEach(function(ve){Object.defineProperty(U,ve,Object.getOwnPropertyDescriptor(re,ve))})}return U}function g(U){if(Array.isArray(U))return U}n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");function y(U,Y){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(U)))){var re=[],ve=!0,z=!1,V=void 0;try{for(var Me=U[Symbol.iterator](),De;!(ve=(De=Me.next()).done)&&(re.push(De.value),!(Y&&re.length===Y));ve=!0);}catch(Ke){z=!0,V=Ke}finally{try{!ve&&Me.return!=null&&Me.return()}finally{if(z)throw V}}return re}}n("a630"),n("fb6a"),n("b0c0"),n("25f0");function k(U,Y){(Y==null||Y>U.length)&&(Y=U.length);for(var re=0,ve=new Array(Y);re<Y;re++)ve[re]=U[re];return ve}function C(U,Y){if(U){if(typeof U=="string")return k(U,Y);var re=Object.prototype.toString.call(U).slice(8,-1);if(re==="Object"&&U.constructor&&(re=U.constructor.name),re==="Map"||re==="Set")return Array.from(U);if(re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return k(U,Y)}}function A(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(U,Y){return g(U)||y(U,Y)||C(U,Y)||A()}function $(U){if(Array.isArray(U))return k(U)}function x(U){if(typeof Symbol<"u"&&Symbol.iterator in Object(U))return Array.from(U)}function S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(U){return $(U)||x(U)||C(U)||S()}var w=n("a352"),_=n.n(w);function b(U){U.parentElement!==null&&U.parentElement.removeChild(U)}function P(U,Y,re){var ve=re===0?U.children[0]:U.children[re-1].nextSibling;U.insertBefore(Y,ve)}var R=n("dbf1");n("13d5"),n("4fad"),n("ac1f"),n("5319");function M(U){var Y=Object.create(null);return function(ve){var z=Y[ve];return z||(Y[ve]=U(ve))}}var D=/-(\w)/g,J=M(function(U){return U.replace(D,function(Y,re){return re.toUpperCase()})});n("5db7"),n("73d9");var G=["Start","Add","Remove","Update","End"],B=["Choose","Unchoose","Sort","Filter","Clone"],X=["Move"],te=[X,G,B].flatMap(function(U){return U}).map(function(U){return"on".concat(U)}),se={manage:X,manageAndEmit:G,emit:B};function Se(U){return te.indexOf(U)!==-1}n("caad"),n("2ca0");var Ve=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function $e(U){return Ve.includes(U)}function ze(U){return["transition-group","TransitionGroup"].includes(U)}function ge(U){return["id","class","role","style"].includes(U)||U.startsWith("data-")||U.startsWith("aria-")||U.startsWith("on")}function q(U){return U.reduce(function(Y,re){var ve=T(re,2),z=ve[0],V=ve[1];return Y[z]=V,Y},{})}function we(U){var Y=U.$attrs,re=U.componentData,ve=re===void 0?{}:re,z=q(Object.entries(Y).filter(function(V){var Me=T(V,2),De=Me[0];return Me[1],ge(De)}));return m(m({},z),ve)}function Z(U){var Y=U.$attrs,re=U.callBackBuilder,ve=q(be(Y));Object.entries(re).forEach(function(V){var Me=T(V,2),De=Me[0],Ke=Me[1];se[De].forEach(function(Ae){ve["on".concat(Ae)]=Ke(Ae)})});var z="[data-draggable]".concat(ve.draggable||"");return m(m({},ve),{},{draggable:z})}function be(U){return Object.entries(U).filter(function(Y){var re=T(Y,2),ve=re[0];return re[1],!ge(ve)}).map(function(Y){var re=T(Y,2),ve=re[0],z=re[1];return[J(ve),z]}).filter(function(Y){var re=T(Y,2),ve=re[0];return re[1],!Se(ve)})}n("c740");function Ce(U,Y){if(!(U instanceof Y))throw new TypeError("Cannot call a class as a function")}function Oe(U,Y){for(var re=0;re<Y.length;re++){var ve=Y[re];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(U,ve.key,ve)}}function Xe(U,Y,re){return Y&&Oe(U.prototype,Y),re&&Oe(U,re),U}var st=function(Y){var re=Y.el;return re},I=function(Y,re){return Y.__draggable_context=re},F=function(Y){return Y.__draggable_context},ne=function(){function U(Y){var re=Y.nodes,ve=re.header,z=re.default,V=re.footer,Me=Y.root,De=Y.realList;Ce(this,U),this.defaultNodes=z,this.children=[].concat(h(ve),h(z),h(V)),this.externalComponent=Me.externalComponent,this.rootTransition=Me.transition,this.tag=Me.tag,this.realList=De}return Xe(U,[{key:"render",value:function(re,ve){var z=this.tag,V=this.children,Me=this._isRootComponent,De=Me?{default:function(){return V}}:V;return re(z,ve,De)}},{key:"updated",value:function(){var re=this.defaultNodes,ve=this.realList;re.forEach(function(z,V){I(st(z),{element:ve[V],index:V})})}},{key:"getUnderlyingVm",value:function(re){return F(re)}},{key:"getVmIndexFromDomIndex",value:function(re,ve){var z=this.defaultNodes,V=z.length,Me=ve.children,De=Me.item(re);if(De===null)return V;var Ke=F(De);if(Ke)return Ke.index;if(V===0)return 0;var Ae=st(z[0]),Le=h(Me).findIndex(function(We){return We===Ae});return re<Le?0:V}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),U}(),me=n("8bbf");function ce(U,Y){var re=U[Y];return re?re():[]}function W(U){var Y=U.$slots,re=U.realList,ve=U.getKey,z=re||[],V=["header","footer"].map(function(We){return ce(Y,We)}),Me=T(V,2),De=Me[0],Ke=Me[1],Ae=Y.item;if(!Ae)throw new Error("draggable element must have an item slot");var Le=z.flatMap(function(We,ot){return Ae({element:We,index:ot}).map(function(rt){return rt.key=ve(We),rt.props=m(m({},rt.props||{}),{},{"data-draggable":!0}),rt})});if(Le.length!==z.length)throw new Error("Item slot must have only one child");return{header:De,footer:Ke,default:Le}}function H(U){var Y=ze(U),re=!$e(U)&&!Y;return{transition:Y,externalComponent:re,tag:re?Object(me.resolveComponent)(U):Y?me.TransitionGroup:U}}function K(U){var Y=U.$slots,re=U.tag,ve=U.realList,z=U.getKey,V=W({$slots:Y,realList:ve,getKey:z}),Me=H(re);return new ne({nodes:V,root:Me,realList:ve})}function L(U,Y){var re=this;Object(me.nextTick)(function(){return re.$emit(U.toLowerCase(),Y)})}function ae(U){var Y=this;return function(re,ve){if(Y.realList!==null)return Y["onDrag".concat(U)](re,ve)}}function ee(U){var Y=this,re=ae.call(this,U);return function(ve,z){re.call(Y,ve,z),L.call(Y,U,ve)}}var le=null,ye={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(Y){return Y}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Re=["update:modelValue","change"].concat(h([].concat(h(se.manageAndEmit),h(se.emit)).map(function(U){return U.toLowerCase()}))),Fe=Object(me.defineComponent)({name:"draggable",inheritAttrs:!1,props:ye,emits:Re,data:function(){return{error:!1}},render:function(){try{this.error=!1;var Y=this.$slots,re=this.$attrs,ve=this.tag,z=this.componentData,V=this.realList,Me=this.getKey,De=K({$slots:Y,tag:ve,realList:V,getKey:Me});this.componentStructure=De;var Ke=we({$attrs:re,componentData:z});return De.render(me.h,Ke)}catch(Ae){return this.error=!0,Object(me.h)("pre",{style:{color:"red"}},Ae.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&R.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var Y=this;if(!this.error){var re=this.$attrs,ve=this.$el,z=this.componentStructure;z.updated();var V=Z({$attrs:re,callBackBuilder:{manageAndEmit:function(Ke){return ee.call(Y,Ke)},emit:function(Ke){return L.bind(Y,Ke)},manage:function(Ke){return ae.call(Y,Ke)}}}),Me=ve.nodeType===1?ve:ve.parentElement;this._sortable=new _.a(Me,V),this.targetDomElement=Me,Me.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var Y=this.list;return Y||this.modelValue},getKey:function(){var Y=this.itemKey;return typeof Y=="function"?Y:function(re){return re[Y]}}},watch:{$attrs:{handler:function(Y){var re=this._sortable;re&&be(Y).forEach(function(ve){var z=T(ve,2),V=z[0],Me=z[1];re.option(V,Me)})},deep:!0}},methods:{getUnderlyingVm:function(Y){return this.componentStructure.getUnderlyingVm(Y)||null},getUnderlyingPotencialDraggableComponent:function(Y){return Y.__draggable_component__},emitChanges:function(Y){var re=this;Object(me.nextTick)(function(){return re.$emit("change",Y)})},alterList:function(Y){if(this.list){Y(this.list);return}var re=h(this.modelValue);Y(re),this.$emit("update:modelValue",re)},spliceList:function(){var Y=arguments,re=function(z){return z.splice.apply(z,h(Y))};this.alterList(re)},updatePosition:function(Y,re){var ve=function(V){return V.splice(re,0,V.splice(Y,1)[0])};this.alterList(ve)},getRelatedContextFromMoveEvent:function(Y){var re=Y.to,ve=Y.related,z=this.getUnderlyingPotencialDraggableComponent(re);if(!z)return{component:z};var V=z.realList,Me={list:V,component:z};if(re!==ve&&V){var De=z.getUnderlyingVm(ve)||{};return m(m({},De),Me)}return Me},getVmIndexFromDomIndex:function(Y){return this.componentStructure.getVmIndexFromDomIndex(Y,this.targetDomElement)},onDragStart:function(Y){this.context=this.getUnderlyingVm(Y.item),Y.item._underlying_vm_=this.clone(this.context.element),le=Y.item},onDragAdd:function(Y){var re=Y.item._underlying_vm_;if(re!==void 0){b(Y.item);var ve=this.getVmIndexFromDomIndex(Y.newIndex);this.spliceList(ve,0,re);var z={element:re,newIndex:ve};this.emitChanges({added:z})}},onDragRemove:function(Y){if(P(this.$el,Y.item,Y.oldIndex),Y.pullMode==="clone"){b(Y.clone);return}var re=this.context,ve=re.index,z=re.element;this.spliceList(ve,1);var V={element:z,oldIndex:ve};this.emitChanges({removed:V})},onDragUpdate:function(Y){b(Y.item),P(Y.from,Y.item,Y.oldIndex);var re=this.context.index,ve=this.getVmIndexFromDomIndex(Y.newIndex);this.updatePosition(re,ve);var z={element:this.context.element,oldIndex:re,newIndex:ve};this.emitChanges({moved:z})},computeFutureIndex:function(Y,re){if(!Y.element)return 0;var ve=h(re.to.children).filter(function(De){return De.style.display!=="none"}),z=ve.indexOf(re.related),V=Y.component.getVmIndexFromDomIndex(z),Me=ve.indexOf(le)!==-1;return Me||!re.willInsertAfter?V:V+1},onDragMove:function(Y,re){var ve=this.move,z=this.realList;if(!ve||!z)return!0;var V=this.getRelatedContextFromMoveEvent(Y),Me=this.computeFutureIndex(V,Y),De=m(m({},this.context),{},{futureIndex:Me}),Ke=m(m({},Y),{},{relatedContext:V,draggedContext:De});return ve(Ke,re)},onDragEnd:function(){le=null}}}),he=Fe;l.default=he},fb6a:function(a,l,n){var i=n("23e7"),d=n("861d"),f=n("e8b5"),u=n("23cb"),c=n("50c4"),m=n("fc6a"),g=n("8418"),y=n("b622"),k=n("1dde"),C=n("ae40"),A=k("slice"),T=C("slice",{ACCESSORS:!0,0:0,1:2}),$=y("species"),x=[].slice,S=Math.max;i({target:"Array",proto:!0,forced:!A||!T},{slice:function(w,_){var b=m(this),P=c(b.length),R=u(w,P),M=u(_===void 0?P:_,P),D,J,G;if(f(b)&&(D=b.constructor,typeof D=="function"&&(D===Array||f(D.prototype))?D=void 0:d(D)&&(D=D[$],D===null&&(D=void 0)),D===Array||D===void 0))return x.call(b,R,M);for(J=new(D===void 0?Array:D)(S(M-R,0)),G=0;R<M;R++,G++)R in b&&g(J,G,b[R]);return J.length=G,J}})},fc6a:function(a,l,n){var i=n("44ad"),d=n("1d80");a.exports=function(f){return i(d(f))}},fdbc:function(a,l){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(a,l,n){var i=n("4930");a.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(eH);const NH={class:"form-group"},BH={class:"form-help"},UH={class:"form-group"},VH={class:"form-group"},HH={class:"form-group"},zH={class:"checkbox-group"},WH={class:"checkbox-item"},KH={class:"modal-footer"},GH=["disabled"],qH={key:0,class:"loading-spinner"},YH={__name:"AddPageModal",emits:["close","page-created"],setup(e,{emit:t}){const o=t,r=gt(),a=Ye({title:"",description:"",content_type:"",is_preview:!1}),l=j(!1),n=()=>{o("close")},i=fs(),d=async()=>{var u,c;if(!a.title.trim()||!a.content_type){r.warning("Please fill in all required fields");return}try{l.value=!0;const m=i.params.courseId,g=await is.addPage(m,{title:a.title.trim(),description:a.description.trim(),content_type:a.content_type,is_preview:a.is_preview});g.status==="success"?(r.success("Page created successfully"),o("page-created",g.data),f()):r.error(g.message||"Failed to create page")}catch(m){console.error("Create page error:",m);const g=((c=(u=m.response)==null?void 0:u.data)==null?void 0:c.message)||m.message||"Failed to create page. Please try again.";r.error(g)}finally{l.value=!1}},f=()=>{a.title="",a.description="",a.content_type="",a.is_preview=!1};return(u,c)=>(p(),v("div",{class:"modal-overlay",onClick:n},[s("div",{class:"modal-content",onClick:c[4]||(c[4]=Ue(()=>{},["stop"]))},[s("div",{class:"modal-header"},[c[6]||(c[6]=s("h3",{class:"modal-title"},"Add New Page",-1)),s("button",{onClick:n,class:"modal-close"},c[5]||(c[5]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("form",{onSubmit:Ue(d,["prevent"]),class:"modal-body"},[s("div",NH,[c[7]||(c[7]=s("label",{for:"page-title",class:"form-label"},"Page Title *",-1)),xe(s("input",{id:"page-title","onUpdate:modelValue":c[0]||(c[0]=m=>a.title=m),type:"text",class:"form-input",placeholder:"Enter page title",required:"",maxlength:"255"},null,512),[[Pe,a.title]]),s("p",BH,E(a.title.length)+"/255 characters",1)]),s("div",UH,[c[8]||(c[8]=s("label",{for:"page-description",class:"form-label"},"Description",-1)),xe(s("textarea",{id:"page-description","onUpdate:modelValue":c[1]||(c[1]=m=>a.description=m),class:"form-textarea",placeholder:"Enter page description (optional)",rows:"3"},null,512),[[Pe,a.description]])]),s("div",VH,[c[10]||(c[10]=s("label",{for:"page-type",class:"form-label"},"Page Type *",-1)),xe(s("select",{id:"page-type","onUpdate:modelValue":c[2]||(c[2]=m=>a.content_type=m),class:"form-select",required:""},c[9]||(c[9]=[ft('<option value="" data-v-b3f20150>Select page type</option><option value="lesson" data-v-b3f20150>Lesson</option><option value="quiz" data-v-b3f20150>Quiz</option><option value="assignment" data-v-b3f20150>Assignment</option><option value="overview" data-v-b3f20150>Overview</option>',5)]),512),[[_t,a.content_type]]),c[11]||(c[11]=s("p",{class:"form-help"},"Choose the type of content this page will contain",-1))]),s("div",HH,[c[13]||(c[13]=s("label",{class:"form-label"},"Page Settings",-1)),s("div",zH,[s("label",WH,[xe(s("input",{"onUpdate:modelValue":c[3]||(c[3]=m=>a.is_preview=m),type:"checkbox",class:"form-checkbox"},null,512),[[bs,a.is_preview]]),c[12]||(c[12]=s("span",{class:"checkbox-label"},"Allow preview (students can see this page before enrolling)",-1))])])]),s("div",KH,[s("button",{type:"button",onClick:n,class:"btn-secondary"}," Cancel "),s("button",{type:"submit",class:"btn-primary",disabled:l.value},[l.value?(p(),v("span",qH)):N("",!0),de(" "+E(l.value?"Creating...":"Create Page"),1)],8,GH)])],32)])]))}},XH=Kt(YH,[["__scopeId","data-v-b3f20150"]]);const JH={class:"modal-body"},QH={class:"widget-grid"},ZH=["onClick"],ez={class:"widget-icon"},tz={class:"widget-info"},sz={class:"widget-name"},oz={class:"widget-description"},rz={key:0,class:"widget-config"},nz={class:"config-title"},az={key:0,class:"widget-form"},lz={class:"form-group"},iz={key:1,class:"widget-form"},dz={class:"form-group"},uz={key:0,class:"upload-placeholder"},cz={key:1,class:"uploaded-file"},fz=["src","alt"],pz={class:"file-info"},mz={class:"file-name"},gz={class:"file-size"},vz={key:0,class:"error-text"},hz={class:"form-group"},yz={class:"form-group"},xz={class:"form-group"},bz={key:2,class:"widget-form"},wz={class:"form-group"},_z={class:"form-group"},Cz={class:"form-group"},kz={key:3,class:"widget-form"},$z={class:"form-group"},Sz={class:"form-group"},Ez={class:"options-list"},Az=["onUpdate:modelValue","placeholder"],Tz=["onClick"],Pz={class:"form-group"},Rz={class:"checkbox-item"},Mz={key:4,class:"widget-form"},Iz={class:"form-group"},Oz={class:"form-group"},Dz={class:"options-list"},jz=["onUpdate:modelValue","placeholder"],Lz=["onClick"],Fz={class:"form-group"},Nz={class:"checkbox-item"},Bz={key:5,class:"widget-form"},Uz={class:"form-group"},Vz={key:0,class:"upload-placeholder"},Hz={key:1,class:"uploaded-file"},zz={class:"file-info"},Wz={class:"file-name"},Kz={class:"file-size"},Gz={key:0,class:"error-text"},qz={class:"form-group"},Yz={class:"form-group"},Xz={class:"form-group"},Jz={key:6,class:"widget-form"},Qz={class:"form-group"},Zz={class:"form-group"},eW={class:"form-group"},tW={key:7,class:"widget-form"},sW={class:"form-group"},oW={class:"form-group"},rW={class:"modal-footer"},nW=["disabled"],aW={key:0,class:"loading-spinner"},lW={__name:"AddWidgetModal",props:{pageId:{type:[String,Number],required:!0}},emits:["close","widget-created"],setup(e,{emit:t}){const o=e,r=t,a=gt(),l={text:"Text Content",image:"Image",video:"Video",mcq:"Multiple Choice Question",poll:"Poll",file:"File Download",code:"Code Block",embed:"Embedded Content"},n=j(""),i=Ye({content:"",url:"",alt:"",caption:"",title:"",description:"",question:"",options:["",""],is_multiple_choice:!1,filename:"",code:"",language:"text",embed_code:""}),d=j(null),f=j(""),u=j(null),c=j(!1),m=j(""),g=j(""),y=j(null),k=j(null),C=j(!1),A=()=>{r("close")},T=ge=>{n.value=ge,x()},$=()=>{n.value="",x()},x=()=>{Object.keys(i).forEach(ge=>{ge==="options"?i[ge]=["",""]:ge==="is_multiple_choice"?i[ge]=!1:i[ge]=""}),d.value=null,f.value="",u.value=null,m.value="",g.value=""},S=()=>{i.options.length<6&&i.options.push("")},h=ge=>{i.options.length>2&&i.options.splice(ge,1)},w=()=>{y.value&&y.value.click()},_=()=>{k.value&&k.value.click()},b=ge=>{const q=ge.target.files[0];q&&R(q)},P=ge=>{c.value=!1;const q=ge.dataTransfer.files[0];q&&q.type.startsWith("image/")?R(q):m.value="Please select a valid image file"},R=ge=>{if(ge.size>10*1024*1024){m.value="Image size must be less than 10MB";return}if(!ge.type.startsWith("image/")){m.value="Please select a valid image file";return}d.value=ge,f.value=URL.createObjectURL(ge),m.value="",i.filename||(i.filename=ge.name)},M=()=>{d.value=null,f.value="",m.value="",y.value&&(y.value.value="")},D=ge=>{const q=ge.target.files[0];q&&G(q)},J=ge=>{c.value=!1;const q=ge.dataTransfer.files[0];q?G(q):g.value="Please select a valid file"},G=ge=>{if(ge.size>10*1024*1024){g.value="File size must be less than 10MB";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain","text/csv"].includes(ge.type)){g.value="Please select a valid document file (PDF, DOC, XLS, PPT, TXT)";return}u.value=ge,g.value="",i.filename||(i.filename=ge.name)},B=()=>{u.value=null,g.value="",k.value&&(k.value.value="")},X=ge=>{if(ge===0)return"0 Bytes";const q=1024,we=["Bytes","KB","MB","GB"],Z=Math.floor(Math.log(ge)/Math.log(q));return parseFloat((ge/Math.pow(q,Z)).toFixed(2))+" "+we[Z]},te=async()=>{try{if(C.value=!0,!se())return;const ge=Se();let q;ge.uploaded_file?(q=new FormData,q.append("widget_type",n.value),q.append("widget_data",JSON.stringify({...ge,uploaded_file:void 0})),q.append("file",ge.uploaded_file),q.append("order_index","0")):q={widget_type:n.value,widget_data:ge,order_index:0},console.log("Sending widget data:",{pageId:o.pageId,requestData:q,widgetType:n.value,hasFile:!!ge.uploaded_file});const we=await is.addWidget(o.pageId,q);console.log("Widget creation response:",we),we.status==="success"?(a.success("Widget added successfully"),r("widget-created",we.data),A()):a.error(we.message||"Failed to add widget")}catch(ge){console.error("Create widget error:",ge),a.error("Failed to add widget. Please try again.")}finally{C.value=!1}},se=()=>{switch(n.value){case"text":if(!i.content.trim())return a.warning("Text content is required"),!1;break;case"image":if(!d.value&&!i.url.trim())return a.warning("Please upload an image or provide an image URL"),!1;break;case"video":case"file":if(!u.value&&!i.url.trim())return a.warning("Please upload a file or provide a file URL"),!1;break;case"mcq":case"poll":if(!i.question.trim())return a.warning("Question is required"),!1;if(i.options.filter(ge=>ge.trim()).length<2)return a.warning("At least 2 options are required"),!1;break;case"code":if(!i.code.trim())return a.warning("Code content is required"),!1;break;case"embed":if(!i.embed_code.trim())return a.warning("Embed code is required"),!1;break}return!0},Se=()=>{const ge={};switch(n.value){case"text":ge.content=i.content;break;case"image":d.value?(ge.uploaded_file=d.value,ge.filename=i.filename||d.value.name):ge.url=i.url,ge.alt=i.alt,ge.caption=i.caption;break;case"video":ge.url=i.url,ge.title=i.title,ge.description=i.description;break;case"mcq":ge.question=i.question,ge.options=i.options.filter(q=>q.trim()),ge.is_multiple_choice=i.is_multiple_choice;break;case"poll":ge.question=i.question,ge.options=i.options.filter(q=>q.trim()),ge.is_multiple_choice=i.is_multiple_choice;break;case"file":u.value?(ge.uploaded_file=u.value,ge.filename=i.filename||u.value.name):(ge.url=i.url,ge.filename=i.filename),ge.description=i.description;break;case"code":ge.code=i.code,ge.language=i.language,ge.title=i.title;break;case"embed":ge.embed_code=i.embed_code,ge.title=i.title;break}return ge},Ve=ge=>({text:"fas fa-font",image:"fas fa-image",video:"fas fa-video",mcq:"fas fa-question-circle",poll:"fas fa-poll",file:"fas fa-file",code:"fas fa-code",embed:"fas fa-external-link-alt"})[ge]||"fas fa-cube",$e=ge=>({text:"Rich text content with formatting",image:"Images with captions and alt text",video:"Embed videos from various platforms",mcq:"Multiple choice questions for assessment",poll:"Interactive polls for engagement",file:"Downloadable files and documents",code:"Code blocks with syntax highlighting",embed:"Embed external content and tools"})[ge]||"Content widget",ze=ge=>l[ge]||ge;return(ge,q)=>(p(),v("div",{class:"modal-overlay",onClick:A},[s("div",{class:"modal-content",onClick:q[25]||(q[25]=Ue(()=>{},["stop"]))},[s("div",{class:"modal-header"},[q[27]||(q[27]=s("h3",{class:"modal-title"},"Add Content Widget",-1)),s("button",{onClick:A,class:"modal-close"},q[26]||(q[26]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("div",JH,[s("div",QH,[(p(),v(_e,null,Ee(l,(we,Z)=>s("div",{key:Z,class:"widget-option",onClick:be=>T(Z)},[s("div",ez,[s("i",{class:ue(Ve(Z))},null,2)]),s("div",tz,[s("h4",sz,E(we),1),s("p",oz,E($e(Z)),1)])],8,ZH)),64))]),n.value?(p(),v("div",rz,[s("h4",nz,"Configure "+E(ze(n.value)),1),n.value==="text"?(p(),v("div",az,[s("div",lz,[q[28]||(q[28]=s("label",{class:"form-label"},"Content",-1)),xe(s("textarea",{"onUpdate:modelValue":q[0]||(q[0]=we=>i.content=we),class:"form-textarea",placeholder:"Enter your text content...",rows:"6",required:""},null,512),[[Pe,i.content]])])])):n.value==="image"?(p(),v("div",iz,[s("div",dz,[q[33]||(q[33]=s("label",{class:"form-label"},"Upload Image *",-1)),s("div",{class:ue(["file-upload-area",{"has-file":d.value}]),onDragover:q[1]||(q[1]=Ue(we=>c.value=!0,["prevent"])),onDragenter:q[2]||(q[2]=Ue(we=>c.value=!0,["prevent"])),onDragleave:q[3]||(q[3]=Ue(we=>c.value=!1,["prevent"])),onDrop:Ue(P,["prevent"]),onClick:w},[d.value?(p(),v("div",cz,[s("img",{src:f.value,alt:d.value.name,class:"file-preview"},null,8,fz),s("div",pz,[s("p",mz,E(d.value.name),1),s("p",gz,E(X(d.value.size)),1),s("button",{type:"button",onClick:M,class:"remove-file-btn"},q[32]||(q[32]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):(p(),v("div",uz,[q[29]||(q[29]=s("svg",{class:"upload-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),q[30]||(q[30]=s("p",{class:"upload-text"},"Drag and drop an image here, or click to select",-1)),q[31]||(q[31]=s("p",{class:"upload-hint"},"PNG, JPG, GIF up to 10MB",-1)),s("input",{ref_key:"imageInput",ref:y,type:"file",accept:"image/*",onChange:b,class:"file-input",style:{display:"none"}},null,544)]))],34),m.value?(p(),v("p",vz,E(m.value),1)):N("",!0)]),s("div",hz,[q[34]||(q[34]=s("label",{class:"form-label"},"Or use Image URL",-1)),xe(s("input",{"onUpdate:modelValue":q[4]||(q[4]=we=>i.url=we),type:"url",class:"form-input",placeholder:"https://example.com/image.jpg"},null,512),[[Pe,i.url]])]),s("div",yz,[q[35]||(q[35]=s("label",{class:"form-label"},"Alt Text",-1)),xe(s("input",{"onUpdate:modelValue":q[5]||(q[5]=we=>i.alt=we),type:"text",class:"form-input",placeholder:"Description of the image"},null,512),[[Pe,i.alt]])]),s("div",xz,[q[36]||(q[36]=s("label",{class:"form-label"},"Caption",-1)),xe(s("input",{"onUpdate:modelValue":q[6]||(q[6]=we=>i.caption=we),type:"text",class:"form-input",placeholder:"Image caption (optional)"},null,512),[[Pe,i.caption]])])])):n.value==="video"?(p(),v("div",bz,[s("div",wz,[q[37]||(q[37]=s("label",{class:"form-label"},"Video URL *",-1)),xe(s("input",{"onUpdate:modelValue":q[7]||(q[7]=we=>i.url=we),type:"url",class:"form-input",placeholder:"https://youtube.com/watch?v=...",required:""},null,512),[[Pe,i.url]])]),s("div",_z,[q[38]||(q[38]=s("label",{class:"form-label"},"Title",-1)),xe(s("input",{"onUpdate:modelValue":q[8]||(q[8]=we=>i.title=we),type:"text",class:"form-input",placeholder:"Video title"},null,512),[[Pe,i.title]])]),s("div",Cz,[q[39]||(q[39]=s("label",{class:"form-label"},"Description",-1)),xe(s("textarea",{"onUpdate:modelValue":q[9]||(q[9]=we=>i.description=we),class:"form-textarea",placeholder:"Video description",rows:"3"},null,512),[[Pe,i.description]])])])):n.value==="mcq"?(p(),v("div",kz,[s("div",$z,[q[40]||(q[40]=s("label",{class:"form-label"},"Question *",-1)),xe(s("input",{"onUpdate:modelValue":q[10]||(q[10]=we=>i.question=we),type:"text",class:"form-input",placeholder:"Enter your question...",required:""},null,512),[[Pe,i.question]])]),s("div",Sz,[q[42]||(q[42]=s("label",{class:"form-label"},"Options *",-1)),s("div",Ez,[(p(!0),v(_e,null,Ee(i.options,(we,Z)=>(p(),v("div",{key:Z,class:"option-item"},[xe(s("input",{"onUpdate:modelValue":be=>i.options[Z]=be,type:"text",class:"form-input",placeholder:`Option ${Z+1}`,required:""},null,8,Az),[[Pe,i.options[Z]]]),i.options.length>2?(p(),v("button",{key:0,onClick:be=>h(Z),type:"button",class:"remove-option-btn"},q[41]||(q[41]=[s("i",{class:"fas fa-times"},null,-1)]),8,Tz)):N("",!0)]))),128))]),i.options.length<6?(p(),v("button",{key:0,onClick:S,type:"button",class:"btn-secondary btn-small"}," + Add Option ")):N("",!0)]),s("div",Pz,[s("label",Rz,[xe(s("input",{"onUpdate:modelValue":q[11]||(q[11]=we=>i.is_multiple_choice=we),type:"checkbox",class:"form-checkbox"},null,512),[[bs,i.is_multiple_choice]]),q[43]||(q[43]=s("span",{class:"checkbox-label"},"Allow multiple choice answers",-1))])])])):n.value==="poll"?(p(),v("div",Mz,[s("div",Iz,[q[44]||(q[44]=s("label",{class:"form-label"},"Poll Question *",-1)),xe(s("input",{"onUpdate:modelValue":q[12]||(q[12]=we=>i.question=we),type:"text",class:"form-input",placeholder:"What would you like to ask?",required:""},null,512),[[Pe,i.question]])]),s("div",Oz,[q[46]||(q[46]=s("label",{class:"form-label"},"Poll Options *",-1)),s("div",Dz,[(p(!0),v(_e,null,Ee(i.options,(we,Z)=>(p(),v("div",{key:Z,class:"option-item"},[xe(s("input",{"onUpdate:modelValue":be=>i.options[Z]=be,type:"text",class:"form-input",placeholder:`Option ${Z+1}`,required:""},null,8,jz),[[Pe,i.options[Z]]]),i.options.length>2?(p(),v("button",{key:0,onClick:be=>h(Z),type:"button",class:"remove-option-btn"},q[45]||(q[45]=[s("i",{class:"fas fa-times"},null,-1)]),8,Lz)):N("",!0)]))),128))]),i.options.length<6?(p(),v("button",{key:0,onClick:S,type:"button",class:"btn-secondary btn-small"}," + Add Option ")):N("",!0)]),s("div",Fz,[s("label",Nz,[xe(s("input",{"onUpdate:modelValue":q[13]||(q[13]=we=>i.is_multiple_choice=we),type:"checkbox",class:"form-checkbox"},null,512),[[bs,i.is_multiple_choice]]),q[47]||(q[47]=s("span",{class:"checkbox-label"},"Allow multiple choice voting",-1))])])])):n.value==="file"?(p(),v("div",Bz,[s("div",Uz,[q[53]||(q[53]=s("label",{class:"form-label"},"Upload File *",-1)),s("div",{class:ue(["file-upload-area",{"has-file":u.value}]),onDragover:q[14]||(q[14]=Ue(we=>c.value=!0,["prevent"])),onDragenter:q[15]||(q[15]=Ue(we=>c.value=!0,["prevent"])),onDragleave:q[16]||(q[16]=Ue(we=>c.value=!1,["prevent"])),onDrop:Ue(J,["prevent"]),onClick:_},[u.value?(p(),v("div",Hz,[q[52]||(q[52]=s("div",{class:"file-icon"},[s("svg",{class:"w-8 h-8 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),s("div",zz,[s("p",Wz,E(u.value.name),1),s("p",Kz,E(X(u.value.size)),1),s("button",{type:"button",onClick:B,class:"remove-file-btn"},q[51]||(q[51]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):(p(),v("div",Vz,[q[48]||(q[48]=s("svg",{class:"upload-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),q[49]||(q[49]=s("p",{class:"upload-text"},"Drag and drop a file here, or click to select",-1)),q[50]||(q[50]=s("p",{class:"upload-hint"},"PDF, DOC, XLS, PPT, TXT up to 10MB",-1)),s("input",{ref_key:"fileInput",ref:k,type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv",onChange:D,class:"file-input",style:{display:"none"}},null,544)]))],34),g.value?(p(),v("p",Gz,E(g.value),1)):N("",!0)]),s("div",qz,[q[54]||(q[54]=s("label",{class:"form-label"},"Or use File URL",-1)),xe(s("input",{"onUpdate:modelValue":q[17]||(q[17]=we=>i.url=we),type:"url",class:"form-input",placeholder:"https://example.com/file.pdf"},null,512),[[Pe,i.url]])]),s("div",Yz,[q[55]||(q[55]=s("label",{class:"form-label"},"Filename",-1)),xe(s("input",{"onUpdate:modelValue":q[18]||(q[18]=we=>i.filename=we),type:"text",class:"form-input",placeholder:"document.pdf"},null,512),[[Pe,i.filename]])]),s("div",Xz,[q[56]||(q[56]=s("label",{class:"form-label"},"Description",-1)),xe(s("textarea",{"onUpdate:modelValue":q[19]||(q[19]=we=>i.description=we),class:"form-textarea",placeholder:"File description",rows:"3"},null,512),[[Pe,i.description]])])])):n.value==="code"?(p(),v("div",Jz,[s("div",Qz,[q[57]||(q[57]=s("label",{class:"form-label"},"Code *",-1)),xe(s("textarea",{"onUpdate:modelValue":q[20]||(q[20]=we=>i.code=we),class:"form-textarea code-textarea",placeholder:"Enter your code here...",rows:"8",required:""},null,512),[[Pe,i.code]])]),s("div",Zz,[q[59]||(q[59]=s("label",{class:"form-label"},"Language",-1)),xe(s("select",{"onUpdate:modelValue":q[21]||(q[21]=we=>i.language=we),class:"form-select"},q[58]||(q[58]=[ft('<option value="text" data-v-49503ec8>Plain Text</option><option value="javascript" data-v-49503ec8>JavaScript</option><option value="python" data-v-49503ec8>Python</option><option value="java" data-v-49503ec8>Java</option><option value="cpp" data-v-49503ec8>C++</option><option value="csharp" data-v-49503ec8>C#</option><option value="php" data-v-49503ec8>PHP</option><option value="html" data-v-49503ec8>HTML</option><option value="css" data-v-49503ec8>CSS</option><option value="sql" data-v-49503ec8>SQL</option>',10)]),512),[[_t,i.language]])]),s("div",eW,[q[60]||(q[60]=s("label",{class:"form-label"},"Title",-1)),xe(s("input",{"onUpdate:modelValue":q[22]||(q[22]=we=>i.title=we),type:"text",class:"form-input",placeholder:"Code block title"},null,512),[[Pe,i.title]])])])):n.value==="embed"?(p(),v("div",tW,[s("div",sW,[q[61]||(q[61]=s("label",{class:"form-label"},"Embed Code *",-1)),xe(s("textarea",{"onUpdate:modelValue":q[23]||(q[23]=we=>i.embed_code=we),class:"form-textarea",placeholder:"<iframe src='...'></iframe>",rows:"6",required:""},null,512),[[Pe,i.embed_code]])]),s("div",oW,[q[62]||(q[62]=s("label",{class:"form-label"},"Title",-1)),xe(s("input",{"onUpdate:modelValue":q[24]||(q[24]=we=>i.title=we),type:"text",class:"form-input",placeholder:"Embed title"},null,512),[[Pe,i.title]])])])):N("",!0),s("div",rW,[s("button",{type:"button",onClick:$,class:"btn-secondary"}," Back to Widgets "),s("button",{onClick:te,class:"btn-primary",disabled:C.value},[C.value?(p(),v("span",aW)):N("",!0),de(" "+E(C.value?"Creating...":"Add Widget"),1)],8,nW)])])):N("",!0)])])]))}},iW=Kt(lW,[["__scopeId","data-v-49503ec8"]]);const dW={class:"widget-header"},uW={class:"widget-type-badge"},cW={class:"widget-content"},fW={key:0,class:"text-widget"},pW={key:0,class:"text-editor"},mW={class:"text-content"},gW={key:1,class:"image-widget"},vW={key:0,class:"image-editor"},hW=["src"],yW={key:1,class:"image-placeholder"},xW={key:2,class:"video-widget"},bW={key:0,class:"video-editor"},wW={key:0,class:"video-embed"},_W=["src"],CW={key:1,class:"video-placeholder"},kW={key:3,class:"mcq-widget"},$W={key:0,class:"mcq-editor"},SW={class:"question"},EW={__name:"ContentWidget",props:{widget:{type:Object,required:!0}},emits:["update","delete"],setup(e,{emit:t}){const o=e,r=t,a=gt(),l=j(!1),n=Ye({}),i=()=>{l.value?d():(Object.assign(n,o.widget.widget_data),l.value=!0)},d=async()=>{try{const g=await is.updateWidget(o.widget.id,{widget_data:n});g.status==="success"&&(a.success("Widget updated successfully"),r("update",o.widget.id,g.data),l.value=!1)}catch{a.error("Failed to update widget")}},f=async()=>{if(confirm("Delete this widget?"))try{await is.deleteWidget(o.widget.id),r("delete",o.widget.id),a.success("Widget deleted successfully")}catch{a.error("Failed to delete widget")}},u=g=>({text:"fas fa-font",image:"fas fa-image",video:"fas fa-video",mcq:"fas fa-question-circle",poll:"fas fa-poll",file:"fas fa-file",code:"fas fa-code",embed:"fas fa-external-link-alt"})[g]||"fas fa-cube",c=g=>({text:"Text",image:"Image",video:"Video",mcq:"MCQ",poll:"Poll",file:"File",code:"Code",embed:"Embed"})[g]||"Widget",m=g=>{var y;if(g.includes("youtube.com/watch")){const k=(y=g.split("v=")[1])==null?void 0:y.split("&")[0];return k?`https://www.youtube.com/embed/${k}`:g}return g};return(g,y)=>(p(),v("div",{class:ue(["content-widget",`widget-${e.widget.widget_type}`])},[s("div",dW,[s("div",uW,[s("i",{class:ue(u(e.widget.widget_type))},null,2),de(" "+E(c(e.widget.widget_type)),1)]),s("div",{class:"widget-actions"},[s("button",{onClick:i,class:"btn-icon",title:"Edit"},y[4]||(y[4]=[s("i",{class:"fas fa-edit"},null,-1)])),s("button",{onClick:f,class:"btn-icon text-red-500",title:"Delete"},y[5]||(y[5]=[s("i",{class:"fas fa-trash"},null,-1)]))])]),s("div",cW,[e.widget.widget_type==="text"?(p(),v("div",fW,[l.value?(p(),v("div",pW,[xe(s("textarea",{"onUpdate:modelValue":y[0]||(y[0]=k=>n.content=k),class:"text-editor-input",placeholder:"Enter your text content...",rows:"4",onBlur:d},null,544),[[Pe,n.content]])])):(p(),v("div",{key:1,class:"text-display",onClick:i},[s("div",mW,E(e.widget.widget_data.content||"Click to add text content..."),1)]))])):e.widget.widget_type==="image"?(p(),v("div",gW,[l.value?(p(),v("div",vW,[xe(s("input",{"onUpdate:modelValue":y[1]||(y[1]=k=>n.url=k),type:"url",class:"form-input",placeholder:"Image URL"},null,512),[[Pe,n.url]]),s("button",{onClick:d,class:"btn-primary"},"Save")])):(p(),v("div",{key:1,class:"image-display",onClick:i},[e.widget.widget_data.url?(p(),v("img",{key:0,src:e.widget.widget_data.url,class:"widget-image"},null,8,hW)):(p(),v("div",yW,y[6]||(y[6]=[s("i",{class:"fas fa-image"},null,-1),s("p",null,"Click to add image",-1)])))]))])):e.widget.widget_type==="video"?(p(),v("div",xW,[l.value?(p(),v("div",bW,[xe(s("input",{"onUpdate:modelValue":y[2]||(y[2]=k=>n.url=k),type:"url",class:"form-input",placeholder:"Video URL"},null,512),[[Pe,n.url]]),s("button",{onClick:d,class:"btn-primary"},"Save")])):(p(),v("div",{key:1,class:"video-display",onClick:i},[e.widget.widget_data.url?(p(),v("div",wW,[s("iframe",{src:m(e.widget.widget_data.url),frameborder:"0"},null,8,_W)])):(p(),v("div",CW,y[7]||(y[7]=[s("i",{class:"fas fa-video"},null,-1),s("p",null,"Click to add video",-1)])))]))])):e.widget.widget_type==="mcq"?(p(),v("div",kW,[l.value?(p(),v("div",$W,[xe(s("input",{"onUpdate:modelValue":y[3]||(y[3]=k=>n.question=k),type:"text",class:"form-input",placeholder:"Question"},null,512),[[Pe,n.question]]),s("button",{onClick:d,class:"btn-primary"},"Save")])):(p(),v("div",{key:1,class:"mcq-display",onClick:i},[s("h4",SW,E(e.widget.widget_data.question||"Click to add question..."),1)]))])):(p(),v("div",{key:4,class:"default-display",onClick:i},[s("p",null,"Click to edit "+E(c(e.widget.widget_type)),1)]))])],2))}},AW=Kt(EW,[["__scopeId","data-v-4694082e"]]);const TW={class:"course-builder"},PW={class:"builder-header"},RW={class:"left-section"},MW={class:"course-info"},IW={class:"course-title"},OW={class:"course-actions"},DW={class:"center-section"},jW={class:"view-mode-selector"},LW={key:0,class:"page-selector"},FW={class:"page-dropdown-container"},NW=["value"],BW={class:"builder-layout"},UW={key:0},VW={class:"panel-header"},HW={class:"course-tree"},zW=["onClick"],WW={class:"page-actions"},KW=["onClick"],GW=["onClick"],qW={class:"sections-list"},YW={class:"widget-header"},XW=["onClick"],JW=["onClick"],QW={key:1,class:"student-sidebar"},ZW={class:"search-container"},eK={class:"course-outline"},tK=["onClick"],sK={class:"section-info"},oK={class:"section-title"},rK={class:"progress-info"},nK={class:"progress-bar"},aK={class:"progress-text"},lK=["onClick"],iK={key:0,class:"section-lessons"},dK=["onClick"],uK={class:"lesson-status"},cK={key:0,class:"fas fa-check-circle completed-icon"},fK={key:1,class:"fas fa-play-circle active-icon"},pK={key:2,class:"far fa-circle pending-icon"},mK={class:"lesson-info"},gK={class:"lesson-title"},vK={key:0,class:"lesson-duration"},hK={class:"content-editor"},yK={key:0},xK={key:0,class:"page-editor"},bK={class:"page-header"},wK={class:"content-canvas"},_K={key:0,class:"widgets-container"},CK={key:1,class:"no-widgets"},kK={key:1,class:"no-page-selected"},$K={class:"empty-state"},SK={class:"text-center"},EK={key:1,class:"student-content"},AK={key:0,class:"lesson-header"},TK={class:"lesson-hero"},PK={class:"lesson-title"},RK={class:"lesson-content"},MK={key:0,class:"widgets-container student-widgets"},IK={key:0,class:"text-widget"},OK=["innerHTML"],DK={key:1,class:"video-widget"},jK={class:"video-container"},LK=["src"],FK={key:1,class:"video-placeholder"},NK={key:2,class:"image-widget"},BK=["src","alt"],UK={key:3,class:"quiz-widget"},VK={class:"quiz-container"},HK={key:0,class:"quiz-options"},zK=["name","value"],WK={key:4,class:"generic-widget"},KK={key:1,class:"no-content"},GK={class:"floating-actions"},qK=["disabled"],YK={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},XK={class:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4"},JK={class:"px-6 py-4 border-b border-gray-200"},QK={class:"text-lg font-medium text-gray-900"},ZK={class:"px-6 py-4"},eG={class:"text-gray-700"},tG={key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},sG={class:"bg-white rounded-lg shadow-xl w-full max-w-5xl mx-4 max-h-[90vh] overflow-y-auto"},oG={class:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},rG={class:"text-lg font-medium text-gray-900"},nG={class:"px-6 py-6 space-y-8"},aG={class:"px-4 py-2 border-b border-gray-200 text-sm text-gray-600"},lG={class:"p-4"},iG={key:1,class:"text-gray-600"},dG={__name:"CourseBuilder",setup(e){const t=kt(),o=fs(),r=gt(),a=j(null),l=j(null),n=j(null),i=j(!1),d=j(!1),f=j(null),u=j(!1),c=j(!1),m=j("builder"),g=j(""),y=j(new Set),k=j(!1),C=Ye({visible:!1,title:"Confirm Deletion",message:"",onConfirm:null}),A=Ne(()=>{var K,L;return(L=(K=a.value)==null?void 0:K.pages)==null?void 0:L.some(ae=>{var ee;return((ee=ae.widgets)==null?void 0:ee.length)>0})});xt(l,K=>{var L;K&&((L=a.value)!=null&&L.pages)&&$(K)}),it(async()=>{await T()});const T=async()=>{var K;try{u.value=!0;const L=await is.show(o.params.courseId);L.status==="success"&&(a.value=L.data.course,((K=a.value.pages)==null?void 0:K.length)>0&&(l.value=a.value.pages[0].id,n.value=a.value.pages[0]))}catch(L){r.error("Failed to load course"),console.error("Load course error:",L)}finally{u.value=!1}},$=K=>{var ae,ee;const L=typeof K=="string"?parseInt(K):K;if((ae=a.value)!=null&&ae.pages&&L!==l.value){const le=a.value.pages.find(ye=>ye.id===L);le&&(l.value=L,n.value=le)}else(ee=a.value)!=null&&ee.pages&&L===l.value&&(n.value=a.value.pages.find(le=>le.id===L))},x=()=>{t.push("/courses")},S=async()=>{var K,L,ae;try{if((K=a.value)!=null&&K.pages){for(const ee of a.value.pages)if(await is.updatePage(o.params.courseId,ee.id,{title:ee.title,description:ee.description,is_published:!1}),ee.widgets)for(const le of ee.widgets)await is.updateWidget(le.id,{widget_data:le.widget_data,is_active:le.is_active})}r.success("Course saved successfully")}catch(ee){console.error("Save course error:",ee),r.error("Failed to save course: "+(((ae=(L=ee.response)==null?void 0:L.data)==null?void 0:ae.message)||ee.message))}},h=()=>{if(!n.value){r.info("Select a page to preview");return}c.value=!0},w=async()=>{var K,L,ae;if(!A.value){r.warning("Course must have content before publishing");return}try{if(await S(),(K=a.value)!=null&&K.pages)for(const le of a.value.pages)le.widgets&&le.widgets.length>0&&le.widgets.some(Re=>Re.is_active&&Re.widget_data&&Object.keys(Re.widget_data).length>0)&&await is.updatePage(o.params.courseId,le.id,{is_published:!0});const ee=await is.publishCourse(o.params.courseId);ee.success?(r.success(ee.message||"Course submitted for review successfully"),await T()):r.error(ee.message||"Failed to publish course")}catch(ee){console.error("Publish course error:",ee),r.error("Failed to publish course: "+(((ae=(L=ee.response)==null?void 0:L.data)==null?void 0:ae.message)||ee.message))}},_=async()=>{if(n.value)try{await is.updatePage(o.params.courseId,n.value.id,{title:n.value.title,description:n.value.description}),r.success("Page saved successfully")}catch{r.error("Failed to save page")}},b=()=>{if(!n.value){r.info("Select a page to preview");return}c.value=!0},P=async K=>{await T(),l.value=K.id,$(K.id),i.value=!1,r.success("Page created successfully")},R=async K=>{await T(),d.value=!1,r.success("Widget added successfully")},M=async K=>{try{await is.duplicatePage(o.params.courseId,K),await T(),r.success("Page duplicated successfully")}catch{r.error("Failed to duplicate page")}},D=async K=>{te("Are you sure you want to delete this page? This action cannot be undone.",async()=>{try{await is.deletePage(o.params.courseId,K),await T(),l.value===K&&(l.value=null,n.value=null),r.success("Page deleted successfully")}catch{r.error("Failed to delete page")}})},J=async()=>{if(n.value)try{await is.updatePage(o.params.courseId,n.value.id,{title:n.value.title,description:n.value.description})}catch{r.error("Failed to update page")}},G=async(K,L)=>{try{await is.updateWidget(K,L)}catch{r.error("Failed to update widget")}},B=async K=>{try{await is.deleteWidget(K),await T(),r.success("Widget deleted successfully")}catch{r.error("Failed to delete widget")}},X=K=>{f.value=K,d.value=!0},te=(K,L)=>{C.title="Confirm Deletion",C.message=K,C.onConfirm=L,C.visible=!0},se=async(K,L=!0)=>{try{if(!K||!K.widgets||K.widgets.length===0)return;for(const ae of K.widgets)await ie.post("/progress/mark-complete",{course_id:a.value.id,page_id:K.id,widget_id:ae.id,completed:L});K.completed=L,K.widgets.forEach(ae=>{ae.completed=L}),r.success(L?"Marked as complete":"Marked as incomplete")}catch(ae){console.error("Error updating progress:",ae),r.error("Failed to update progress")}},Se=K=>K?typeof K=="string"?/^(.)\1{50,}$/.test(K)?`<p style="word-break: break-all; overflow-wrap: break-word; max-width: 100%;">${K}</p>`:`<div style="word-break: break-word; overflow-wrap: break-word; max-width: 100%; white-space: pre-wrap;">${K}</div>`:K:"No content available",Ve=(K,L=30)=>K?K.length<=L?K:K.substring(0,L)+"...":"Untitled",$e=K=>{y.value.has(K)?y.value.delete(K):y.value.add(K)},ze=()=>{k.value=!k.value},ge=K=>y.value.has(K),q=()=>{C.visible=!1,C.onConfirm=null},we=async()=>{const K=C.onConfirm;q(),typeof K=="function"&&await K()},Z=K=>({text:"fas fa-font",image:"fas fa-image",video:"fas fa-video",mcq:"fas fa-question-circle",poll:"fas fa-poll",file:"fas fa-file",code:"fas fa-code",embed:"fas fa-external-link-alt",quiz:"fas fa-clipboard-check",assignment:"fas fa-tasks"})[K]||"fas fa-cube",be=K=>({text:"Text",image:"Image",video:"Video",mcq:"MCQ",poll:"Poll",file:"File",code:"Code",embed:"Embed",quiz:"Quiz",assignment:"Assignment"})[K]||"Widget",Ce=()=>{c.value=!1},Oe={props:["widget"],template:`<div class="prose max-w-none whitespace-pre-wrap">{{ widget.widget_data?.content || '' }}</div>`},Xe={props:["widget"],template:`<img :src="widget.widget_data?.url" :alt="widget.widget_data?.alt || ''" class="max-w-full rounded" />`},st={props:["widget"],template:'<div class="aspect-video"><iframe :src="widget.widget_data?.url" frameborder="0" allowfullscreen class="w-full h-full"></iframe></div>'},I={props:["widget"],template:`<div v-html="widget.widget_data?.embed_code || ''"></div>`},F={props:["widget"],template:'<a :href="widget.widget_data?.url" target="_blank" class="text-primary-600 underline">Download file</a>'},ne={props:["widget"],template:`<pre class="bg-gray-100 rounded p-4 overflow-auto"><code>{{ widget.widget_data?.code || '' }}</code></pre>`},me={props:["widget"],template:'<div><p class="font-medium mb-2">{{ widget.widget_data?.question }}</p><ul class="list-disc ml-6"><li v-for="(opt,i) in (widget.widget_data?.options||[])" :key="i">{{ opt }}</li></ul></div>'},ce=me,W={template:'<div class="text-gray-500">Preview not available for this widget type.</div>'},H=K=>{const L=K.widget_type;return{text:Oe,image:Xe,video:st,mcq:me,poll:ce,file:F,code:ne,embed:I}[L]||W};return(K,L)=>{var ae,ee,le,ye,Re,Fe;return p(),v("div",TW,[s("div",PW,[s("div",RW,[s("button",{onClick:ze,class:"mobile-toggle-btn md:hidden"},L[14]||(L[14]=[s("i",{class:"fas fa-bars"},null,-1)])),s("div",MW,[s("h1",IW,E(((ae=a.value)==null?void 0:ae.title)||"Loading..."),1),s("div",OW,[s("button",{onClick:x,class:"btn-back"},L[15]||(L[15]=[s("i",{class:"fas fa-arrow-left"},null,-1),de(" Back to Courses ",-1)])),a.value?(p(),v("span",{key:0,class:ue(["course-status",a.value.status])},E(a.value.status),3)):N("",!0)])])]),s("div",DW,[s("div",jW,[s("button",{onClick:L[0]||(L[0]=he=>m.value="builder"),class:ue([{active:m.value==="builder"},"mode-btn"])},L[16]||(L[16]=[s("i",{class:"fas fa-edit"},null,-1),de(" Builder ",-1)]),2),s("button",{onClick:L[1]||(L[1]=he=>m.value="student"),class:ue([{active:m.value==="student"},"mode-btn"])},L[17]||(L[17]=[s("i",{class:"fas fa-eye"},null,-1),de(" Student View ",-1)]),2)]),m.value==="builder"?(p(),v("div",LW,[L[18]||(L[18]=s("span",{class:"page-label"},"Page:",-1)),s("div",FW,[xe(s("select",{"onUpdate:modelValue":L[2]||(L[2]=he=>l.value=he),onChange:L[3]||(L[3]=he=>$(he.target.value)),class:"page-dropdown"},[(p(!0),v(_e,null,Ee((ee=a.value)==null?void 0:ee.pages,he=>(p(),v("option",{key:he.id,value:he.id},E(Ve(he.title||"Untitled Page",30)),9,NW))),128))],544),[[_t,l.value]])]),s("button",{onClick:L[4]||(L[4]=he=>i.value=!0),class:"btn-primary btn-add-page"}," + Add Page ")])):N("",!0)]),s("div",{class:"right-section"},[s("button",{onClick:h,class:"btn-secondary"},L[19]||(L[19]=[s("i",{class:"fas fa-eye"},null,-1),de(" Preview ",-1)])),s("button",{onClick:S,class:"btn-secondary"},L[20]||(L[20]=[s("i",{class:"fas fa-save"},null,-1),de(" Save ",-1)])),s("button",{onClick:w,class:"btn-primary"},L[21]||(L[21]=[s("i",{class:"fas fa-rocket"},null,-1),de(" Publish ",-1)]))])]),s("div",BW,[k.value?(p(),v("div",{key:0,class:"mobile-overlay md:hidden",onClick:L[5]||(L[5]=he=>k.value=!1)})):N("",!0),s("div",{class:ue(["structure-panel",{"mobile-open":k.value}])},[m.value==="builder"?(p(),v("div",UW,[s("div",VW,[L[22]||(L[22]=s("h3",null,"Course Structure",-1)),s("button",{onClick:L[6]||(L[6]=he=>i.value=!0),class:"btn-small"}," + Page ")]),s("div",HW,[(p(!0),v(_e,null,Ee((le=a.value)==null?void 0:le.pages,he=>(p(),v("div",{key:he.id,class:"page-item"},[s("div",{class:ue(["page-header",{active:l.value===he.id}]),onClick:U=>$(he.id)},[L[25]||(L[25]=s("i",{class:"fas fa-file-alt"},null,-1)),s("span",null,E(he.title||"Untitled Page"),1),s("div",WW,[s("button",{onClick:Ue(U=>M(he.id),["stop"]),class:"btn-icon",title:"Duplicate"},L[23]||(L[23]=[s("i",{class:"fas fa-copy"},null,-1)]),8,KW),s("button",{onClick:Ue(U=>D(he.id),["stop"]),class:"btn-icon text-red-500",title:"Delete"},L[24]||(L[24]=[s("i",{class:"fas fa-trash"},null,-1)]),8,GW)])],10,zW),s("div",qW,[(p(!0),v(_e,null,Ee(he.widgets,U=>(p(),v("div",{key:U.id,class:"widget-item"},[s("div",YW,[s("i",{class:ue(Z(U.widget_type))},null,2),s("span",null,E(be(U.widget_type)),1),s("button",{onClick:Ue(Y=>B(U.id),["stop"]),class:"btn-icon text-red-500",title:"Delete"},L[26]||(L[26]=[s("i",{class:"fas fa-trash"},null,-1)]),8,XW)])]))),128)),s("button",{onClick:U=>X(he.id),class:"btn-small"}," + Widget ",8,JW)])]))),128))])])):(p(),v("div",QW,[L[28]||(L[28]=s("div",{class:"sidebar-tabs"},[s("button",{class:"tab-btn active"}," Course Outline "),s("button",{class:"tab-btn"}," Resources ")],-1)),s("div",ZW,[L[27]||(L[27]=s("i",{class:"fas fa-search search-icon"},null,-1)),xe(s("input",{"onUpdate:modelValue":L[7]||(L[7]=he=>g.value=he),type:"text",placeholder:"Search course outline",class:"search-input"},null,512),[[Pe,g.value]])]),s("div",eK,[(p(!0),v(_e,null,Ee((ye=a.value)==null?void 0:ye.pages,he=>(p(),v("div",{key:he.id,class:"outline-section"},[s("div",{class:ue(["section-header",{active:l.value===he.id,completed:he.progress===100}]),onClick:U=>$(he.id)},[s("div",sK,[s("h3",oK,E(he.title||"Untitled Page"),1),s("div",rK,[s("div",nK,[s("div",{class:"progress-fill",style:ns({width:(he.progress||0)+"%"})},null,4)]),s("span",aK,E(he.progress||0)+"%",1)])]),s("i",{class:ue(["fas section-arrow",ge(he.id)?"fa-chevron-up":"fa-chevron-down"]),onClick:Ue(U=>$e(he.id),["stop"])},null,10,lK)],10,tK),ge(he.id)?(p(),v("div",iK,[(p(!0),v(_e,null,Ee(he.widgets,U=>(p(),v("div",{key:U.id,class:ue(["lesson-item",{active:l.value===he.id,completed:U.completed}]),onClick:Y=>$(he.id)},[s("div",uK,[U.completed?(p(),v("i",cK)):l.value===he.id?(p(),v("i",fK)):(p(),v("i",pK))]),s("div",mK,[s("h4",gK,E(be(U.widget_type)),1),U.duration&&U.duration>0?(p(),v("p",vK,E(U.duration)+" min",1)):N("",!0)])],10,dK))),128))])):N("",!0)]))),128))])]))],2),s("div",hK,[m.value==="builder"?(p(),v("div",yK,[n.value?(p(),v("div",xK,[s("div",bK,[xe(s("input",{"onUpdate:modelValue":L[8]||(L[8]=he=>n.value.title=he),class:"page-title-input",placeholder:"Untitled Page",onBlur:J},null,544),[[Pe,n.value.title]]),s("div",{class:"page-actions"},[s("button",{onClick:_,class:"btn-secondary"},"Save Page"),s("button",{onClick:b,class:"btn-primary"},"Preview")])]),s("div",wK,[n.value.widgets&&n.value.widgets.length>0?(p(),v("div",_K,[(p(!0),v(_e,null,Ee(n.value.widgets,he=>(p(),v("div",{key:he.id,class:"widget-item"},[pe(AW,{widget:he,onUpdate:G,onDelete:B},null,8,["widget"])]))),128))])):(p(),v("div",CK,L[29]||(L[29]=[s("p",null,"No widgets in this page yet.",-1)]))),s("button",{onClick:L[9]||(L[9]=he=>X(n.value.id)),class:"add-widget-btn"},L[30]||(L[30]=[s("i",{class:"fas fa-plus"},null,-1),de(" Add Content ",-1)]))])])):(p(),v("div",kK,[s("div",$K,[L[31]||(L[31]=s("i",{class:"fas fa-file-alt text-4xl text-gray-400 mb-4"},null,-1)),L[32]||(L[32]=s("h3",{class:"text-xl font-medium text-gray-900 mb-2"},"No Page Selected",-1)),L[33]||(L[33]=s("p",{class:"text-gray-600 mb-4"},"Select a page from the left panel or create a new one to start building your course content.",-1)),s("div",SK,[s("button",{onClick:L[10]||(L[10]=he=>i.value=!0),class:"btn-primary"}," Create Your First Page ")])])]))])):(p(),v("div",EK,[n.value?(p(),v("div",AK,[s("div",TK,[s("h1",PK,E(n.value.title||"Untitled Page"),1)])])):N("",!0),s("div",RK,[(Re=n.value)!=null&&Re.widgets?(p(),v("div",MK,[(p(!0),v(_e,null,Ee(n.value.widgets,he=>{var U,Y,re,ve,z,V;return p(),v("div",{key:he.id,class:"content-widget"},[he.widget_type==="text"?(p(),v("div",IK,[s("div",{class:"text-content",innerHTML:Se((U=he.widget_data)==null?void 0:U.content)},null,8,OK)])):he.widget_type==="video"?(p(),v("div",DK,[s("div",jK,[(Y=he.widget_data)!=null&&Y.url?(p(),v("video",{key:0,src:he.widget_data.url,controls:"",class:"video-player"},null,8,LK)):(p(),v("div",FK,L[34]||(L[34]=[s("i",{class:"fas fa-video"},null,-1),s("p",null,"Video content will be displayed here",-1)])))])])):he.widget_type==="image"?(p(),v("div",NK,[(re=he.widget_data)!=null&&re.url?(p(),v("img",{key:0,src:he.widget_data.url,alt:((ve=he.widget_data)==null?void 0:ve.alt)||"Course image",class:"content-image"},null,8,BK)):N("",!0)])):he.widget_type==="quiz"?(p(),v("div",UK,[s("div",VK,[s("h3",null,E(((z=he.widget_data)==null?void 0:z.question)||"Quiz Question"),1),(V=he.widget_data)!=null&&V.options?(p(),v("div",HK,[(p(!0),v(_e,null,Ee(he.widget_data.options,(Me,De)=>(p(),v("label",{key:De,class:"quiz-option"},[s("input",{type:"radio",name:`quiz-${he.id}`,value:De},null,8,zK),s("span",null,E(Me),1)]))),128))])):N("",!0),L[35]||(L[35]=s("button",{class:"quiz-submit-btn"},"Submit Answer",-1))])])):(p(),v("div",WK,[s("h3",null,E(he.widget_type),1),s("pre",null,E(JSON.stringify(he.widget_data,null,2)),1)]))])}),128))])):(p(),v("div",KK,L[36]||(L[36]=[s("i",{class:"fas fa-book-open"},null,-1),s("h3",null,"No content available",-1),s("p",null,"This lesson doesn't have any content yet.",-1)])))]),s("div",GK,[L[38]||(L[38]=s("button",{class:"fab",title:"Code View"},[s("i",{class:"fas fa-code"})],-1)),s("button",{class:"fab primary",title:"Mark Complete",onClick:L[11]||(L[11]=he=>{var U;return se(n.value,!((U=n.value)!=null&&U.completed))}),disabled:!n.value},L[37]||(L[37]=[s("i",{class:"fas fa-check"},null,-1)]),8,qK),L[39]||(L[39]=s("button",{class:"fab beta",title:"Beta Features"},[s("span",null,"Beta")],-1))])]))])]),i.value?(p(),wt(XH,{key:0,onClose:L[12]||(L[12]=he=>i.value=!1),onPageCreated:P})):N("",!0),d.value?(p(),wt(iW,{key:1,"page-id":f.value,onClose:L[13]||(L[13]=he=>d.value=!1),onWidgetCreated:R},null,8,["page-id"])):N("",!0),C.visible?(p(),v("div",YK,[s("div",XK,[s("div",JK,[s("h3",QK,E(C.title),1)]),s("div",ZK,[s("p",eG,E(C.message),1)]),s("div",{class:"px-6 py-4 border-t border-gray-200 flex items-center justify-end space-x-3"},[s("button",{class:"btn-secondary",onClick:q},"Cancel"),s("button",{class:"btn-primary",onClick:we},"Confirm")])])])):N("",!0),c.value?(p(),v("div",tG,[s("div",sG,[s("div",oG,[s("h3",rG,"Preview  "+E(((Fe=n.value)==null?void 0:Fe.title)||"Untitled Page"),1),s("button",{class:"btn-secondary",onClick:Ce},"Close")]),s("div",nG,[n.value?(p(!0),v(_e,{key:0},Ee(n.value.widgets,he=>(p(),v("div",{key:he.id,class:"border border-gray-200 rounded-md"},[s("div",aG,E(be(he.widget_type)),1),s("div",lG,[(p(),wt(Jo(H(he)),{widget:he},null,8,["widget"]))])]))),128)):(p(),v("div",iG,"No page selected."))])])])):N("",!0)])}}},Tf=Kt(dG,[["__scopeId","data-v-b186be85"]]),uG=[{path:"/",name:"Home",component:b4,meta:{title:"Home"}},{path:"/login",name:"Login",component:j4,meta:{title:"Login",guest:!0}},{path:"/register",name:"Register",component:Cw,meta:{title:"Register",guest:!0}},{path:"/forgot-password",name:"ForgotPassword",component:Rw,meta:{title:"Forgot Password",guest:!0}},{path:"/verify-otp",name:"VerifyOTP",component:Qw,meta:{title:"Verify OTP",guest:!0}},{path:"/email-verification",name:"EmailVerification",component:k5,meta:{title:"Email Verification"}},{path:"/verify-email",name:"VerifyEmail",component:()=>Nt(()=>import("./VerifyEmail-461646be.js"),[]),meta:{title:"Verify Email"}},{path:"/reset-password",name:"ResetPassword",component:f5,meta:{title:"Reset Password",guest:!0}},{path:"/payment/:slug",name:"PaymentForm",component:Y5,meta:{title:"Payment",requiresAuth:!0}},{path:"/payment/success",name:"PaymentSuccess",component:I3,meta:{title:"Payment Successful"}},{path:"/payment/failed",name:"PaymentFailed",component:d6,meta:{title:"Payment Failed"}},{path:"/forum",name:"ForumTopics",component:s7,meta:{title:"Forum"}},{path:"/forum/topics/create",name:"ForumTopicCreate",component:WE,meta:{title:"Create Topic",requiresAuth:!0}},{path:"/forum/topics/:id",name:"ForumTopicDetail",component:hS,meta:{title:"Topic Detail"}},{path:"/forum/topics/:id/edit",name:"ForumTopicEdit",component:RE,meta:{title:"Edit Topic",requiresAuth:!0}},{path:"/forum/search",name:"ForumSearch",component:DA,meta:{title:"Search Results"}},{path:"/profile",name:"Profile",component:()=>Nt(()=>Promise.resolve().then(()=>hf),void 0),meta:{title:"Profile",requiresAuth:!0}},{path:"/dashboard",name:"Dashboard",component:BT,meta:{title:"Dashboard",requiresAuth:!0},beforeEnter:async(e,t,o)=>{console.log("Dashboard route: beforeEnter guard executing...");const r=Ot();if(console.log("Dashboard route: Auth state in guard:",{isAuthenticated:r.isAuthenticated,user:r.user,userRole:r.userRole,isAdmin:r.isAdmin,isInstructor:r.isInstructor,isStudent:r.isStudent}),r.isAuthenticated&&!r.user){console.log("Dashboard route: Fetching user data...");try{await r.fetchUser()}catch(a){console.error("Dashboard route: Failed to fetch user data:",a),o("/login");return}}r.isAdmin?(console.log("Dashboard route: Redirecting admin to /admin"),o("/admin")):r.isInstructor?(console.log("Dashboard route: Redirecting instructor to /instructor"),o("/instructor")):r.isStudent?(console.log("Dashboard route: Redirecting student to /student-dashboard"),o("/student-dashboard")):(console.log("Dashboard route: No specific role, staying on generic dashboard"),o())}},{path:"/courses",name:"Courses",component:PP,meta:{title:"Courses"}},{path:"/courses/list",name:"CourseList",component:dj,meta:{title:"Browse Courses"}},{path:"/courses/:slug",name:"CourseDetail",component:vI,meta:{title:"Course Detail"}},{path:"/courses/:slug/lessons",name:"CourseLessons",component:hD,meta:{title:"Course Lessons",requiresAuth:!0}},{path:"/courses/:slug/edit",name:"CourseEdit",component:tO,meta:{title:"Edit Course",requiresAuth:!0,requiresInstructor:!0}},{path:"/my-courses",name:"MyCourses",component:Vm,meta:{title:"My Learning",requiresAuth:!0}},{path:"/course-builder",name:"CourseBuilder",component:Tf,meta:{title:"Course Builder",requiresAuth:!0,requiresInstructor:!0}},{path:"/courses/:courseId/builder",name:"CourseBuilder",component:Tf,meta:{title:"Course Builder",requiresAuth:!0,requiresInstructor:!0}},{path:"/notifications",name:"Notifications",component:uF,meta:{title:"Notifications",requiresAuth:!0}},{path:"/alumni/invitation/:id",name:"AlumniInvitation",component:()=>Nt(()=>import("./AlumniInvitation-ede958ca.js"),[]),meta:{title:"Alumni Invitation",requiresAuth:!0}},{path:"/profile",name:"GeneralProfile",component:Hm,meta:{title:"Profile",requiresAuth:!0}},{path:"/admin",name:"AdminLayout",component:()=>Nt(()=>import("./AdminLayout-f87d6288.js"),[]),meta:{title:"Admin Panel",requiresAuth:!0,requiresAdmin:!0},children:[{path:"",name:"AdminDashboard",component:vN,meta:{title:"Admin Dashboard",requiresAuth:!0,requiresAdmin:!0}},{path:"users",name:"AdminUsers",component:()=>Nt(()=>import("./AdminUsers-39c1a068.js"),["assets/AdminUsers-39c1a068.js","assets/XMarkIcon-802faa26.js","assets/PlusIcon-88199c76.js"]),meta:{title:"Users Management",requiresAuth:!0,requiresAdmin:!0}},{path:"courses",name:"AdminCourses",component:()=>Nt(()=>import("./AdminCourses-7d758b1d.js"),["assets/AdminCourses-7d758b1d.js","assets/AdminCourses-e3ea0ec0.css"]),meta:{title:"Courses Management",requiresAuth:!0,requiresAdmin:!0}},{path:"categories",name:"AdminCategories",component:()=>Nt(()=>import("./AdminCategories-82ced5e7.js"),["assets/AdminCategories-82ced5e7.js","assets/XMarkIcon-802faa26.js","assets/PlusIcon-88199c76.js","assets/ChevronRightIcon-f49e6b53.js"]),meta:{title:"Categories Management",requiresAuth:!0,requiresAdmin:!0}},{path:"forum",name:"AdminForum",component:()=>Nt(()=>import("./ForumManage-31bc7ff3.js"),[]),meta:{title:"Forum Management",requiresAuth:!0,requiresAdmin:!0}},{path:"forum-categories",name:"AdminForumCategories",component:()=>Nt(()=>import("./AdminForumCategories-0d5b27a8.js"),[]),meta:{title:"Forum Categories Management",requiresAuth:!0,requiresAdmin:!0}},{path:"enrollments",name:"AdminEnrollments",component:()=>Nt(()=>import("./AdminEnrollments-2145b2f8.js"),["assets/AdminEnrollments-2145b2f8.js","assets/XMarkIcon-802faa26.js","assets/ChevronRightIcon-f49e6b53.js"]),meta:{title:"Enrollments Management",requiresAuth:!0,requiresAdmin:!0}},{path:"analytics",name:"AdminAnalytics",component:()=>Nt(()=>import("./AdminAnalytics-3145e2ad.js"),["assets/AdminAnalytics-3145e2ad.js","assets/AdminAnalytics-892c4314.css"]),meta:{title:"Analytics",requiresAuth:!0,requiresAdmin:!0}},{path:"alumni",name:"AdminAlumni",component:()=>Nt(()=>import("./AdminAlumni-8382301a.js"),["assets/AdminAlumni-8382301a.js","assets/AdminAlumni-1daf4a7c.css"]),meta:{title:"Alumni Management",requiresAuth:!0,requiresAdmin:!0}},{path:"settings",name:"AdminSettings",component:()=>Nt(()=>import("./AdminSettings-674a04bb.js"),["assets/AdminSettings-674a04bb.js","assets/AdminSettings-c19e6725.css"]),meta:{title:"Admin Settings",requiresAuth:!0,requiresAdmin:!0}}]},{path:"/instructor",component:VU,meta:{requiresAuth:!0,requiresInstructor:!0},children:[{path:"",name:"InstructorDashboard",component:AU,meta:{title:"Instructor Dashboard"}},{path:"courses",name:"InstructorCourses",component:()=>Nt(()=>Promise.resolve().then(()=>Gj),void 0),meta:{title:"My Courses"}},{path:"students",name:"InstructorStudents",component:()=>Nt(()=>import("./InstructorStudents-9bc20591.js"),[]),meta:{title:"Enrolled Students"}},{path:"create-course",name:"CourseCreate",component:()=>Nt(()=>import("./CourseCreate-7fe67ac1.js"),[]),meta:{title:"Create Course"}},{path:"create-category",name:"CategoryCreate",component:()=>Nt(()=>import("./CategoryCreate-a26bcf87.js"),[]),meta:{title:"Create Category"}},{path:"analytics",name:"InstructorAnalytics",component:()=>Nt(()=>import("./InstructorAnalytics-f488c1b3.js"),[]),meta:{title:"Analytics"}},{path:"profile",name:"Profile",component:()=>Nt(()=>Promise.resolve().then(()=>hf),void 0),meta:{title:"Profile Settings"}}]},{path:"/student-dashboard",name:"StudentDashboard",component:qV,meta:{title:"Student Dashboard",requiresAuth:!0,requiresStudent:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:QV,meta:{title:"Page Not Found"}}],s1=z2({history:x2(),routes:uG});s1.beforeEach(async(e,t,o)=>{console.log("Router guard: Navigating to",e.path),console.log("Router guard: From",t.path),document.title=e.meta.title?`${e.meta.title} - eLearning Platform`:"eLearning Platform";const r=Ot();if(console.log("Router guard: Auth state:",{isAuthenticated:r.isAuthenticated,userRole:r.userRole,isAdmin:r.isAdmin,isInstructor:r.isInstructor,isStudent:r.isStudent,user:r.user}),e.meta.requiresAuth&&!r.isAuthenticated){console.log("Router guard: Redirecting to login - not authenticated"),o("/login");return}if(e.meta.guest&&r.isAuthenticated){console.log("Router guard: Redirecting to appropriate dashboard - authenticated user on guest route"),r.isInstructor?o("/instructor"):r.isStudent?o("/student-dashboard"):r.isAdmin?o("/admin"):o("/dashboard");return}if(e.meta.requiresInstructor&&!r.isInstructor){console.log("Router guard: Redirecting to appropriate dashboard - not instructor"),console.log("Router guard: User role is:",r.userRole),console.log("Router guard: Is instructor check:",r.isInstructor),r.isStudent?o("/student-dashboard"):r.isAdmin?o("/admin"):o("/dashboard");return}if(e.meta.requiresAdmin&&!r.isAdmin){console.log("Router guard: Redirecting to appropriate dashboard - not admin"),console.log("Router guard: User role is:",r.userRole),console.log("Router guard: Is admin check:",r.isAdmin),r.isInstructor?o("/instructor"):r.isStudent?o("/student-dashboard"):o("/dashboard");return}if(e.meta.requiresStudent&&!r.isStudent){console.log("Router guard: Redirecting to appropriate dashboard - not student"),console.log("Router guard: User role is:",r.userRole),console.log("Router guard: Is student check:",r.isStudent),r.isInstructor?o("/instructor"):r.isAdmin?o("/admin"):o("/dashboard");return}if(r.isAuthenticated&&!r.user){console.log("Router guard: Fetching user data");try{await r.fetchUser()}catch(a){console.error("Error fetching user data:",a),r.logout(),o("/login");return}}console.log("Router guard: Final auth state before navigation:",{isAuthenticated:r.isAuthenticated,userRole:r.userRole,isAdmin:r.isAdmin,isInstructor:r.isInstructor,isStudent:r.isStudent,user:r.user,token:r.token}),console.log("Router guard: Allowing navigation to",e.path),o()});const cG={class:"relative"},fG={key:0,class:"absolute -top-1 -right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full"},pG={key:0,class:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50"},mG={class:"p-4 border-b border-gray-200"},gG={class:"flex items-center justify-between"},vG={class:"max-h-96 overflow-y-auto"},hG={key:0,class:"p-4 text-center"},yG={key:1,class:"p-4 text-center text-gray-500"},xG={key:2,class:"divide-y divide-gray-200"},bG=["onClick"],wG={class:"flex items-start space-x-3"},_G={class:"flex-shrink-0"},CG={class:"flex-1 min-w-0"},kG={class:"text-sm text-gray-900"},$G={class:"text-xs text-gray-500 mt-1"},SG=["onClick"],EG=["onClick"],AG={key:1,class:"text-xs text-green-600"},TG={key:0,class:"mt-2"},PG={key:0,class:"p-4 border-t border-gray-200"},RG={__name:"NotificationDropdown",setup(e){const t=kt(),o=gt(),r=j(!1),a=j(!1),l=j([]),n=j(0),i={course_enrollment:{icon:"svg",bg:"bg-green-100",color:"text-green-600",path:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},course_completion:{icon:"svg",bg:"bg-blue-100",color:"text-blue-600",path:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},new_announcement:{icon:"svg",bg:"bg-yellow-100",color:"text-yellow-600",path:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},forum_reply:{icon:"svg",bg:"bg-purple-100",color:"text-purple-600",path:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},payment_success:{icon:"svg",bg:"bg-green-100",color:"text-green-600",path:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},default:{icon:"svg",bg:"bg-gray-100",color:"text-gray-600",path:"M15 17h5l-5 5v-5zM4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"}},d=x=>i[x]||i.default,f=x=>{const S=new Date(x),w=Math.floor((new Date-S)/(1e3*60*60));return w<1?"Just now":w<24?`${w} hour${w>1?"s":""} ago`:S.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},u=()=>{r.value=!r.value,r.value&&m()},c=()=>{r.value=!1},m=async()=>{var x;a.value=!0;try{const[S,h]=await Promise.all([Qs.getAll({per_page:10}),Qs.getUnreadCount()]);S.data.data&&S.data.data.data?l.value=S.data.data.data:S.data.data?l.value=S.data.data:l.value=S.data,n.value=((x=h.data.data)==null?void 0:x.count)||0}catch(S){console.error("Error fetching notifications:",S),o.error("Failed to load notifications")}finally{a.value=!1}},g=async x=>{try{await Qs.markAsRead(x);const S=l.value.find(h=>h.id===x);S&&(S.read_at=new Date().toISOString(),n.value=Math.max(0,n.value-1)),o.success("Notification marked as read")}catch(S){console.error("Error marking notification as read:",S),o.error("Failed to mark notification as read")}},y=async()=>{try{await Qs.markAllAsRead(),l.value.forEach(x=>{x.read_at=new Date().toISOString()}),n.value=0,o.success("All notifications marked as read")}catch(x){console.error("Error marking all notifications as read:",x),o.error("Failed to mark all notifications as read")}},k=async x=>{try{await Qs.deleteNotification(x);const S=l.value.find(h=>h.id===x);S&&!S.read_at&&(n.value=Math.max(0,n.value-1)),l.value=l.value.filter(h=>h.id!==x),o.success("Notification deleted")}catch(S){console.error("Error deleting notification:",S),o.error("Failed to delete notification")}},C=x=>{console.log("Attempting to scroll to element:",x);const S=(h=1,w=5)=>{const _=document.getElementById(x);console.log(`Attempt ${h}: Element found:`,_),_?(console.log("Scrolling to element:",_),_.scrollIntoView({behavior:"smooth",block:"center"}),_.style.backgroundColor="#fef3c7",_.style.border="2px solid #f59e0b",setTimeout(()=>{_.style.backgroundColor="",_.style.border=""},3e3)):h<w?(console.log(`Element not found, retrying in ${h*200}ms...`),setTimeout(()=>S(h+1,w),h*200)):console.log("Element not found after maximum attempts")};setTimeout(()=>{S()},500)},A=async x=>{var S;if((S=x.data)!=null&&S.action_url){x.read_at||await g(x.id),c();const h=x.data.action_url;if(h.includes("#")){const[w,_]=h.split("#");t.currentRoute.value.path===w?C(_):t.push(w).then(()=>{setTimeout(()=>{C(_)},1e3)})}else t.push(h)}},T=x=>{r.value&&!x.target.closest(".relative")&&c()},$=async()=>{var x;try{const S=await Qs.getUnreadCount();n.value=((x=S.data.data)==null?void 0:x.count)||0}catch(S){console.error("Error fetching unread count:",S)}};return it(()=>{$(),document.addEventListener("click",T)}),no(()=>{document.removeEventListener("click",T)}),(x,S)=>{const h=lt("router-link");return p(),v("div",cG,[s("button",{onClick:u,class:"relative p-2 text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 rounded-md"},[S[1]||(S[1]=s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})],-1)),n.value>0?(p(),v("span",fG,E(n.value>99?"99+":n.value),1)):N("",!0)]),r.value?(p(),v("div",pG,[s("div",mG,[s("div",gG,[S[2]||(S[2]=s("h3",{class:"text-lg font-medium text-gray-900"},"Notifications",-1)),n.value>0?(p(),v("button",{key:0,onClick:y,class:"text-sm text-primary-600 hover:text-primary-700"}," Mark all as read ")):N("",!0)])]),s("div",vG,[a.value?(p(),v("div",hG,S[3]||(S[3]=[s("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"},null,-1)]))):l.value.length===0?(p(),v("div",yG,S[4]||(S[4]=[s("svg",{class:"mx-auto h-8 w-8 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})],-1),s("p",{class:"text-sm"},"No notifications",-1)]))):(p(),v("div",xG,[(p(!0),v(_e,null,Ee(l.value,w=>{var _,b;return p(),v("div",{key:w.id,class:ue(["p-4 hover:bg-gray-50 transition-colors duration-150",{"bg-blue-50":!w.read_at,"cursor-pointer":(_=w.data)==null?void 0:_.action_url}]),onClick:P=>A(w)},[s("div",wG,[s("div",_G,[s("div",{class:ue(["w-8 h-8 rounded-full flex items-center justify-center",d(w.type).bg])},[(p(),wt(Jo(d(w.type).icon),{class:ue(["w-4 h-4",d(w.type).color])},null,8,["class"]))],2)]),s("div",CG,[s("p",kG,E(w.data.message),1),s("p",$G,E(f(w.created_at)),1)]),s("div",{class:"flex-shrink-0 flex items-center space-x-1",onClick:S[0]||(S[0]=Ue(()=>{},["stop"]))},[w.read_at?N("",!0):(p(),v("button",{key:0,onClick:P=>g(w.id),class:"text-xs text-primary-600 hover:text-primary-700"}," Mark read ",8,SG)),s("button",{onClick:P=>k(w.id),class:"text-xs text-red-600 hover:text-red-700"}," Delete ",8,EG),(b=w.data)!=null&&b.action_url?(p(),v("div",AG,S[5]||(S[5]=[s("svg",{class:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1),de(" Click ",-1)]))):N("",!0)])]),w.data.action_url?(p(),v("div",TG,S[6]||(S[6]=[s("div",{class:"flex items-center text-xs text-primary-600 hover:text-primary-700"},[s("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})]),de(" Click to view reply ")],-1)]))):N("",!0)],10,bG)}),128))]))]),l.value.length>0?(p(),v("div",PG,[pe(h,{to:"/notifications",class:"text-sm text-primary-600 hover:text-primary-700 text-center block"},{default:ke(()=>S[7]||(S[7]=[de(" View all notifications ",-1)])),_:1,__:[7]})])):N("",!0)])):N("",!0),r.value?(p(),v("div",{key:1,onClick:c,class:"fixed inset-0 z-40"})):N("",!0)])}}};const MG={class:"fixed top-4 right-4 left-4 sm:left-auto z-50 space-y-2"},IG={key:0,class:"text-xs text-gray-500 bg-white p-2 rounded border"},OG={class:"p-3 sm:p-4"},DG={class:"flex items-start"},jG={class:"flex-shrink-0"},LG={key:0,class:"h-5 w-5 sm:h-6 sm:w-6 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},FG={key:1,class:"h-5 w-5 sm:h-6 sm:w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},NG={key:2,class:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},BG={key:3,class:"h-5 w-5 sm:h-6 sm:w-6 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},UG={class:"ml-1 sm:ml-3 w-0 flex-1 pt-0.5"},VG={class:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-2"},HG={class:"flex-shrink-0 flex"},zG=["onClick"],WG={key:0,class:"h-1 bg-gray-200"},KG={__name:"ToastContainer",setup(e){const{toasts:t,remove:o}=jm(),r=a=>{const l=Date.now()-a.timestamp,n=a.duration-l;return Math.max(0,Math.min(100,n/a.duration*100))};return(a,l)=>(p(),v("div",MG,[mt(t).length>0?(p(),v("div",IG," Debug: "+E(mt(t).length)+" toast(s) active ",1)):N("",!0),pe(Vd,{name:"toast",tag:"div",class:"space-y-2"},{default:ke(()=>[(p(!0),v(_e,null,Ee(mt(t),n=>(p(),v("div",{key:n.id,class:ue(["max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden",n.type==="success"?"ring-green-500":"",n.type==="error"?"ring-red-500":"",n.type==="warning"?"ring-yellow-500":"",n.type==="info"?"ring-blue-500":""])},[s("div",OG,[s("div",DG,[s("div",jG,[n.type==="success"?(p(),v("svg",LG,l[0]||(l[0]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):n.type==="error"?(p(),v("svg",FG,l[1]||(l[1]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):n.type==="warning"?(p(),v("svg",NG,l[2]||(l[2]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"},null,-1)]))):(p(),v("svg",BG,l[3]||(l[3]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])))]),s("div",UG,[s("p",VG,E(n.message),1)]),s("div",HG,[s("button",{onClick:i=>mt(o)(n.id),class:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},l[4]||(l[4]=[s("span",{class:"sr-only"},"Close",-1),s("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),8,zG)])])]),n.duration>0?(p(),v("div",WG,[s("div",{class:ue(["h-full transition-all duration-300 ease-linear",[n.type==="success"?"bg-green-500":"",n.type==="error"?"bg-red-500":"",n.type==="warning"?"bg-yellow-500":"",n.type==="info"?"bg-blue-500":""]]),style:ns({width:`${r(n)}%`})},null,6)])):N("",!0)],2))),128))]),_:1})]))}},GG=Kt(KG,[["__scopeId","data-v-1fe42926"]]),qG={id:"app",class:"min-h-screen bg-gray-50"},YG={class:"bg-white shadow-sm border-b border-gray-200 fixed top-0 left-0 right-0 z-50"},XG={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},JG={class:"flex justify-between h-16"},QG={class:"flex items-center"},ZG={class:"hidden md:flex items-center space-x-8"},eq={key:0,class:"flex items-center space-x-4"},tq={key:1,class:"flex items-center space-x-4"},sq={class:"md:hidden flex items-center"},oq={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},rq={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},nq={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},aq={key:1,class:"fixed left-0 right-0 top-16 bg-white z-50 shadow-lg md:hidden max-h-[calc(100vh-4rem)] overflow-y-auto"},lq={class:"px-2 pt-2 pb-3 space-y-1 sm:px-3"},iq={key:0,class:"space-y-1"},dq={key:1,class:"space-y-1"},uq={class:"pt-16"},cq={class:"bg-white border-t border-gray-200 mt-16"},fq={class:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8"},pq={class:"grid grid-cols-1 md:grid-cols-3 gap-8"},mq={class:"col-span-1 md:col-span-2 grid grid-cols-2 gap-8"},gq={class:"space-y-2"},vq={__name:"App",setup(e){const t=kt(),o=Ot(),r=j(!1),a=async()=>{r.value=!1,await o.logout(),t.push("/")};return(l,n)=>{const i=lt("router-link"),d=lt("router-view");return p(),v("div",qG,[s("nav",YG,[s("div",XG,[s("div",JG,[s("div",QG,[pe(i,{to:"/",class:"flex items-center space-x-2"},{default:ke(()=>n[12]||(n[12]=[s("div",{class:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1),s("span",{class:"text-xl font-bold text-gray-900"},"eLearning",-1)])),_:1,__:[12]})]),s("div",ZG,[pe(i,{to:"/",class:"text-gray-600 hover:text-gray-900"},{default:ke(()=>n[13]||(n[13]=[de("Home",-1)])),_:1,__:[13]}),pe(i,{to:"/courses",class:"text-gray-600 hover:text-gray-900"},{default:ke(()=>n[14]||(n[14]=[de("Courses",-1)])),_:1,__:[14]}),pe(i,{to:"/forum",class:"text-gray-600 hover:text-gray-900"},{default:ke(()=>n[15]||(n[15]=[de("Forum",-1)])),_:1,__:[15]}),mt(o).isAuthenticated?(p(),v("div",eq,[pe(RG),mt(o).isAdmin?(p(),wt(i,{key:0,to:"/admin",class:"text-gray-600 hover:text-gray-900"},{default:ke(()=>n[16]||(n[16]=[de(" Admin Panel ",-1)])),_:1,__:[16]})):mt(o).isInstructor?(p(),wt(i,{key:1,to:"/instructor",class:"text-gray-600 hover:text-gray-900"},{default:ke(()=>n[17]||(n[17]=[de(" Instructor Dashboard ",-1)])),_:1,__:[17]})):(p(),wt(i,{key:2,to:"/dashboard",class:"text-gray-600 hover:text-gray-900"},{default:ke(()=>n[18]||(n[18]=[de(" Dashboard ",-1)])),_:1,__:[18]})),pe(i,{to:"/my-courses",class:"text-gray-600 hover:text-gray-900"},{default:ke(()=>n[19]||(n[19]=[de("My Learning",-1)])),_:1,__:[19]}),pe(i,{to:mt(o).isInstructor?"/instructor/profile":"/profile",class:"text-gray-600 hover:text-gray-900"},{default:ke(()=>n[20]||(n[20]=[de(" Profile ",-1)])),_:1,__:[20]},8,["to"]),s("button",{onClick:a,class:"text-gray-600 hover:text-gray-900"},"Logout")])):(p(),v("div",tq,[pe(i,{to:"/login",class:"text-gray-600 hover:text-gray-900"},{default:ke(()=>n[21]||(n[21]=[de("Login",-1)])),_:1,__:[21]}),pe(i,{to:"/register",class:"btn btn-primary"},{default:ke(()=>n[22]||(n[22]=[de("Sign Up",-1)])),_:1,__:[22]})]))]),s("div",sq,[s("button",{onClick:n[0]||(n[0]=f=>r.value=!r.value),class:"text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 rounded-md p-2"},[(p(),v("svg",oq,[r.value?(p(),v("path",nq)):(p(),v("path",rq))]))])])])])]),r.value?(p(),v("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:n[1]||(n[1]=f=>r.value=!1)})):N("",!0),r.value?(p(),v("div",aq,[s("div",lq,[pe(i,{to:"/",class:"block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md",onClick:n[2]||(n[2]=f=>r.value=!1)},{default:ke(()=>n[23]||(n[23]=[de(" Home ",-1)])),_:1,__:[23]}),pe(i,{to:"/courses",class:"block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md",onClick:n[3]||(n[3]=f=>r.value=!1)},{default:ke(()=>n[24]||(n[24]=[de(" Courses ",-1)])),_:1,__:[24]}),pe(i,{to:"/forum",class:"block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md",onClick:n[4]||(n[4]=f=>r.value=!1)},{default:ke(()=>n[25]||(n[25]=[de(" Forum ",-1)])),_:1,__:[25]}),mt(o).isAuthenticated?(p(),v("div",iq,[mt(o).isAdmin?(p(),wt(i,{key:0,to:"/admin",class:"block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md",onClick:n[5]||(n[5]=f=>r.value=!1)},{default:ke(()=>n[26]||(n[26]=[de(" Admin Panel ",-1)])),_:1,__:[26]})):mt(o).isInstructor?(p(),wt(i,{key:1,to:"/instructor",class:"block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md",onClick:n[6]||(n[6]=f=>r.value=!1)},{default:ke(()=>n[27]||(n[27]=[de(" Instructor Dashboard ",-1)])),_:1,__:[27]})):(p(),wt(i,{key:2,to:"/dashboard",class:"block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md",onClick:n[7]||(n[7]=f=>r.value=!1)},{default:ke(()=>n[28]||(n[28]=[de(" Dashboard ",-1)])),_:1,__:[28]})),pe(i,{to:"/my-courses",class:"block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md",onClick:n[8]||(n[8]=f=>r.value=!1)},{default:ke(()=>n[29]||(n[29]=[de(" My Learning ",-1)])),_:1,__:[29]}),pe(i,{to:mt(o).isInstructor?"/instructor/profile":"/profile",class:"block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md",onClick:n[9]||(n[9]=f=>r.value=!1)},{default:ke(()=>n[30]||(n[30]=[de(" Profile ",-1)])),_:1,__:[30]},8,["to"]),s("button",{onClick:a,class:"block w-full text-left px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md"}," Logout ")])):(p(),v("div",dq,[pe(i,{to:"/login",class:"block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md",onClick:n[10]||(n[10]=f=>r.value=!1)},{default:ke(()=>n[31]||(n[31]=[de(" Login ",-1)])),_:1,__:[31]}),pe(i,{to:"/register",class:"block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md",onClick:n[11]||(n[11]=f=>r.value=!1)},{default:ke(()=>n[32]||(n[32]=[de(" Sign Up ",-1)])),_:1,__:[32]})]))])])):N("",!0),s("main",uq,[pe(d)]),pe(GG),s("footer",cq,[s("div",fq,[s("div",pq,[n[39]||(n[39]=ft('<div class="col-span-1"><div class="flex items-center space-x-2 mb-4"><div class="w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg></div><span class="text-xl font-bold text-gray-900">eLearning</span></div><p class="text-gray-600 mb-4"> Empowering learners worldwide with quality education and interactive learning experiences. </p><div class="flex space-x-4"><a href="#" class="text-gray-400 hover:text-gray-600"><span class="sr-only">Facebook</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd"></path></svg></a><a href="#" class="text-gray-400 hover:text-gray-600"><span class="sr-only">Twitter</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a><a href="#" class="text-gray-400 hover:text-gray-600"><span class="sr-only">LinkedIn</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" clip-rule="evenodd"></path></svg></a></div></div>',1)),s("div",mq,[s("div",null,[n[37]||(n[37]=s("h3",{class:"text-sm font-semibold text-gray-400 tracking-wider uppercase mb-4"},"Platform",-1)),s("ul",gq,[s("li",null,[pe(i,{to:"/courses",class:"text-gray-600 hover:text-gray-900"},{default:ke(()=>n[33]||(n[33]=[de("Browse Courses",-1)])),_:1,__:[33]})]),s("li",null,[pe(i,{to:"/forum",class:"text-gray-600 hover:text-gray-900"},{default:ke(()=>n[34]||(n[34]=[de("Community Forum",-1)])),_:1,__:[34]})]),n[35]||(n[35]=s("li",null,[s("a",{href:"#",class:"text-gray-600 hover:text-gray-900"},"Learning Paths")],-1)),n[36]||(n[36]=s("li",null,[s("a",{href:"#",class:"text-gray-600 hover:text-gray-900"},"Certificates")],-1))])]),n[38]||(n[38]=ft('<div><h3 class="text-sm font-semibold text-gray-400 tracking-wider uppercase mb-4">Support</h3><ul class="space-y-2"><li><a href="#" class="text-gray-600 hover:text-gray-900">Help Center</a></li><li><a href="#" class="text-gray-600 hover:text-gray-900">Contact Us</a></li><li><a href="#" class="text-gray-600 hover:text-gray-900">Privacy Policy</a></li><li><a href="#" class="text-gray-600 hover:text-gray-900">Terms of Service</a></li></ul></div>',1))])]),n[40]||(n[40]=s("div",{class:"mt-8 pt-8 border-t border-gray-200"},[s("p",{class:"text-gray-400 text-sm text-center"},"  2024 eLearning Platform. All rights reserved. ")],-1))])])])}}};const Ql=qn(vq);Ql.use(Dh());Ql.use(s1);Ql.use(Sb,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1});Ql.mount("#app");export{TU as A,OU as B,RU as C,PU as D,MU as E,_e as F,Ye as G,xt as H,mt as I,xe as J,Pe as K,_t as L,jm as M,Ar as N,df as O,bs as P,ns as Q,Tt as R,ql as S,Aa as T,ao as U,so as V,zm as W,ZV as X,$x as Y,Kt as _,gt as a,s as b,v as c,N as d,pe as e,fs as f,kt as g,lt as h,p as i,de as j,Ne as k,ft as l,xq as m,ue as n,it as o,Ee as p,Ue as q,j as r,wt as s,E as t,Ot as u,Jo as v,ke as w,vr as x,IU as y,DU as z};
